!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},r=Error().stack;r&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[r]="bd3a311a-2bfc-46a6-bdac-6a0dbe622ae1",e._sentryDebugIdIdentifier="sentry-dbid-bd3a311a-2bfc-46a6-bdac-6a0dbe622ae1")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"335618f7"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1061],{91061:(e,r,n)=>{n.d(r,{M:()=>z});var t=n(13454),a=n(20837),o=n(43952),i=n(66622),s=n(5482),l=n(60049),u=n(30758),c=n(45009),d=n(30632),p=n(75838),f=n(72813),m=n(26211),h=n(50788);function v(){var e=(0,c._)(["\n  mutation CreateAgentReplCreateRepl($input: CreateReplInput!) {\n    createRepl(input: $input, isTitleAutoGenerated: false) {\n      ... on Repl {\n        id\n        url\n        isPrivate\n        nextPagePathname\n        origin {\n          id\n          isOwner\n        }\n        source {\n          release {\n            id\n            repl {\n              id\n              title\n              owner {\n                ... on User {\n                  id\n                  username\n                }\n                ... on Team {\n                  id\n                  username\n                }\n              }\n            }\n          }\n        }\n        ...CrosisContextRepl\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return v=function(){return e},e}function _(){var e=(0,c._)(["\n  query CreateAgentReplCurrentUser {\n    currentUser {\n      id\n      isStaff: hasRole(role: REPLIT_STAFF)\n      fullName\n      username\n      ...CrosisContextCurrentUser\n      personalOrgAuthorizations {\n        ...CreateReplAuthorizations\n      }\n      replCount {\n        ... on ReplCount {\n          count\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return _=function(){return e},e}var g={},y=(0,d.J1)(v(),m.c),b=(0,d.J1)(_(),m.N,h.Ev),E=n(55195),I=n(94e3),T=n(84321),w=n(60409),A=n(51439),U=n(5846),R=n(63679),S=n(99655),P=n(82436),C=n(79261),O=n(90481),N=n(69343),F=n(39651),k=n(89133),L=n(78746),Y=n(85471),j=n(91370),D=n(7942),H=n(86848),x=n(14480),q=n(75877),V=n(87756),$=n(86587),M=n(21133),G=n(53055);function z(e){var r,n,c,d,m,h,v,_,q,V,$,z,W,J,K,Z,Q,X,ee=e.currentUser,er=(0,i._)((0,u.useState)("idle"),2),en=er[0],et=er[1],ea=(0,Y.pE)("folderId","string"),eo=(0,S.m6)(),ei=(0,F.A)().showError,es=(0,i._)((h=(0,a._)({},g,void 0),p.n(y,h)),1)[0],el=(c=(r=(0,a._)({},g,void 0),n=f.I(b,r)).data,d=n.error,m=n.loading,d?{loading:!1,currentUser:null,errorCode:500}:(null==c?void 0:c.currentUser)?{loading:!1,currentUser:c.currentUser,errorCode:null}:m?{loading:!0,currentUser:null,errorCode:null}:{loading:!1,currentUser:null,errorCode:403}).currentUser,eu=(0,x.L)(),ec=(0,l.useRouter)(),ed=(0,j.A)(),ep=(0,R._P)({controlName:"flag-killswitch-agent"}),ef=(0,R._P)({controlName:"flag-agent-onboarding-ws"}),em=(0,N.U)(),eh=(0,M._)(),ev=function(e){et("idle"),ei(e.message),E.v4(function(r){r.setTag("start-with-ai",!0),E.Cp(e)}),null==eh||eh.end()},e_=(0,N.U)(),eg=(_=(v={currentUserUsername:ee.username,currentUserEmail:ee.email}).currentUserUsername,q=v.currentUserEmail,V=(0,R._P)({controlName:"flag-repl-creation-slack-bot-events"}),$=(0,S.m6)(),z=(0,t._)(function(e){var r,n,a,o,i,l,u,c,d,p,f,m,h;return(0,s.YH)(this,function(v){switch(v.label){case 0:return r=e.prompt,n=e.uploadedFiles,a=e.attachedUrls,o=e.replId,i=e.currentUserId,l=e.orgId,u=(0,w.hV)({currentUserId:i}),c=new w.jI({clientId:u,serverId:A.wV,getEndpoint:(0,t._)(function(){var e,r;return(0,s.YH)(this,function(n){switch(n.label){case 0:return[4,(0,A.j2)(o,u,l)];case 1:return e=n.sent(),(r=new URL((0,A.qK)())).searchParams.set("auth_token",e),[2,r]}})}),onProtocolError:function(e){throw Error("Failed to send agent prompt. Protocol error: ".concat(e.message))},onRetriesExceeded:function(){throw Error("Unable to connect. Please try again later.")}}),d=(0,T.ucN)({sessionType:T.dF3.AGENT_SESSION,replId:o}),[4,c.service.createSession.rpc(d)];case 1:if(!(p=v.sent()).ok)throw Error("Failed to send agent prompt. Session creation failed.");return f=p.payload.sessionId,m=p.payload.sessionCreationEventId,h=(0,T.kT_)({session:f,parent:m,model:T.e3q.ADVANCED,sender:{id:i,membership:T.VMq.CORE},addToChild:!1,data:{kind:"message",message:r,uploadedFiles:n,attachedUrls:a,intent:T.qRv.AGENT}}),c.service.createEvent.rpc(h.request),(0,P.u4)(U.AZ.START_WITH_AI_USED,{action:"created_agent_session",prompt:r,attachments:n,attached_urls:a,repl_id:o,username:_,email:q,is_mobile:$,has_agent:!0,send_to_slack_bot:V,session_id:f,langsmith_url:(0,A.Yd)(f,T.dF3.AGENT_SESSION)}),(0,C.pI)({action:"created_new_session",sessionId:f}),[2]}})}),function(e){return z.apply(this,arguments)}),ey=(J=(W={currentUserUsername:ee.username,currentUserEmail:ee.email}).currentUserUsername,K=W.currentUserEmail,Z=(0,R._P)({controlName:"flag-repl-creation-slack-bot-events"}),Q=(0,S.m6)(),X=(0,t._)(function(e){var r,n,a,o,i,l,u,c,d,p,f,m,h,v;return(0,s.YH)(this,function(_){switch(_.label){case 0:return r=e.prompt,n=e.attachments,a=e.attachedUrls,o=e.replId,i=e.currentUserId,l=e.orgId,u=(0,w.hV)({currentUserId:i}),c=new w.jI({clientId:u,serverId:A.wV,getEndpoint:(0,t._)(function(){var e,r;return(0,s.YH)(this,function(n){switch(n.label){case 0:return[4,(0,A.j2)(o,u,l)];case 1:return e=n.sent(),(r=new URL((0,A.qK)())).searchParams.set("auth_token",e),[2,r]}})}),onProtocolError:function(e){throw Error("Failed to send agent prompt. Protocol error: ".concat(e.message))},onRetriesExceeded:function(){throw Error("Unable to connect. Please try again later.")}}),d=(0,T.ucN)({sessionType:T.dF3.REPL_CREATION_V3,replId:o}),[4,c.service.createSession.rpc(d)];case 1:if(!(p=_.sent()).ok)throw Error("Failed to send agent prompt. Session creation failed.");return f=p.payload.sessionId,m=p.payload.sessionCreationEventId,h=(0,O.j)({attachments:n,attachedUrls:a}),v=(0,T.kT_)({session:f,parent:m,model:T.e3q.ADVANCED,sender:{id:i,membership:T.VMq.CORE},addToChild:!1,data:{kind:"message",message:r,intent:T.qRv.MESSAGE_ACTION_UNKNOWN,attachedForm:{formType:T.B73.ATTACHED_FORM_TYPE_REPL_CREATION_V1,fields:h}}}),c.service.createEvent.rpc(v.request),(0,P.u4)(U.AZ.START_WITH_AI_USED,{action:"created_lobby_session",prompt:r,repl_id:o,username:J,email:K,is_mobile:Q,has_agent:!0,send_to_slack_bot:Z,session_id:f,langsmith_url:(0,A.Yd)(f,T.dF3.REPL_CREATION_V3)}),[2]}})}),function(e){return X.apply(this,arguments)}),eb=(0,I.S)();function eE(){return(eE=(0,t._)(function(e){var r,n,t,i,l,u,c,d,p,f,m,h,v,_;return(0,s.YH)(this,function(s){switch(s.label){case 0:if(r=e.prompt,n=e.attachments,t=e.attachedUrls,i=e.isPrivate,l=e.teamId,u=e.orgId,ep)return ei("This feature is currently unavailable."),et("idle"),[2];return(0,L.O7)(),[4,(0,k.u9)()];case 1:return s.sent(),et("creating_repl"),[4,es({variables:{input:{isUsingLobbySystem:e_,aiPromptText:r,aiPromptAttachmentPaths:n.map(function(e){return e.path}),folderId:ea,isPrivate:i,teamId:l,orgId:u}}})];case 2:if((c=s.sent()).errors)return ev(Error(c.errors.map(function(e){return e.message}).join(", "))),[2];if(!c.data)return ev(Error("Expected data from createRepl graphql mutation")),[2];if("message"in c.data.createRepl)return ev(Error(c.data.createRepl.message)),[2];if(d=c.data.createRepl,em||eb({prompt:r,attachments:n,replId:d.id}),!((p=n&&n.length>0)&&!em))return[3,4];return f=(0,H.O)({repl:d,currentUser:el}),(m=(0,D.Ay)({onUnrecoverableError:function(e){et("idle"),ei(e.message)}})).connect({context:f,getMinimumRetryDelayMs:eu}),et("configuring_repl"),[4,function(e){return B.apply(this,arguments)}({hasAttachments:p,attachments:n,container:m,handleError:ev})];case 3:s.sent(),s.label=4;case 4:if(s.trys.push([4,9,,10]),!e_)return[3,6];return[4,ey({prompt:r,attachments:n,attachedUrls:t,replId:d.id,currentUserId:ee.id,orgId:u})];case 5:return s.sent(),[3,8];case 6:return[4,eg({prompt:r,uploadedFiles:n.map(function(e){return{path:e.path,mimeType:e.file.type}}),attachedUrls:t,replId:d.id,currentUserId:ee.id,orgId:u})];case 7:s.sent(),s.label=8;case 8:return[3,10];case 9:return ev((h=s.sent())instanceof Error?h:Error(String(h))),[2];case 10:if(et("opening_repl"),v={enterInAgentMode:!0,agentOnboarding:(null==el?void 0:el.replCount.__typename)==="ReplCount"&&(null==el?void 0:el.replCount.count)===0&&ef},_=(0,G.q1)(d,v),!eo)return[3,11];return window.location.href=(0,G.cY)(d,v),[3,13];case 11:return[4,ec.push((0,o._)((0,a._)({},_.href),{pathname:ed}),_.as)];case 12:s.sent(),s.label=13;case 13:return et("idle"),[2]}})})).apply(this,arguments)}return{createAgentRepl:function(e){return eE.apply(this,arguments)},status:en}}function B(){return(B=(0,t._)(function(e){var r,n,t,a,o;return(0,s.YH)(this,function(i){switch(i.label){case 0:if(r=e.hasAttachments,n=e.container,t=e.attachments,a=e.handleError,!r)return[2];return o=(0,q.A)({container:n}),[4,(0,V.Zn)({parentPath:$.Ls,files:t.map(function(e){return e.file}),fs:o,onError:function(e){a(Error("Error uploading ".concat(e.path,": ").concat(e.error)))}})];case 1:return i.sent(),[2]}})})).apply(this,arguments)}},94e3:(e,r,n)=>{n.d(r,{S:()=>p});var t=n(66622),a=n(55195),o=n(20837),i=n(45009),s=n(30632),l=n(75838);function u(){var e=(0,i._)(["\n  mutation GenerateAgentReplIcon($prompt: String!, $replId: String!) {\n    generateReplIcon(input: { prompt: $prompt, replId: $replId }) {\n      ... on GenerateReplIconResult {\n        repl {\n          id\n          iconUrl\n        }\n      }\n    }\n  }\n"]);return u=function(){return e},e}var c={},d=(0,s.J1)(u());function p(){var e,r,n=(0,t._)((e={onError:function(e){a.Cp(e)}},r=(0,o._)({},c,e),l.n(d,r)),1)[0];return function(e){var r=e.prompt,t=e.attachments,a=e.replId;n({variables:{prompt:r+(t.length>0?"\n\nWith attachments: ".concat(t.map(function(e){return e.path}).join(", ")):""),replId:a}})}}},69343:(e,r,n)=>{n.d(r,{U:()=>o});var t=n(1175),a=n(63679);function o(){var e=(0,t.a)(),r=(0,a._P)({controlName:"flag-lobby-creation"});return!e&&r}},89133:(e,r,n)=>{n.d(r,{u9:()=>p,Pz:()=>c});var t=n(13454),a=n(5482),o=function(){var e=(0,t._)(function(e){var r,n,t;return(0,a.YH)(this,function(a){return r=e.dbName,n=e.version,t=e.onUpgrade,[2,new Promise(function(e,a){var o=indexedDB.open(r,n);o.onerror=function(){var e;return a(Error("Failed to open database: ".concat(null===(e=o.error)||void 0===e?void 0:e.message)))},o.onsuccess=function(){return e(o.result)},t&&(o.onupgradeneeded=function(e){var r=e.target;r instanceof IDBOpenDBRequest&&r.result?t(r.result):a(Error("Invalid target during upgrade."))})})]})});return function(r){return e.apply(this,arguments)}}(),i=function(){var e=(0,t._)(function(e){var r,n,t,o;return(0,a.YH)(this,function(a){return r=e.db,n=e.storeName,t=e.mode,o=e.operation,[2,new Promise(function(e,a){if(!r.objectStoreNames.contains(n))return a(Error('Object store "'.concat(n,'" does not exist in the database.')));var i=r.transaction([n],t),s=o(i.objectStore(n));s.onsuccess=function(){return e(s.result)},s.onerror=function(){var e;return a(Error("Transaction error: ".concat(null===(e=s.error)||void 0===e?void 0:e.message)))},i.onabort=function(){return a(Error("Transaction was aborted."))},i.onerror=function(){return a(Error("Transaction encountered an error."))}})]})});return function(r){return e.apply(this,arguments)}}(),s="LandingPageAgentAttachments",l=null,u=function(){var e=(0,t._)(function(){return(0,a.YH)(this,function(e){return l?[2,l]:[2,l=o({dbName:"ReplitAgentAttachments",version:1,onUpgrade:function(e){e.objectStoreNames.contains(s)||e.createObjectStore(s,{keyPath:"id",autoIncrement:!0})}})]})});return function(){return e.apply(this,arguments)}}(),c=function(){var e=(0,t._)(function(){return(0,a.YH)(this,function(e){switch(e.label){case 0:return[4,u()];case 1:var r;return[2,i({db:(r={db:e.sent(),storeName:s}).db,storeName:r.storeName,mode:"readonly",operation:function(e){return e.getAll()}})]}})});return function(){return e.apply(this,arguments)}}(),d=function(){var e=(0,t._)(function(){return(0,a.YH)(this,function(e){switch(e.label){case 0:return[4,u()];case 1:var r;return[2,i({db:(r={db:e.sent(),storeName:s}).db,storeName:r.storeName,mode:"readwrite",operation:function(e){return e.clear()}})]}})});return function(){return e.apply(this,arguments)}}(),p=function(){var e=(0,t._)(function(){return(0,a.YH)(this,function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,d()];case 1:return e.sent(),[3,3];case 2:return e.sent(),[2];case 3:return[2]}})});return function(){return e.apply(this,arguments)}}()},86848:(e,r,n)=>{n.d(r,{$:()=>c,O:()=>u});var t=n(20837),a=n(43952),o=n(30758),i=n(96489),s=n.n(i),l=n(63679);function u(e){var r=e.repl,n=e.currentUser,t=e.asViewer,a=e.excludeReplSlug;return{asViewer:t,repl:{__typename:"Repl",authorizations:r.authorizations,id:r.id,language:r.language,slug:a?void 0:r.slug},currentUser:n?{__typename:"CurrentUser",id:n.id,username:n.username,isSubscribed:n.isSubscribed,roles:n.roles}:void 0}}function c(e){var r=(0,l._P)({controlName:"flag-no-reload-on-repl-rename"}),n=e?u((0,a._)((0,t._)({},e),{excludeReplSlug:r})):null,i=(0,o.useRef)(n);return s()(n,i.current)||(i.current=n),i.current}},14480:(e,r,n)=>{n.d(r,{L:()=>i});var t=n(30758),a=n(186),o=n(26190);function i(){var e=(0,a.RL)(),r=(0,o.A)(e);return(0,t.useCallback)(function(){var e,n;return!Number.isFinite(n=parseInt(null==(e=r.current)?void 0:e.variation("flag-container-retry-minimum-ms",0),10))||n<0?0:n},[r])}},75877:(e,r,n)=>{n.d(r,{A:()=>w});var t={};n.r(t),n.d(t,{checkAndTrack:()=>I,ensureTrackedFile:()=>y,storeOp:()=>b});var a=n(47534),o=n(82436),i=n(13454),s=n(66622),l=n(60762),u=n(5482),c=n(68633),d=n(97285),p=n(20837),f={};function m(e,r,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.info("ot client dataloss",(0,p._)({case:r,startTime:n.startTime,opsSinceFlush:n.opsSinceFlush,whileReconnecting:n.whileReconnecting,replid:n.replId,filePath:n.filePath},t))}var h={replsList:function(){return"dataLossRepls"},replFiles:function(e){return"dataLossReplFiles".concat(e)},latestOp:function(e,r){return"dataLossLatestOp--".concat(e,"--").concat(r)},latestFlushedOp:function(e,r){return"dataLossLatestFlushed--".concat(e,"--").concat(r)},latestOwnOp:function(e,r){return"dataLosslatestOwnOp--".concat(e,"--").concat(r)},opsSinceFlush:function(e,r){return"dataLossOpsSinceFlush--".concat(e,"--").concat(r)}};function v(){var e=d.A.get(h.replsList(),"array");return e||(e=[],d.A.set(h.replsList(),e)),e}function _(e){var r=d.A.get(h.replFiles(e),"array");return r||(r=[],d.A.set(h.replFiles(e),r)),r}function g(e){var r=_(e),n=!0,t=!1,a=void 0;try{for(var o,i=r[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var s=o.value;"string"==typeof s&&function(e,r){d.A.remove(h.latestOp(e,r)),d.A.remove(h.latestFlushedOp(e,r)),d.A.remove(h.latestOwnOp(e,r));var n=_(e).filter(function(e){return e!==r});d.A.set(h.replFiles(e),n)}(e,s)}}catch(e){t=!0,a=e}finally{try{n||null==i.return||i.return()}finally{if(t)throw a}}d.A.remove(h.replFiles(e));var l=v().filter(function(r){return r!==e});d.A.set(h.replsList(),l)}function y(e){var r,n=e.replId,t=e.filePath;(r=v()).includes(n)||(r.length>20?(g(r[0]),r[0]=n):r.push(n),d.A.set(h.replsList(),r));var a=_(n);a.includes(t)||(a.length>20?(g(a[0]),a[0]=t):a.push(t),d.A.set(h.replFiles(n),a))}function b(e){var r=e.filePath,n=e.replId,t=e.opType,a=e.op;!function(e){var r=e.filePath,n=e.replId,t=e.opType,a=e.logger,o=e.isReconnecting,i=m.bind(null,a),s="".concat(n,"--").concat(r);f[s]||(f[s]={replId:n,filePath:r,timer:null,startTime:null,whileReconnecting:0,opsSinceFlush:0});var l=f[s];if("latestFlushedOp"===t){delete f[s];var u=l.startTime;if(u){var c=Date.now()-u;c>6e4&&i("flush_delay_received",l,{elapsed:c})}var d=l.timer;d&&(clearTimeout(d),l.timer=null)}else{l.opsSinceFlush+=1,o&&(l.whileReconnecting+=1);var p,h=null!==(p=l.startTime)&&void 0!==p?p:Date.now();l.startTime=h,l.timer||(l.timer=setTimeout(function(){i("flush_delay_timeout",l)},6e4)),150===l.opsSinceFlush?i("flush_delay_small",l):1e3===l.opsSinceFlush&&i("flush_delay_large",l)}}({filePath:r,replId:n,opType:t,logger:e.logger,isReconnecting:e.isReconnecting}),d.A.set(h[t](n,r),a)}var E={};function I(e){return T.apply(this,arguments)}function T(){return(T=(0,i._)(function(e){var r,n,t,a,o,p,f,m;return(0,u.YH)(this,function(v){var _;return r=e.filePath,n=e.replId,t=e.serverVersion,a=e.serverContent,o=e.fetchOps,p=e.logger,E[r+n]||(E[r+n]=!0,f=function(e,r){var n={latestOp:null,latestFlushedOp:null,latestOwnOp:null},t=Object.keys(n),a=!0,o=!1,i=void 0;try{for(var s,u=t[Symbol.iterator]();!(a=(s=u.next()).done);a=!0){var c=s.value,p=d.A.get(h[c](e,r),"object");p&&p&&(void 0===p?"undefined":(0,l._)(p))==="object"&&"number"==typeof p.crc32&&"number"==typeof p.version&&(n[c]=p)}}catch(e){o=!0,i=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw i}}return n}(n,r),m=c.str(a)>>>0,Object.keys(f).forEach((_=(0,i._)(function(e){var r,n,a;return(0,u.YH)(this,function(i){switch(i.label){case 0:if(!(r=f[e]))return[2];if(t<r.version)return p.info("ot client dataloss",{opType:e,case:"server_forgot"}),[2];if(t===r.version)return m!==r.crc32&&p.info("ot client dataloss",{opType:e,case:"crc32_mismatch"}),[2];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,o(r.version,r.version)];case 2:return n=s._.apply(void 0,[i.sent(),1])[0],[3,4];case 3:return a=i.sent(),p.info("ot client dataloss",{opType:e,case:"error_fetching_op",originalError:String(a)}),[2];case 4:if(!n)return p.info("ot client dataloss",{opType:e,case:"op_not_found"}),[2];return n.crc32!==r.crc32&&p.info("ot client dataloss",{opType:e,case:"crc32_mismatch"}),[2]}})}),function(e){return _.apply(this,arguments)}))),[2]})})).apply(this,arguments)}function w(e){var r=e.container;return(0,a.Ay)({container:r,dataloss:t,track:o.u4})}},90481:(e,r,n)=>{n.d(r,{j:()=>s,k:()=>i});var t=n(20837),a=n(43952),o=n(27189),i=function(e,r){var n=new Map;if(e){var i=!0,s=!1,l=void 0;try{for(var u,c=e[Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var d=u.value;if("attachments"===d.path&&(null===(p=d.formType)||void 0===p?void 0:p.$kind)==="files"){var p,f,m=n.get("attachments");if((null==m?void 0:null===(f=m.formType)||void 0===f?void 0:f.$kind)==="files"){var h=(0,a._)((0,t._)({},d),{formType:(0,a._)((0,t._)({},d.formType),{files:(0,a._)((0,t._)({},d.formType.files),{files:(0,o._)(m.formType.files.files).concat((0,o._)(d.formType.files.files))})})});n.set(d.path,h);continue}}n.set(d.path,d)}}catch(e){s=!0,l=e}finally{try{i||null==c.return||c.return()}finally{if(s)throw l}}}var v=!0,_=!1,g=void 0;try{for(var y,b=r[Symbol.iterator]();!(v=(y=b.next()).done);v=!0){var E=y.value;if("attachments"===E.path&&(null===(I=E.formType)||void 0===I?void 0:I.$kind)==="files"){var I,T,w=n.get("attachments");if((null==w?void 0:null===(T=w.formType)||void 0===T?void 0:T.$kind)==="files"){var A=(0,a._)((0,t._)({},E),{formType:(0,a._)((0,t._)({},E.formType),{files:(0,a._)((0,t._)({},E.formType.files),{files:(0,o._)(w.formType.files.files).concat((0,o._)(E.formType.files.files))})})});n.set(E.path,A);continue}}n.set(E.path,E)}}catch(e){_=!0,g=e}finally{try{v||null==b.return||b.return()}finally{if(_)throw g}}return Array.from(n.values())},s=function(e){var r=e.attachments,n=e.attachedUrls;return(0,o._)(r.filter(function(e){return!!e.publicUrl}).map(function(e){return{path:"attachments",formType:{files:{files:[{name:e.file.name,url:e.publicUrl,mimeType:e.file.type}]},$kind:"files"}}})).concat((0,o._)(n.map(function(e){return{path:"attachedUrls",formType:{files:{files:[{name:e.url,url:e.url,mimeType:"url/".concat(e.intent)}]},$kind:"files"}}})))}}}]);
//# sourceMappingURL=1061-cb404bd5e45bf991.js.map