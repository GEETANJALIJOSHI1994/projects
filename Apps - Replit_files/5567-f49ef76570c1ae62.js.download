!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="ccb92a35-68f3-4b04-850a-1b7b314844d7",e._sentryDebugIdIdentifier="sentry-dbid-ccb92a35-68f3-4b04-850a-1b7b314844d7")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"335618f7"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5567],{51439:(e,t,n)=>{n.d(t,{ay:()=>nb,RB:()=>nd,pF:()=>np,g$:()=>nu,Ly:()=>eZ,wV:()=>G,K6:()=>nl,a:()=>ns,JY:()=>ng,MZ:()=>nm,C3:()=>nv,Wd:()=>nh,BP:()=>nf,KH:()=>rD,ic:()=>ny,xI:()=>ni,j2:()=>I,Ku:()=>v,Yd:()=>iy,Ds:()=>iU,nv:()=>iE,Nn:()=>nc,qK:()=>m,ol:()=>ic,Vv:()=>iv,_h:()=>eA,lJ:()=>c,WQ:()=>h,Rk:()=>rC,QL:()=>eH,Sw:()=>ry,BS:()=>rU,Yg:()=>n2,R6:()=>n4,Ff:()=>rr,p2:()=>n5,hT:()=>nW,GX:()=>nq,e2:()=>rZ,ET:()=>nZ,dt:()=>ri,Au:()=>rN,ou:()=>rA,te:()=>tt,dm:()=>rQ,k:()=>rJ,Aj:()=>r$,Lh:()=>rL,a0:()=>rK,K2:()=>id,vm:()=>ip,BN:()=>tb,NC:()=>X,uG:()=>rh,UK:()=>eN,Ro:()=>rT,oz:()=>tI,Nv:()=>ih,M$:()=>re,Al:()=>tN,jJ:()=>tB,Y9:()=>t5,q9:()=>rt,Ih:()=>ro,PQ:()=>nD,rE:()=>tQ,nt:()=>t3,Z2:()=>te,WS:()=>tm,Vg:()=>t7,lf:()=>e6,c2:()=>eM,hX:()=>n7,Nx:()=>r4,Sg:()=>ig,BW:()=>r1,FS:()=>r0,Wm:()=>rX,Jc:()=>r3,gp:()=>r7,R9:()=>rM,PP:()=>rE,Gk:()=>eQ,Tt:()=>rO,q4:()=>eJ,OI:()=>eX,Jn:()=>rc,uz:()=>rd,rM:()=>rp,ey:()=>tU,JB:()=>n1,l_:()=>nN,D8:()=>nk,dN:()=>nT,J_:()=>nR,xj:()=>rI,mA:()=>nG,rF:()=>nH,H_:()=>t$,uY:()=>tY,z_:()=>tM,gv:()=>tj,NX:()=>tL,vX:()=>tF,ac:()=>tV,nG:()=>rv,EW:()=>rf,hM:()=>tf,sS:()=>tp,or:()=>td,Dq:()=>e8,Zl:()=>nM,V9:()=>rx,E8:()=>ra,Yt:()=>nj,tS:()=>rG,ql:()=>tG,nY:()=>n3,dp:()=>tX,pq:()=>rH,Az:()=>rV,CH:()=>rz,iW:()=>rW,ib:()=>rq,d8:()=>rB,C6:()=>tP,QV:()=>eC,qO:()=>n0,oh:()=>nX,jt:()=>n8,mi:()=>n9,D2:()=>tw,GS:()=>t4,Nd:()=>tR,jX:()=>r_,xr:()=>rm,dI:()=>J});var r=n(13454),i=n(5482),a=n(49711),o=n(81433),s=n.n(o),l=n(55195),c=function(){var e=window.location.hostname;return e.includes("replit.com")&&!e.includes("staging.replit.com")},u=n(78452),d=n(97285),p=n(68558),f="ghostwriter-chat-env",v=p.env.CHAT_SERVICE_OVERRIDE,g=d.A.get(f,"string"),m=function(){return v||g||(c()?u.B.production:u.B.staging)};function h(e){d.A.set(f,e)}function b(e,t){var n=Error(e);return l.v4(function(e){e.setTag("ai-chat",!0),t&&e.setExtras(t),l.Cp(n)}),n}function y(e){"UNEXPECTED_DISCONNECT"!==e.code&&b(e.message,{code:e.code})}var U=n(40174),E=n(45038),S=(U.ZU.Object({replId:U.ZU.Union([U.ZU.String(),U.ZU.Null()]),orgId:U.ZU.Optional(U.ZU.String())}),U.ZU.Object({userId:U.ZU.Number(),orgId:U.ZU.Optional(U.ZU.String())}),U.ZU.Object({token:U.ZU.String()})),C=U.ZU.Object({isAuthorized:U.ZU.Literal(!0),code:U.ZU.Literal("authorized"),message:U.ZU.String()}),_=U.ZU.Object({isAuthorized:U.ZU.Literal(!1),code:U.ZU.Union([U.ZU.Literal("feature_disabled"),U.ZU.Literal("feature_unsupported_for_non_teams"),U.ZU.Literal("feature_unsupported_for_replit_teams"),U.ZU.Literal("feature_unsupported_for_teams_edu"),U.ZU.Literal("feature_unsupported_for_teams_pro"),U.ZU.Literal("feature_unsupported_for_teams_free"),U.ZU.Literal("insufficient_permissions"),U.ZU.Literal("insufficient_quota"),U.ZU.Literal("insufficient_budget"),U.ZU.Literal("requires_payment_method"),U.ZU.Literal("requires_active_subscription")]),message:U.ZU.String()}),Z=U.ZU.Union([C,_]);function x(){return(x=(0,r._)(function(e,t){var n;return(0,i.YH)(this,function(r){switch(r.label){case 0:return[4,fetch("/ai/auth",{method:"POST",credentials:"same-origin",headers:{"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest"},body:JSON.stringify({replId:e,orgId:t})})];case 1:return[4,r.sent().json()];case 2:if(n=r.sent(),!a.WT.Check(S,n))throw b("Authentication to chat service failed",{detail:n});return[2,n.token]}})})).apply(this,arguments)}U.ZU.Object({basicModel:Z,advancedModel:Z,paidAgent:Z,freeAgent:Z,basicAssistant:Z,advancedAssistant:Z});var w={minutes:30},A={},k=new(s());function I(e,t,n){return T.apply(this,arguments)}function T(){return(T=(0,r._)(function(e,t,n){return(0,i.YH)(this,function(a){return[2,k.acquire(null!=e?e:"non-repl-key",(0,r._)(function(){var r,a,o;return(0,i.YH)(this,function(i){switch(i.label){case 0:if((r=A[t])&&new Date().getTime()<r.expiration)return[2,r.token];return[4,function(e,t){return x.apply(this,arguments)}(e,n)];case 1:return a=i.sent(),o=new Date().getTime()+6e4*w.minutes,A[t]={token:a,expiration:o},[2,a]}})}))]})})).apply(this,arguments)}var O=n(66622),R=n(94086),D=n(30758),N=n(8143),P=n(99813),L=n(84321),M=n(75895);function j(e){var t,n,r,a,o,s,l,c,u,d,p,f,v,g,m,h,b;return(0,i.YH)(this,function(i){switch(i.label){case 0:t=e.parentId,n=e.parentToActiveChild,r=e.events,a=t,i.label=1;case 1:if(!a||!(o=r.byParentId.get(a)))return[3,5];if(!(s=n.get(a)))return[3,3];if(!(l=r.byId.get(s)))return[3,5];return[4,l];case 2:return i.sent(),a=l.id,[3,1];case 3:c=[],u=!0,d=!1,p=void 0;try{for(f=o[Symbol.iterator]();!(u=(v=f.next()).done);u=!0)g=v.value,(m=r.byId.get(g))&&c.push(m)}catch(e){d=!0,p=e}finally{try{u||null==f.return||f.return()}finally{if(d)throw p}}if(!(s=(h=c.sort(function(e,t){return e.created.getTime()-t.created.getTime()}).map(function(e){return e.id}))[h.length-1]))throw Error("Expected id");if(!(b=r.byId.get(s)))return[3,5];return[4,b];case 4:return i.sent(),a=b.id,[3,1];case 5:return[2]}})}function F(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a,o=j(e)[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;t.push(s.id)}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t}var Y=n(26190),$=n(21980),H=n(65640),G="SERVER",B=window.location.search.includes("aiChatDebug=1"),W=function(e,t,n){var r;B&&H[null!=n?n:"info"]("[ai-chat]"+e,t),$.vF[null!=n?n:"info"](e,{river:t,riverTarget:"ai-chat",riverVersion:L.E_}),(null==t?void 0:null===(r=t.tags)||void 0===r?void 0:r.includes("invariant-violation"))&&l.v4(function(n){n.setTag("ai-chat",!0),n.setExtras(t),l.Cp(Error(e))})},q=n(72653),z=n(48363),V=n(8697),K=(0,D.createContext)(null);function Q(e){var t=(0,D.useMemo)(function(){return{store:e.store,yapper:e.yapper}},[e.store,e.yapper]);return(0,R.Y)(K.Provider,{value:t,children:e.children})}function J(){var e=(0,D.useContext)(K);if(!e)throw Error("Expected Yapper in context");return e.yapper}function X(){var e=(0,D.useContext)(K);if(!e)throw Error("Expected Yapper in context");return e.yapper.chatter()}function ee(){var e=(0,D.useContext)(K);if(!e)throw Error("Expected store in context");return e.store}function et(e){return(0,q.md)(e,{store:ee()})}function en(e){return(0,V.k)(e,ee())}var er=function(e){return(0,q.Xr)(e,{store:ee()})};function ei(e){return(0,z.yF)((0,D.useCallback)(function(t){return t(e)},[e]),{store:ee()})}var ea=n(20837),eo=n(43952),es=n(27189),el=n(96489),ec=n.n(el),eu=n(51297),ed=n(11571),ep=n(65640),ef=!!window.location.search.includes("aiChatStateDebug=1"),ev=(0,P.eU)(null,function(e,t,n){var r=n.label,i=n.payload;ef&&ep.log("aiChatState:",r,i)}),eg=n(84688);function em(e){var t;return(null==e?void 0:null===(t=e.contents.contents)||void 0===t?void 0:t.$kind)==="messageEventContents"?null==e?void 0:e.contents.contents.messageEventContents.extraActions:null}function eh(e){var t;return(null==e?void 0:null===(t=e.contents.contents)||void 0===t?void 0:t.$kind)==="messageEventContents"?null==e?void 0:e.contents.contents.messageEventContents.intent:null}function eb(e){if((0,L.VFn)(null==e?void 0:e.contents.contents,"messageEventContents")){var t=e.contents.contents.messageEventContents.sources;if(null==t)return null;var n=t.slice().sort(function(e,t){return e.url.localeCompare(t.url)});return(0,eg.Qq)(n,"url")}return null}function ey(e){return(0,L.VFn)(null==e?void 0:e.contents.contents,"messageEventContents")?(0,L.QNh)(e.contents.contents).assistantProposedActions:null}var eU=(0,P.eU)(new Map),eE=(0,P.eU)({byId:new Map,byParentId:new Map,bySessionId:new Map});function eS(e){return(0,D.useMemo)(function(){return(0,P.eU)(function(t){var n;return e&&null!==(n=t(eU).get(e))&&void 0!==n?n:null})},[e])}function eC(e){return et(eS(e))}function e_(e,t,n){var r=[],i=!0,a=!1,o=void 0;try{for(var s,l=j({parentId:e.sessionCreationEventId,parentToActiveChild:n,events:t})[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value,u=function(e){var t=e.contents.contents;switch(null==t?void 0:t.$kind){case"benchmarkConclusion":return"benchmarkConclusion";case"messageEventContents":case"inlineActionEventContents":return e.sender.type===L.utd.USER?"userMessage":"aiMessage";case"iterativeAgentEventContents":return"iterativeAgentAction";default:return null}}(c);u&&r.push([c,u])}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return r}var eZ=[L.dF3.AGENT_SESSION,L.dF3.AGENT_REPLAY_SESSION],ex=[L.dF3.CHAT],ew=(0,es._)(eZ).concat((0,es._)(ex));function eA(e){return!!e&&eZ.includes(e.sessionType)}function ek(e){return!!e&&ex.includes(e.sessionType)}var eI=RegExp(".*?```([a-zA-Z0-9+#]+)\\n(.*?)(?:$|\\n$|\\n`$|\\n``$|\\n```)","gs"),eT=function(e,t){for(var n,r=[];null!==(n=eI.exec(e));){var i=n[1],a=n[2];if(!1===t){var o=a.substring(0,a.lastIndexOf("\n"));r.push({language:i,code:o})}else r.push({language:i,code:a})}return r},eO=n(79261);function eR(e,t,n){return(0,D.useMemo)(function(){return(0,P.eU)(function(r){var i=e?r(eU).get(e):null;return i?e_(i,r(eE),t).filter(function(e){var t,r=(0,O._)(e,2),i=r[0];return!!["aiMessage","userMessage","iterativeAgentAction"].includes(r[1])&&(null===(t=i.contents.contents)||void 0===t?void 0:t.$kind)===n}).map(function(e){var t=(0,O._)(e,2),n=t[0];return t[1],n}):null})},[n,t,e])}var eD=(0,P.eU)({replId:null,currentUserId:0,hasAccessToAdvancedModel:!1,defaultAssistantChatMode:"basic",defaultAssistantInlineMode:"basic",assistantAdvancedModelOverride:null});function eN(){return et(eD)}var eP=(0,P.eU)(function(e){return e(eD).hasAccessToAdvancedModel}),eL=(0,P.eU)(function(e){return e(eP)?L.VMq.CORE:L.VMq.FREE});function eM(){return et(eP)}var ej=(0,P.eU)(null),eF=(0,P.eU)(null,function(){var e=(0,r._)(function(e,t){var n,r;return(0,i.YH)(this,function(i){switch(i.label){case 0:return eV(n=e(eW)),[4,n.service.getAvailableModels.rpc({overrideModel:""})];case 1:if(!(r=i.sent()).ok)return[2,y(r.payload)];return t(ej,r.payload),[2]}})});return function(t,n){return e.apply(this,arguments)}}()),eY=((0,ed.t_)(function(e){return e(eP)?"advanced":"basic"}),(0,P.eU)(null)),e$=(0,ed.mg)(eY,function(e){return null==e?void 0:e.sessionId});function eH(){return et(e$)}var eG=(0,ed.t_)(function(e){return e(eD).defaultAssistantChatMode}),eB=(0,ed.t_)(function(e){return e(eD).defaultAssistantInlineMode}),eW=(0,P.eU)(null),eq=(0,P.eU)("connecting"),ez=(0,P.eU)(!1);function eV(e){if(!e)throw Error("Expected connection, provider probably not mounted, please make sure you useEffect for side-effects")}function eK(e){if(null===e)throw Error("Expected replId to be non-null, did you use something in the wrong context?")}function eQ(){return"connected"===et(eq)}function eJ(){return"error"===et(eq)}function eX(){return et(ez)}function e0(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,l=function(e){var t=null;if(e.updateEventOperations.length){var n="",r=!0,i=!1,a=void 0;try{for(var o,s,l=e.updateEventOperations[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;c.operationType===L.FeH.ADD&&"content"===c.key&&(n+=c.value)}}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}switch(null===(o=e.contents.contents)||void 0===o?void 0:o.$kind){case"messageEventContents":t=e.contents.contents.messageEventContents;break;case"inlineActionEventContents":t=e.contents.contents.inlineActionEventContents}t&&(t.content=n)}return null!==t}(s),c=e.byId.get(s.id);((null==c?void 0:c.state)!==L.qOk.IN_PROGRESS||s.state===L.qOk.COMPLETE||l)&&e.byId.set(s.id,s);var u=e.byParentId.get(s.parentEventId);u?u.add(s.id):e.byParentId.set(s.parentEventId,new Set([s.id]));var d=e.bySessionId.get(s.sessionId);d?d.add(s.id):e.bySessionId.set(s.sessionId,new Set([s.id]))}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}function e1(e,t){return t.updated.getTime()-e.updated.getTime()}var e2=(0,P.eU)(function(e){return(0,es._)(e(eU).values()).sort(e1)}),e5=(0,P.eU)(function(e){return(0,es._)(e(eU).values()).some(function(e){return e.sessionType===L.dF3.CHAT})}),e4=(0,P.eU)(function(e){return(0,es._)(e(eU).values()).some(eA)});function e3(e){return(ek(e)||eA(e))&&!e.archived}var e7=(0,ed.mg)(e2,function(e){return e.filter(e3)});function e6(){return ei(e7)}function e8(){return et(e7)}var e9=(0,ed.mg)(e2,function(e){return e.filter(tn)});function te(){return ei(e9)}function tt(){return et(e9)}function tn(e){return(ek(e)||eA(e))&&e.archived}var tr=new Map,ti=(0,P.eU)(null,function(e,t,n,a){var o=setInterval((0,r._)(function(){var e;return(0,i.YH)(this,function(r){return(e=tr.get(n))&&t(eE,function(t){return(0,eu.jM)(t,function(t){var r,i=t.byId.get(n);if(!i)throw Error("Expected event");var a=null;switch(null===(r=i.contents.contents)||void 0===r?void 0:r.$kind){case"messageEventContents":a=i.contents.contents.messageEventContents;break;case"inlineActionEventContents":a=i.contents.contents.inlineActionEventContents;break;case"shellSuggestionEventContents":a=i.contents.contents.shellSuggestionEventContents;break;case"translateEventContents":a=i.contents.contents.translateEventContents}a&&e.messageQueue.length>0&&(a.content+=e.messageQueue.shift()),e.complete&&0===e.messageQueue.length&&(clearInterval(e.interval),tr.delete(n),i.state=L.qOk.COMPLETE)})}),[2]})}),10);tr.set(n,{interval:o,messageQueue:[],complete:a===L.qOk.COMPLETE})}),ta=(0,P.eU)(null,function(e,t,n){var r;switch(null===(r=n.contents.contents)||void 0===r?void 0:r.$kind){case"inlineActionEventContents":case"messageEventContents":t(ti,n.eventId,n.state)}t(eE,function(e){return(0,eu.jM)(e,function(e){e0(e,[(0,L.mMy)(n)])})})}),to=(0,P.eU)(null,function(){var e=(0,r._)(function(e,t,n){return(0,i.YH)(this,function(e){return t(eE,function(e){var t=e.byId.get(n.eventId),r=tr.get(n.eventId);if(!t)return e;var i=t.state;r?r.complete||(r.complete=n.state===L.qOk.COMPLETE):i!==L.qOk.COMPLETE&&n.state===L.qOk.COMPLETE&&(i=n.state),n.state!==i&&(n=(0,eo._)((0,ea._)({},n),{state:i}));var a=(0,L.bAT)(t,n);return a!==t?(0,eu.jM)(e,function(e){e.byId.set(n.eventId,a)}):e}),[2]})});return function(t,n,r){return e.apply(this,arguments)}}()),ts=(0,P.eU)(null,function(){var e=(0,r._)(function(e,t,n){return(0,i.YH)(this,function(e){return t(eU,function(e){return(0,eu.jM)(e,function(e){var t=(0,L.ApO)(n);e.set(t.id,t)})}),[2]})});return function(t,n,r){return e.apply(this,arguments)}}()),tl=(0,P.eU)(null,function(){var e=(0,r._)(function(e,t,n){var r,a;return(0,i.YH)(this,function(i){return(r=e(eU).get(n.sessionId))&&((a=(0,L.Jrs)(r,n))!==r&&t(eU,function(e){return(0,eu.jM)(e,function(e){e.set(a.id,a)})}),n.isActiveAgentSession&&t(eY,{sessionId:r.id,runState:L.g32.AGENT_STATE_UNKNOWN})),[2]})});return function(t,n,r){return e.apply(this,arguments)}}()),tc=(0,P.eU)(null,function(){var e=(0,r._)(function(e,t,n){var r,a,o;return(0,i.YH)(this,function(e){return r=n.sessionId,a=n.runState,o=n.transitionReason,r?t(eY,{sessionId:r,runState:null!=a?a:L.g32.AGENT_STATE_UNKNOWN,transitionReason:o}):t(eY,null),[2]})});return function(t,n,r){return e.apply(this,arguments)}}()),tu=(0,P.eU)(null);function td(e){var t=e.sessionId,n=e.replId,r=e.replOwnerPlanName;tp(t,function(e){var i;if(e){if("updateAgentStateMessage"===e.$kind)!function(e){var t,n=e.sessionId,r=e.transitionReason,i=e.replId,a="";switch(null===(t=r.reasons)||void 0===t?void 0:t.$kind){case"userPaused":a="user_paused";break;case"planConcluded":a="plan_concluded";break;case"waitingOnPlanApproval":a="waiting_on_plan_approval";break;case"waitingOnUserResponse":a="waiting_on_user_input";break;case"rateLimited":a="quota_reached";break;case"error":a="agent_error_encountered";break;case"stepLimitExceeded":a="step_limit_exceeded"}a&&(0,eO.pI)({action:a,replId:i,sessionId:null!=n?n:void 0})}({sessionId:t,replId:n,transitionReason:e.updateAgentStateMessage.transitionReason});else if("createEventMessage"===e.$kind&&(null===(i=e.createEventMessage.contents.contents)||void 0===i?void 0:i.$kind)==="agentTimelineEventContents"){var a,o,s=e.createEventMessage.contents.contents.agentTimelineEventContents;if("propose_new_mvp_plan"===s.toolName&&(0,eO.pI)({action:"first_agent_message_received",replId:n,sessionId:null!=t?t:void 0,replOwnerPlanName:r}),(null===(a=s.toolData)||void 0===a?void 0:a.$kind)==="commitData"){var l=s.toolData.commitData.billingRate===L.pSr.ZERO_RATED;(0,eO.pI)({action:"checkpoint_created",replId:n,sessionId:null!=t?t:void 0,freeCheckpoint:l,replOwnerPlanName:r})}if((null===(o=s.toolData)||void 0===o?void 0:o.$kind)==="agentPlanStepBegin"){var c=s.toolData.agentPlanStepBegin.planStep,u=c.id,d=c.name,p=c.blueprints;(0,eO.pI)({action:"step_started",stepId:u,stepName:d,stepBlueprints:p,sessionId:null!=t?t:void 0,replId:n,replOwnerPlanName:r})}}else"updateEventMessage"===e.$kind&&e.updateEventMessage.typedOperations.map(function(e){var r;if((null===(r=e.operation)||void 0===r?void 0:r.$kind)==="agentTimelineEventSet"){var i,a=e.operation.agentTimelineEventSet.contents;(null===(i=a.toolData)||void 0===i?void 0:i.$kind)==="planProgressData"&&function(e){var t=e.sessionId,n=e.replId,r=e.toolName,i=e.stepData,a=null,o=i.id,s=i.name,l=i.blueprints;switch(r){case"mark_current_step_as_succeeded":a="step_completed";break;case"mark_current_step_as_failed":a="step_failed"}a&&(0,eO.pI)({action:a,sessionId:null!=t?t:void 0,replId:n,stepId:o,stepName:s,stepBlueprints:l})}({sessionId:t,toolName:a.toolName,stepData:a.toolData.planProgressData.updatedPlanStep,replId:n})}})}})}function tp(e,t){var n=(0,Y.A)(t),r=en(tu);(0,D.useEffect)(function(){return r.subscribe(function(t){if(t){var r=!1;switch(null==t?void 0:t.$kind){case"createEventMessage":r=e===t.createEventMessage.sessionId;break;case"updateEventMessage":r=e===t.updateEventMessage.sessionId;break;case"createSessionMessage":r=e===t.createSessionMessage.sessionId;break;case"updateSessionMessage":r=e===t.updateSessionMessage.sessionId;break;case"updateAgentStateMessage":r=e===t.updateAgentStateMessage.sessionId}r&&n.current(t)}})},[e,n,r])}function tf(e,t){tp(e,function(e){switch(null==e?void 0:e.$kind){case"createEventMessage":var n=e.createEventMessage.error;n.type!==L.fqQ.EVENT_ERROR_TYPE_UNKNOWN&&t(n);break;case"updateEventMessage":var r=e.updateEventMessage.error;r.type!==L.fqQ.EVENT_ERROR_TYPE_UNKNOWN&&t(r)}})}var tv=(0,P.eU)(null,function(e,t,n){var r;switch(t(ev,{label:"handleMessageAtom:"+(null!==(r=null==n?void 0:n.$kind)&&void 0!==r?r:"NO_EVENT"),payload:n}),t(tu,n),null==n?void 0:n.$kind){case"createEventMessage":t(ta,n.createEventMessage);break;case"updateEventMessage":t(to,n.updateEventMessage);break;case"createSessionMessage":t(ts,n.createSessionMessage);break;case"updateSessionMessage":t(tl,n.updateSessionMessage);break;case"updateAgentStateMessage":t(tc,n.updateAgentStateMessage)}});function tg(e){return(0,D.useMemo)(function(){return(0,P.eU)(function(t){return e?t(eE).byId.get(e):void 0})},[e])}function tm(){var e=ei(eE);return(0,D.useCallback)(function(t){return e().byId.get(t)},[e])}function th(e){var t=(0,O._)((0,D.useState)(!1),2),n=t[0],a=t[1],o=eQ(),s=er(tq);return(0,D.useEffect)(function(){if(e&&o){var t=!1;return function(){n.apply(this,arguments)}(),function(){t=!0}}function n(){return(n=(0,r._)(function(){return(0,i.YH)(this,function(n){switch(n.label){case 0:if(a(!0),!e)throw Error("Expected sessionId");return[4,s({sessionId:e})];case 1:if(n.sent(),t)return[2];return a(!1),[2]}})})).apply(this,arguments)}},[s,e,o]),{loading:n}}function tb(e,t){var n=th(e).loading,r=(0,D.useMemo)(function(){return(0,P.eU)(function(n){var r=e?n(eU).get(e):null;if(!r)throw Error("Expected session");return e_(r,n(eE),t)})},[e,t]),i=ei(r),a=(0,D.useCallback)(function(){return i().map(function(e){return(0,O._)(e,1)[0]})},[i]);return{chatEvents:et((0,D.useMemo)(function(){return(0,ed.mg)(r,function(e){var t=[],n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=(0,O._)(a.value,2),l=s[0],c=s[1];t.push({id:l.id,view:c})}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t},ec())},[r])),loading:n,getEvents:a}}function ty(e,t){var n=eS(e);return(0,D.useMemo)(function(){return(0,P.eU)(function(e){var r,i=e(n);if(!i)return null;var a=e(eE),o=F({parentId:i.sessionCreationEventId,parentToActiveChild:t,events:a});return o.length&&null!==(r=a.byId.get(o[o.length-1]))&&void 0!==r?r:null})},[n,t])}function tU(e,t){return et(ty(e,t))}function tE(e,t){var n=ty(e,t);return en((0,D.useMemo)(function(){return(0,P.eU)(function(e){var t=e(n);if(!t||t.sender.type===L.utd.USER)return null;var r=null,i=void 0;if((null===(a=t.contents.contents)||void 0===a?void 0:a.$kind)==="inlineActionEventContents"){var a,o,s,l,c=(r=t.contents.contents.inlineActionEventContents.content)?eT(r,t.state===L.qOk.COMPLETE):null;i=null==c?void 0:null===(l=c[0])||void 0===l?void 0:l.code}else(null===(o=t.contents.contents)||void 0===o?void 0:o.$kind)==="shellSuggestionEventContents"?i=r=t.contents.contents.shellSuggestionEventContents.content:(null===(s=t.contents.contents)||void 0===s?void 0:s.$kind)==="messageEventContents"&&(i=r=t.contents.contents.messageEventContents.content);var u=t.state===L.qOk.COMPLETE,d=t.error.message;return d||!u||i||(d=r||"Something went wrong"),{code:i,completed:u,error:d}})},[n]))}function tS(){return(0,z.yF)((0,D.useCallback)(function(e,t,n,r){var i=e(eU).get(n);if(!i)throw Error("Expected session");var a=F({parentId:i.sessionCreationEventId,parentToActiveChild:r,events:e(eE)});return a.length?a[a.length-1]:i.sessionCreationEventId},[]),{store:ee()})}var tC=(0,P.eU)(null,function(){var e=(0,r._)(function(e,t,n){var r,a,o,s,l,c,u,d,p,f,v,g,m,h,b,y,U,E;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(r=n.sessionId,a=n.parentEventId,o=n.data,s=n.getFileContext,eV(l=e(eW)),!e(eU).get(r))throw Error("Expected session");if(u=(c=e(eD)).currentUserId,d=c.assistantAdvancedModelOverride,p=(0,eu.jM)(o,function(e){o.model===L.e3q.ADVANCED&&"message"===o.kind&&o.intent===L.qRv.ITERATIVE_AGENT&&null!=d&&(e.model=d)}),v=(f=(0,L.kT_)({session:r,parent:a,model:p.model,sender:{id:u,membership:e(eL)},addToChild:!0,data:p})).event,g=f.request,t(eE,function(e){return(0,eu.jM)(e,function(e){if(!v)throw Error("Expected event");e0(e,[v])})}),!s)return[2,l.service.createEvent.rpc(g)];return[4,s()];case 1:return h=(m=i.sent()).fileContext,y=void 0===(b=m.mostRecentFile)?"":b,[4,l.service.createEvent.rpc((0,eu.jM)(g,function(e){var t;switch(null===(t=e.context.metadata)||void 0===t?void 0:t.$kind){case"messageEventContext":e.context.metadata.messageEventContext.mostRecentFile=y,e.context.metadata.messageEventContext.fileContext=h;break;case"inlineActionEventContext":e.context.metadata.inlineActionEventContext.mostRecentFile=y,e.context.metadata.inlineActionEventContext.fileContext=h}}))];case 2:if(!(U=i.sent()).ok)return[2,U];return(U.payload.eventId!==v.id||U.payload.parentEventId!==v.parentEventId)&&(E=(0,eu.jM)(v,function(e){e.id=U.payload.eventId,e.parentEventId=U.payload.parentEventId}),t(eE,function(e){return(0,eu.jM)(e,function(e){var t=e.bySessionId.get(E.sessionId);t||(t=new Set,e.bySessionId.set(E.sessionId,t));var n=e.byParentId.get(v.parentEventId),r=e.byParentId.get(E.parentEventId);r||(r=new Set,e.byParentId.set(E.parentEventId,r));var i=e.byParentId.get(v.id);e.byId.delete(v.id),e.byParentId.delete(v.id),t.delete(v.id),null==n||n.delete(v.id),e.byId.set(E.id,E),t.add(E.id),r.add(E.id),i&&e.byParentId.set(E.id,i)})})),[2,U]}})});return function(t,n,r){return e.apply(this,arguments)}}());function t_(){return er(tC)}var tZ=(0,P.eU)(null,function(){var e=(0,r._)(function(e,t,n){var r,a,o;return(0,i.YH)(this,function(t){switch(t.label){case 0:if(r=n.sessionId,eV(a=e(eW)),!(o=e(eU).get(r)))throw Error("Expected session");return[4,a.service.getAgentState.rpc({sessionId:r,replId:o.replId})];case 1:return[2,t.sent()]}})});return function(t,n,r){return e.apply(this,arguments)}}()),tx=(0,P.eU)(null,function(){var e=(0,r._)(function(e,t,n){var r,a,o,s;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(r=n.sessionId,a=n.runState,eV(o=e(eW)),!(s=e(eU).get(r)))throw Error("Expected session");return a===L.g32.AGENT_STATE_PAUSED?t(eY,{sessionId:s.id,runState:L.g32.AGENT_STATE_PAUSING,stateChangeInflight:!0}):a===L.g32.AGENT_STATE_RUNNING&&t(eY,{sessionId:s.id,runState:L.g32.AGENT_STATE_RUNNING,stateChangeInflight:!0}),[4,o.service.updateAgentState.rpc({sessionId:r,replId:s.replId,runState:a,transitionReason:{}})];case 1:return[2,i.sent()]}})});return function(t,n,r){return e.apply(this,arguments)}}());function tw(){return er(tx)}var tA=(0,P.eU)(null,function(){var e=(0,r._)(function(e,t,n){var r;return(0,i.YH)(this,function(t){return eV(r=e(eW)),[2,r.service.abortEvent.rpc({eventId:n})]})});return function(t,n,r){return e.apply(this,arguments)}}()),tk=(0,P.eU)(null,function(){var e=(0,r._)(function(e,t,n){var r,a,o,s;return(0,i.YH)(this,function(i){switch(i.label){case 0:return eV(r=e(eW)),a=(0,L.ucN)(n),[4,r.service.createSession.rpc(a)];case 1:if(!(o=i.sent()).ok)return y(o.payload),[2,null];return s=(0,L.S0f)(o.payload.sessionId,o.payload.sessionCreationEventId,a),t(eU,function(e){return(0,eu.jM)(e,function(e){if(null===s)throw Error("Expected session");e.set(s.id,s)})}),[2,s]}})});return function(t,n,r){return e.apply(this,arguments)}}());function tI(){return er(tk)}var tT=(0,P.eU)(null,function(){var e=(0,r._)(function(e,t,n){return(0,i.YH)(this,function(e){return t(eU,function(e){return(0,eu.jM)(e,function(e){if(null===n)throw Error("Expected session");e.set(n.id,n)})}),[2,n]})});return function(t,n,r){return e.apply(this,arguments)}}()),tO=(0,P.eU)(null,function(e,t,n,r){var i=e(eW);eV(i);var a=e(eU).get(n);if(!a)throw Error("Expected session");var o=(0,L.laq)(a,r),s=o.session,l=o.request;return a!==s&&t(eU,function(e){return(0,eu.jM)(e,function(e){e.set(s.id,s)})}),i.service.updateSession.rpc(l)});function tR(){return er(tO)}function tD(e){var t,n=null==e?void 0:null===(t=e.contents.contents)||void 0===t?void 0:t.$kind;switch(n){case"messageEventContents":return{$kind:n,content:null==e?void 0:e.contents.contents.messageEventContents.content};case"inlineActionEventContents":return{$kind:n,content:null==e?void 0:e.contents.contents.inlineActionEventContents.content};case"shellSuggestionEventContents":return{$kind:n,content:null==e?void 0:e.contents.contents.shellSuggestionEventContents.content};case"localShellExecutionEventContents":return{$kind:n,content:null==e?void 0:e.contents.contents.localShellExecutionEventContents};case"agentTimelineEventContents":return{$kind:n,content:null==e?void 0:e.contents.contents.agentTimelineEventContents};case"benchmarkConclusion":return{$kind:n,content:null==e?void 0:e.contents.contents.benchmarkConclusion};case"iterativeAgentEventContents":return{$kind:n,content:null==e?void 0:e.contents.contents.iterativeAgentEventContents};default:return null}}function tN(e,t){var n=tg(e);return et((0,D.useMemo)(function(){return(0,ed.mg)(n,t)},[n,t]))}function tP(e,t){var n=eS(e);return et((0,D.useMemo)(function(){return(0,ed.mg)(n,t)},[n,t]))}function tL(e){var t;return et((t=tg(e),(0,D.useMemo)(function(){return(0,ed.mg)(t,eh)},[t])))}function tM(e){var t;return et((t=tg(e),(0,D.useMemo)(function(){return(0,ed.mg)(t,tD)},[t])))}function tj(e){var t;return et((t=tg(e),(0,D.useMemo)(function(){return(0,ed.mg)(t,em)},[t])))}function tF(e){var t;return et((t=tg(e),(0,D.useMemo)(function(){return(0,ed.mg)(t,eb)},[t])))}function tY(e){var t;return et((t=tg(e),(0,D.useMemo)(function(){return(0,ed.mg)(t,ey)},[t])))}function t$(e){var t,n,r;return et((t=e.sessionId,n=e.eventId,r=eR(t,e.parentToActiveChild,"iterativeAgentEventContents"),(0,D.useMemo)(function(){return(0,P.eU)(function(e){var t,i=e(r);return null!==(t=null==i?void 0:i.filter(function(e){if(!(0,L.VFn)(e.contents.contents,"iterativeAgentEventContents"))return!1;var t=(0,L.QNh)(e.contents.contents).contents;return(0,L.VFn)(t,"installingPackages")||(0,L.VFn)(t,"installedPackages")?(0,L.QNh)(t).eventWhichProposedPackageInstall===n:(0,L.VFn)(t,"startedShellExecution")||(0,L.VFn)(t,"finishedShellExecution")?(0,L.QNh)(t).eventWhichProposedShellExecution===n:(0,L.VFn)(t,"appliedRunConfiguration")?(0,L.QNh)(t).eventWhichProposedRunConfiguration===n:!!(0,L.VFn)(t,"appliedDeploymentConfiguration")&&(0,L.QNh)(t).eventWhichProposedDeploymentConfiguration===n}))&&void 0!==t?t:[]})},[n,r])))}var tH=(0,P.eU)(null,function(){var e=(0,r._)(function(e,t,n,r){var a,o,s,l,c,u,d;return(0,i.YH)(this,function(i){if(eV(a=e(eW)),!(s=(o=e(eE)).byId.get(n)))throw Error("Expected event for id:"+n);if(!(l=o.byId.get(s.parentEventId)))throw Error("Expected parentEvent for id:"+s.parentEventId);return u=(c=(0,L.vSB)(l,r)).event,d=c.request,t(eE,function(e){return(0,eu.jM)(e,function(e){e0(e,[u])})}),[2,a.service.createEvent.rpc(d)]})});return function(t,n,r,i){return e.apply(this,arguments)}}());function tG(){return er(tH)}function tB(e){return et((0,D.useMemo)(function(){return(0,P.eU)(function(t){var n=t(eE),r=n.byId.get(e);if(!r)return null;var i=n.byId.get(r.parentEventId);return i?function(e,t){var n=[],r=t.byParentId.get(e.parentEventId);if(!r)return null;var i=!0,a=!1,o=void 0;try{for(var s,l=r[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value,u=t.byId.get(c);u&&n.push(u)}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}var d=n.sort(function(e,t){return e.created.getTime()-t.created.getTime()}).map(function(e){return e.id});return{eventIds:d,index:d.indexOf(e.id),parentEventId:e.parentEventId}}(i,n):null})},[e]))}function tW(){return(tW=(0,r._)(function(e,t){var n,r,a,o,s;return(0,i.YH)(this,function(i){switch(i.label){case 0:return[4,e.getSessionEvents.rpc({sessionId:t,excludeContents:!0,limit:1e5})];case 1:if(!(n=i.sent()).ok)return[2,n];r=n.payload.events.map(function(e){return e.id}),a=[],i.label=2;case 2:if(!r.length)return[3,4];return o=r.splice(0,1e3),[4,e.batchGetEvents.rpc({sessionId:t,eventIds:o})];case 3:if(!(s=i.sent()).ok)return[2,s];return a=a.concat(s.payload.events),[3,2];case 4:return[2,a]}})})).apply(this,arguments)}var tq=(0,P.eU)(null,function(){var e=(0,r._)(function(e,t,n){var r,a,o,s;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(r=n.sessionId,eV(a=e(eW)),!e(eU).get(r))return[2];return o=$.vF.timeStart({action:"ai_session_events_fetch",sessionId:r}),[4,function(e,t){return tW.apply(this,arguments)}(a.service,r)];case 1:if(t(ev,{label:"fetchSessionEventsAtom",payload:s=i.sent()}),!Array.isArray(s))return[2,y(s.payload)];return o("AI session events fetched successfully",{sessionId:r,eventCount:s.length}),t(eE,function(e){return(0,eu.jM)(e,function(e){e0(e,s)})}),[2]}})});return function(t,n,r){return e.apply(this,arguments)}}()),tz=(0,ed.mg)(e2,function(e){var t,n;return null!==(n=null===(t=e[0])||void 0===t?void 0:t.id)&&void 0!==n?n:null});function tV(){return en(tz)}var tK=(0,P.eU)(null,function(){var e=(0,r._)(function(e,t,n){var r,a,o,s,l,c,u,d,p,f,v,g,m,h,b,U,E,S;return(0,i.YH)(this,function(i){switch(i.label){case 0:return r=n.archivedOnly,o=void 0===(a=n.sessionTypes)?ew:a,l=void 0===(s=n.limit)?1e3:s,u=void 0===(c=n.includeFirstSessionEvents)||c,d=e(eD).replId,p=e(eW),eK(d),eV(p),[4,p.service.getReplSessions.rpc({replId:d,includeFirstSessionEvents:u,firstSessionEventsLimit:1,limit:l,beforeTimestamp:new Date("2099-01-01"),archived:r,sessionTypes:o})];case 1:if(t(ev,{label:"fetchSessionsAtom",payload:f=i.sent()}),!f.ok)return[2,y(f.payload)];v=[],g=!0,m=!1,h=void 0;try{for(b=f.payload.sessions[Symbol.iterator]();!(g=(U=b.next()).done);g=!0)E=U.value,(S=v).push.apply(S,(0,es._)(E.events)),E.events=[]}catch(e){m=!0,h=e}finally{try{g||null==b.return||b.return()}finally{if(m)throw h}}return t(eY,f.payload.replAgentState.activeAgentSessionId?{sessionId:f.payload.replAgentState.activeAgentSessionId,runState:L.g32.AGENT_STATE_UNKNOWN}:null),t(eU,function(e){return(0,eu.jM)(e,function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=f.payload.sessions[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;e.set(o.id,o)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}})}),t(eE,function(e){return(0,eu.jM)(e,function(e){e0(e,v)})}),[2,f.payload]}})});return function(t,n,r){return e.apply(this,arguments)}}());function tQ(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.archivedOnly,n=void 0!==t&&t,a=e.includeFirstSessionEvents,o=void 0===a||a,s=e.sessionTypes,l=void 0===s?ew:s,c=eQ(),u=(0,O._)((0,D.useState)(!0),2),d=u[0],p=u[1],f=er(tK),v=(0,D.useMemo)(function(){return l},[l.join(",")]);return(0,D.useEffect)(function(){if(c){var e=!1;return function(){t.apply(this,arguments)}(),function(){e=!0}}function t(){return(t=(0,r._)(function(){return(0,i.YH)(this,function(t){switch(t.label){case 0:return p(!0),[4,f({archivedOnly:n,includeFirstSessionEvents:o,sessionTypes:v})];case 1:if(t.sent(),e)return[2];return p(!1),[2]}})})).apply(this,arguments)}},[c,f,n,o,v]),{loading:d,refetch:(0,D.useCallback)((0,r._)(function(){var e,t,n,r=arguments;return(0,i.YH)(this,function(i){switch(i.label){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{},p(!0),[4,f({archivedOnly:null!==(t=e.archivedOnly)&&void 0!==t&&t,includeFirstSessionEvents:null===(n=e.includeFirstSessionEvents)||void 0===n||n})];case 1:return i.sent(),p(!1),[2]}})}),[f])}}var tJ=(0,P.eU)(null,function(){var e=(0,r._)(function(e,t,n){var r,a,o,s;return(0,i.YH)(this,function(t){if(eV(r=e(eW)),!(a=n.sessionId?e(eU).get(n.sessionId):null))throw Error("Expected session");return(s=null==(o=Array.from(j({parentId:a.sessionCreationEventId,parentToActiveChild:new Map,events:e(eE)})).pop())?void 0:o.id)?[2,r.service.submitAgentUserFeedback.rpc({sessionType:a.sessionType,sessionId:n.sessionId,feedback:n.feedback,sourceEventId:s})]:[2]})});return function(t,n,r){return e.apply(this,arguments)}}());function tX(){return er(tJ)}var t0=(0,P.eU)(new Map),t1=(0,P.eU)(null,function(e,t,n,r){return t(t0,function(e){return(0,eu.jM)(e,function(e){null===r?e.delete(n):e.set(n,r)})})}),t2=(0,P.eU)(null,function(e,t,n){return t(t0,function(e){return(0,eu.jM)(e,function(e){var t=!0,r=!1,i=void 0;try{for(var a,o=n[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var s=a.value;e.set(s,"exclude")}}catch(e){r=!0,i=e}finally{try{t||null==o.return||o.return()}finally{if(r)throw i}}})})});function t5(){return er(t2)}function t4(){return er(t1)}function t3(){return et(t0)}function t7(){return ei(t0)}var t6=n(45009),t8=n(30632),t9=n(43751);function ne(){var e=(0,t6._)(["\n  query AgentModeRepl($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        supportsAgent\n      }\n    }\n  }\n"]);return ne=function(){return e},e}var nt={},nn=(0,t8.J1)(ne()),nr=n(18799),ni=nr.oE,na={basic:nr.uU,advanced:nr.oE},no={basic:nr.uU,advanced:nr.s_},ns=4e3,nl=8e3,nc=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.variant,n=e.capitalizeFirstChar;return"formal"===(void 0===t?"casual":t)?"Replit Agent":"".concat(void 0!==n&&n?"T":"t","he agent")},nu="Agent",nd="".concat(nu," can make changes, review its work, and debug itself automatically. It can handle complex workflows with minimal guidance."),np="https://www.youtube-nocookie.com/embed/QiW2hXEphpI?si=c8iFauvdbpDW9o-n&rel=0",nf="Assistant",nv="".concat(nf," answers questions, refines code, and makes precise edits. Ideal for quick iterations, debugging, and hands-on tasks."),ng="".concat(nf," can use advanced code analysis, debug your project, and directly edit files."),nm="Code analysis, debugging, and direct edits.",nh="https://www.youtube-nocookie.com/embed/QiW2hXEphpI?si=c8iFauvdbpDW9o-n&rel=0&start=15",nb="Add a database",ny=function(e){return e.NOTHING_TO_COMMIT="NOTHING_TO_COMMIT",e}({}),nU=n(3596),nE=n(63679),nS=n(83733),nC=(0,P.eU)(function(e){var t=null,n=null,r=!0,i=!1,a=void 0;try{for(var o,s=e(eU)[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=(0,O._)(o.value,2)[1];if(eA(l)){if(l.sessionType===L.dF3.AGENT_REPLAY_SESSION){n=l;continue}(null===t||l.created>t.created)&&(t=l)}}}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return null!=t?t:n}),n_=(0,P.eU)(function(e){return Array.from(e(eU).values()).filter(eA).sort(function(e,t){return e.created.getTime()-t.created.getTime()})});function nZ(){return et(n_)}function nx(e){var t=e.session,n=e.events,r=null,i=!0,a=!1,o=void 0;try{for(var s,l=j({parentId:t.sessionCreationEventId,parentToActiveChild:new Map,events:n})[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c,u=s.value;(null===(c=u.contents.contents)||void 0===c?void 0:c.$kind)==="agentPlanEventContents"&&(null===r||u.created>r.created)&&(r=u)}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return r}var nw=(0,P.eU)(function(e){var t=e(nC);return t?nx({session:t,events:e(eE)}):null}),nA=(0,ed.mg)(nw,function(e){var t,n;return(null==e?void 0:null===(n=e.contents)||void 0===n?void 0:null===(t=n.contents)||void 0===t?void 0:t.$kind)==="agentPlanEventContents"?null==e?void 0:e.contents.contents.agentPlanEventContents:null});function nk(){return et(nA)}function nI(e){return(0,D.useMemo)(function(){return(0,P.eU)(function(t){var n=e?t(eU).get(e):null;return n?nx({session:n,events:t(eE)}):null})},[e])}function nT(e,t){var n=nI(e);return et((0,D.useMemo)(function(){return(0,ed.mg)(n,t,ec())},[n,t]))}var nO=(0,ed.mg)(nC,function(e){return null==e?void 0:e.id});function nR(){return et(nO)}function nD(){var e=eQ(),t=(0,O._)((0,D.useState)(!0),2),n=t[0],a=t[1],o=er(tK),s=et(nO),l=ei(nO);return(0,D.useEffect)(function(){if(e){var t=!1;return function(){n.apply(this,arguments)}(),function(){t=!0}}function n(){return(n=(0,r._)(function(){var e;return(0,i.YH)(this,function(n){switch(n.label){case 0:return a(!0),e=$.vF.timeStart({action:"agent_session_load"}),[4,o({archivedOnly:!1,sessionTypes:eZ})];case 1:if(n.sent(),t)return[2];return e("Agent session loaded successfully",{sessionId:s}),a(!1),[2]}})})).apply(this,arguments)}},[e,s,o,l]),{loading:n,sessionId:s}}function nN(){var e=et(nO);return en(nI(null!=e?e:null))}function nP(e){var t,n;return(null==e?void 0:null===(t=e.contents.contents)||void 0===t?void 0:t.$kind)==="agentTimelineEventContents"&&(null==e?void 0:null===(n=e.contents.contents.agentTimelineEventContents.toolData)||void 0===n?void 0:n.$kind)==="presentResultsToolData"}var nL=(0,P.eU)(function(e){var t=e(nC);if(!t)return null;var n=[],r=nQ({session:t,events:e(eE),includeHiddenEvents:e(nJ),replayHideEvents:!0}).timelineMap,i=e(eE).byId,a=!0,o=!1,s=void 0;try{for(var l,c=r[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=(0,O._)(l.value,2),d=u[0],p=u[1];nP(i.get(d))||n.push(d);var f=!0,v=!1,g=void 0;try{for(var m,h=p[Symbol.iterator]();!(f=(m=h.next()).done);f=!0){var b=m.value;nP(i.get(b))||n.push(b)}}catch(e){v=!0,g=e}finally{try{f||null==h.return||h.return()}finally{if(v)throw g}}}}catch(e){o=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return n});function nM(){return et(nL)}function nj(){return en(nL)}var nF=(0,P.eU)(function(e){var t=e(nC);if(!t)return null;var n=null,r=!0,i=!1,a=void 0;try{for(var o,s=j({parentId:t.sessionCreationEventId,parentToActiveChild:new Map,events:e(eE)})[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l,c,u,d=o.value;(null==d?void 0:null===(c=d.contents)||void 0===c?void 0:null===(l=c.contents)||void 0===l?void 0:l.$kind)==="agentTimelineEventContents"&&(null===(u=d.contents.contents.agentTimelineEventContents.toolData)||void 0===u?void 0:u.$kind)==="presentResultsToolData"&&(n=d)}}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}),nY=(0,ed.mg)(nF,function(e){var t;return null!==(t=null==e?void 0:e.id)&&void 0!==t?t:null}),n$=(0,ed.mg)(nF,function(e){var t,n=null==e?void 0:e.contents.contents;if((null==n?void 0:n.$kind)!=="agentTimelineEventContents")return null;var r=null===(t=n.agentTimelineEventContents)||void 0===t?void 0:t.toolData;return(null==r?void 0:r.$kind)==="presentResultsToolData"?r.presentResultsToolData:null});function nH(){return en(nY)}function nG(){return et(nY)}var nB=(0,ed.mg)(eY,function(e){return null==e?void 0:e.runState});function nW(){return et(nB)}function nq(){return en(nB)}var nz=new Set(["planProgressData","agentPlanStepBegin","acknowledgeUserMessage","workflowsGetOutputToolData"]),nV=new Set(["generate_plan","modify_step","verification","scroll_file","open_file"]),nK=["aiMessage","userMessage","timeline","plan","planConcluded","revert","newSessionNudge","deploy","stepStarted","checkpoint","thoughts"];function nQ(e){var t=e.session,n=e.events,r=e.includeHiddenEvents,i=e.replayHideEvents,a=[],o=new Map,s=new Map,l=null,c=null,u=i&&t.sessionType===L.dF3.AGENT_REPLAY_SESSION,d=new Set,p=L.utd.USER_TYPE_UNKNOWN,f=!0,v=!1,g=void 0;try{for(var m,h=j({parentId:t.sessionCreationEventId,parentToActiveChild:new Map,events:n})[Symbol.iterator]();!(f=(m=h.next()).done);f=!0){var b,y=m.value,U=function(e){var t=e.event,n=e.events,r=e.isReplayHidingEnabled,i=t.contents.contents;if(t.error.type!==L.fqQ.EVENT_ERROR_TYPE_UNKNOWN||r&&(0,L.GJE)(t,n.byId.get(t.parentEventId)))return null;switch(null==i?void 0:i.$kind){case"agentPlanEventContents":if(i.agentPlanEventContents.requiresApproval){if(!Array.from(null!==(d=n.byParentId.get(t.id))&&void 0!==d?d:[]).some(function(e){var t,r=n.byId.get(e);if(!r)return!1;var i=r.contents.contents;return(null==i?void 0:i.$kind)==="agentPlanEventContents"&&(null===(t=i.agentPlanEventContents.Approver)||void 0===t?void 0:t.$kind)}))return{id:t.id,type:"plan"};return null}if(null===(u=i.agentPlanEventContents)||void 0===u?void 0:u.step.subSteps.every(function(e){return e.status===L.jhd.STEP_COMPLETE}))return{id:t.id,type:"planConcluded"};if(!i.agentPlanEventContents.requiresApproval&&(null===(c=i.agentPlanEventContents.Approver)||void 0===c?void 0:c.$kind)==="approver")return{id:t.id,type:"plan"};return null;case"agentTimelineEventContents":var a=i.agentTimelineEventContents.toolData;if((null==a?void 0:a.$kind)==="agentPlanStepBegin")return{id:t.id,type:"stepStarted"};if((null==a?void 0:a.$kind)==="planProgressData"&&a.planProgressData.updatedPlanStep.status===L.jhd.STEP_COMPLETE)return null;if((null==a?void 0:a.$kind)==="deployData")return{id:t.id,type:"deploy"};if(nV.has(i.agentTimelineEventContents.toolName))return null;if((null==a?void 0:a.$kind)==="commitData")return{id:t.id,type:"checkpoint"};if(a&&nz.has(a.$kind)||!a)return null;if((null==a?void 0:a.$kind)==="messageData")return{id:t.id,type:t.sender.type===L.utd.USER?"userMessage":"aiMessage"};if((null==a?void 0:a.$kind)==="newSessionNudge")return{id:t.id,type:"newSessionNudge"};if((null==a?void 0:a.$kind)==="revertData")return{id:t.id,type:"revert"};if((null==a?void 0:a.$kind)==="createPostgresqlDatabaseData")return{id:t.id,type:"timeline",break:!0};if((null==a?void 0:a.$kind)==="thoughts")return{id:t.id,type:"thoughts"};return{id:t.id,type:"timeline"};case"messageEventContents":return{id:t.id,type:t.sender.type===L.utd.USER?"userMessage":"aiMessage"};case"revertEventContents":return{id:t.id,type:"revert"};case"stepTooComplexEventContents":var o=!0,s=!1,l=void 0;try{for(var c,u,d,p,f=n.byId[Symbol.iterator]();!(o=(p=f.next()).done);o=!0){var v=(0,O._)(p.value,2)[1];if(v.id!==t.id&&v.sessionId===t.sessionId){var g=v.contents.contents;if(!((null==g?void 0:g.$kind)!=="stepTooComplexEventContents"||v.created.getTime()<t.created.getTime())&&g.stepTooComplexEventContents.stepId===i.stepTooComplexEventContents.stepId)return null}}}catch(e){s=!0,l=e}finally{try{o||null==f.return||f.return()}finally{if(s)throw l}}return{id:t.id,type:"stepTooComplex"};case"agentAskUserForActionRequest":var m=i.agentAskUserForActionRequest.request;if((null==m?void 0:m.$kind)==="nextStepRequest")return{id:t.id,type:"nextStepRequest"};return null;case"agentAskUserForActionResponse":var h=i.agentAskUserForActionResponse.response;if((null==h?void 0:h.$kind)==="nextStepResponse")return{id:t.id,type:"nextStepResponse"};return null;case"contextComplexityEventContents":return{id:t.id,type:"contextComplexityWarning"};case"databaseNudgeEventContents":return{id:t.id,type:"databaseNudge"};case"startRapidBuildEventContents":return{id:t.id,type:"startRapidBuild"};default:return null}}({event:y,events:n,isReplayHidingEnabled:u});if(!U){r&&a.push({id:y.id,type:"debug"});continue}if(nK.includes(U.type)&&y.sender.type!==p&&(d.add(y.id),p=y.sender.type),"deploy"===U.type){a.push(U);continue}if("revert"===U.type){if((null===(Z=y.contents.contents)||void 0===Z?void 0:Z.$kind)==="revertEventContents"){var E=y.contents.contents.revertEventContents.eventIdBeforeRevert;s.set(E,(0,eo._)((0,ea._)({},s.get(E)),{revertSource:y.id,revertTarget:E,revertStatus:"inflight"}));continue}if((null===(x=y.contents.contents)||void 0===x?void 0:x.$kind)==="agentTimelineEventContents"&&(null===(w=y.contents.contents.agentTimelineEventContents.toolData)||void 0===w?void 0:w.$kind)==="revertData"){var S=y.contents.contents.agentTimelineEventContents.toolData.revertData.eventIdBeforeRevert,C=null===(A=s.get(S))||void 0===A?void 0:A.revertSource;s.set(S,{revertSource:C,revertTarget:S,revertCompleted:y.id,revertStatus:"completed"});for(var _=0;a.length&&a[a.length-1].id!==S;){var Z,x,w,A,k,I,T,R,D=a.pop();D&&("timeline"===D.type?_+=(null!==(I=null===(k=o.get(D.id))||void 0===k?void 0:k.length)&&void 0!==I?I:0)+1:"revert"===D.type?_+=null!==(R=null===(T=s.get(D.id))||void 0===T?void 0:T.hiddenEvents)&&void 0!==R?R:1:_++)}s.set(y.id,{hiddenEvents:_,revertSource:C,revertTarget:S,revertCompleted:y.id,revertStatus:"completed"})}}if("timeline"!==U.type){a.push(U),l=U,c=y;continue}(null==l?void 0:l.type)!=="timeline"||U.break?(o.set(y.id,[]),a.push(U),l=U):null===(b=o.get(l.id))||void 0===b||b.push(y.id),c=y}}catch(e){v=!0,g=e}finally{try{f||null==h.return||h.return()}finally{if(v)throw g}}return{items:a,timelineMap:o,revertMap:s,inProgressEventId:(null==l?void 0:l.type)==="timeline"&&(null==c?void 0:c.state)===L.qOk.IN_PROGRESS?c.id:null,eventIdsWithAvatars:d}}var nJ=(0,P.eU)(!1);function nX(){return et(nJ)}function n0(){return er(nJ)}function n1(e){return et((0,D.useMemo)(function(){return(0,P.eU)(function(t){if(!!e){var n=t(eU).get(e);if(n){var r=t(rn);if(r.runState!==L.g32.AGENT_STATE_RUNNING&&r.runState!==L.g32.AGENT_STATE_PAUSING){var i=t(eE),a=nQ({session:n,events:i,includeHiddenEvents:t(nJ),replayHideEvents:!0}).items,o=a[a.length-1];if(o){var s=i.byId.get(o.id);if(s&&((null===(d=s.contents.contents)||void 0===d?void 0:d.$kind)!=="agentTimelineEventContents"||"user_response"!==s.contents.contents.agentTimelineEventContents.toolName)&&(null===(p=s.contents.contents)||void 0===p?void 0:p.$kind)!=="messageEventContents"){for(var l=0,c=!1,u=0;u<a.length;u++){var d,p,f,v,g=a[u],m=i.byId.get(g.id);"databaseNudge"===g.type&&(c=!0,f={eventId:g.id,eventType:"databaseNudge"}),(null==m?void 0:null===(v=m.contents.contents)||void 0===v?void 0:v.$kind)==="messageEventContents"&&(l++,m.contents.contents.messageEventContents.content===nb&&(c=!1),l>3&&(c=!1))}return c&&f?f:"nextStepRequest"===o.type?{eventId:o.id,eventType:"nextStepRequest"}:void 0}}}}}})},[e]))}function n2(e){var t,n=th(e).loading,r=(t=(0,D.useMemo)(function(){return(0,P.eU)(function(t){var n=e?t(eU).get(e):null;if(!n)return null;var r=nQ({session:n,events:t(eE),includeHiddenEvents:t(nJ),replayHideEvents:!0});return{items:r.items,timelineMap:r.timelineMap,inProgressEventId:r.inProgressEventId,eventIdsWithAvatars:r.eventIdsWithAvatars}})},[e]),et((0,D.useMemo)(function(){return(0,ed.mg)(t,function(e){return{items:null==e?void 0:e.items,inProgressEventId:null==e?void 0:e.inProgressEventId,eventIdsWithAvatars:null==e?void 0:e.eventIdsWithAvatars}},ec())},[t])));return{items:r.items,loading:n,inProgressEventId:r.inProgressEventId,eventIdsWithAvatars:r.eventIdsWithAvatars}}function n5(e){return et((0,D.useMemo)(function(){var t=(0,P.eU)(function(t){var n=t(eE).byId.get(e);if(!n)return null;var r=t(eU).get(n.sessionId);return r?nQ({session:r,events:t(eE),includeHiddenEvents:t(nJ),replayHideEvents:!0}).timelineMap.get(e):null});return(0,ed.mg)(t,function(e){return e},ec())},[e]))}function n4(e){return et((0,D.useMemo)(function(){var t=(0,P.eU)(function(t){var n=t(eE),r=n.byId.get(e);if(!r)return null;var i=t(eU).get(r.sessionId);if(!i)return null;var a=nQ({session:i,events:n,includeHiddenEvents:t(nJ)}).revertMap;return function(e){var t,n,r=e.event,i=e.events,a=e.revertMap.get(r.id);if(!(null==a?void 0:a.revertCompleted))return null;var o=i.byId.get(a.revertCompleted);if(!o)return null;var s=i.byId.get(a.revertTarget),l=function(e){if(!e)return null;var t,n,r=(null===(t=e.contents.contents)||void 0===t?void 0:t.$kind)==="agentTimelineEventContents"?e.contents.contents.agentTimelineEventContents.toolData:null;return(null==r?void 0:r.$kind)==="planProgressData"?r.planProgressData.updatedPlanStep.commitId:(null==r?void 0:r.$kind)==="messageData"&&r.messageData.commitId?r.messageData.commitId:(null==r?void 0:r.$kind)==="commitData"&&r.commitData.commitId?r.commitData.commitId:(null===(n=e.contents.contents)||void 0===n?void 0:n.$kind)==="messageEventContents"&&e.contents.contents.messageEventContents.commitId?e.contents.contents.messageEventContents.commitId:null}(s);if(!s||!l)return null;var c=i.byId.get(a.revertSource);return(null==c?void 0:null===(t=c.contents.contents)||void 0===t?void 0:t.$kind)!=="revertEventContents"?null:{reverterId:c.sender.id,revertedAt:o.created,revertedCommitId:l,revertHiddenCount:null!==(n=a.hiddenEvents)&&void 0!==n?n:0}}({event:r,events:n,revertMap:a})});return(0,ed.mg)(t,function(e){return e},ec())},[e]))}function n3(e){return et((0,D.useMemo)(function(){var t=(0,P.eU)(function(t){var n=t(eE).byId.get(e);if(!n)return{isReverting:!1,isReverted:!1};var r=t(eU).get(n.sessionId);if(!r)return{isReverting:!1,isReverted:!1};var i=nQ({session:r,events:t(eE),includeHiddenEvents:t(nJ)}).revertMap.get(e);return i&&i.revertTarget===e?{isReverting:"inflight"===i.revertStatus,hasBeenReverted:void 0!==i.revertCompleted}:{isReverting:!1,isReverted:!1}});return(0,ed.mg)(t,function(e){return e},ec())},[e]))}function n7(e){return et((0,D.useMemo)(function(){return(0,P.eU)(function(t){var n=e?t(eU).get(e):null;return!!n&&Array.from(nQ({session:n,events:t(eE),includeHiddenEvents:t(nJ)}).revertMap.values()).some(function(e){return"inflight"===e.revertStatus})})},[e]))}var n6=(0,P.eU)(!1);function n8(){return et(n6)}function n9(){return en(n6)}function re(){var e=er(n6);return(0,D.useCallback)(function(){return e(!0)},[e])}function rt(){var e=er(n6);return(0,D.useCallback)(function(){return e(!1)},[e])}var rn=(0,ed.mg)(eY,function(e){var t;return{runState:null==e?void 0:e.runState,transitionReason:null==e?void 0:null===(t=e.transitionReason)||void 0===t?void 0:t.reasons}});function rr(){return et(rn)}function ri(e){return et((0,D.useMemo)(function(){var t=(0,P.eU)(function(t){if(!e)return null;if("connected"!==t(eq))return{state:"disconnected"};var n,r,i=t(eY);if(!i||e!==i.sessionId)return null;var a=e?t(eU).get(e):null;if(!a)return null;var o=nQ({session:a,events:t(eE),includeHiddenEvents:t(nJ)}).items;if((null===(n=o[o.length-1])||void 0===n?void 0:n.type)==="planConcluded")return{state:"paused",transitionReason:{$kind:"planConcluded",planConcluded:{}}};var s=i.runState,l=i.transitionReason;if(s===L.g32.AGENT_STATE_NOT_STARTED||s===L.g32.AGENT_STATE_UNKNOWN)return null;if(s===L.g32.AGENT_STATE_RUNNING)return{state:"running"};if(s===L.g32.AGENT_STATE_PAUSING)return{state:"pausing"};switch(null==l?void 0:null===(r=l.reasons)||void 0===r?void 0:r.$kind){case"waitingOnPlanApproval":case"waitingOnUserResponse":return null;default:return{state:"paused",transitionReason:null==l?void 0:l.reasons}}});return(0,ed.mg)(t,function(e){return e},ec())},[e]))}function ra(e){var t=er(tZ),n=eQ();return(0,D.useCallback)((0,r._)(function(){var r;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(!n||!e)return[2];return[4,t({sessionId:e})];case 1:return(r=i.sent()).ok&&r.payload.runState===L.g32.AGENT_STATE_UNKNOWN&&b("Agent state is unknown on polling"),[2]}})}),[n,e,t])}function ro(e){var t=eQ(),n=(0,O._)((0,D.useState)(!0),2),a=n[0],o=n[1],s=er(tZ),l=er(eY);return(0,D.useEffect)(function(){if(t){var n=!1;return function(){a.apply(this,arguments)}(),function(){n=!0}}function a(){return(a=(0,r._)(function(){var t;return(0,i.YH)(this,function(r){switch(r.label){case 0:if(!e)return[2];return o(!0),[4,s({sessionId:e})];case 1:if(t=r.sent(),n)return[2];return t.ok&&l({sessionId:e,runState:t.payload.runState,transitionReason:t.payload.transitionReason}),o(!1),[2]}})})).apply(this,arguments)}},[t,s,e,l]),{loading:a,state:et(rn)}}function rs(e){var t=e.contents.contents;if((null==t?void 0:t.$kind)==="agentPlanEventContents"&&t.agentPlanEventContents.requiresApproval||(null==t?void 0:t.$kind)==="agentAskUserForActionRequest")return!0;if((null==t?void 0:t.$kind)!=="agentTimelineEventContents")return!1;var n=t.agentTimelineEventContents.toolData;if((null==n?void 0:n.$kind)!=="messageData")return!1;var r=n.messageData.agentAction.optionType,i=t.agentTimelineEventContents.toolName;return!!r||["user_response","propose_new_plan"].includes(i)}function rl(e){var t=e.session,n=e.events,r=e.activeAgentSession;if((null==r?void 0:r.sessionId)!==t.id||r.runState!==L.g32.AGENT_STATE_PAUSED&&r.runState!==L.g32.AGENT_STATE_UNKNOWN)return null;var i=nQ({session:t,events:n,includeHiddenEvents:!1}).items,a=i[i.length-1],o=a?n.byId.get(a.id):null;if(!o)return null;if(rs(o))return{requestEvent:o,responseEvent:null};var s=i[i.length-2],l=s?n.byId.get(s.id):null;return l&&rs(l)&&o.sender.type===L.utd.USER?{requestEvent:l,responseEvent:o}:null}function rc(e){var t,n,r;return et((t=e,r=(n=(0,D.useMemo)(function(){return(0,P.eU)(function(e){if("connected"!==e(eq))return null;var n=e(eY);if(!n)return null;var r=t?e(eU).get(t):null;return r?rl({session:r,events:e(eE),activeAgentSession:n}):null})},[t]),(0,D.useMemo)(function(){return(0,ed.mg)(n,function(e){return e&&null===e.responseEvent?e.requestEvent:null})},[n])),(0,D.useMemo)(function(){return(0,ed.mg)(r,function(e){return null!==e})},[r])))}var ru=(0,P.eU)(function(e){var t,n,r=e(eY);if(!r)return!1;var i=e(eU).get(r.sessionId);return!!i&&null!==(n=rl({session:(t={session:i,events:e(eE),activeAgentSession:r}).session,events:t.events,activeAgentSession:t.activeAgentSession}))&&null!==n.requestEvent&&null===n.responseEvent});function rd(){return en(ru)}function rp(){var e=et(e$);return rc(null!=e?e:null)}function rf(e,t){var n=(0,Y.A)(t),r=ei(n$);tp(e,function(e){if((null==e?void 0:e.$kind)==="createEventMessage"){var t=e.createEventMessage.contents.contents;if((null==t?void 0:t.$kind)!=="agentTimelineEventContents")return;var i=t.agentTimelineEventContents.toolData;switch(null==i?void 0:i.$kind){case"presentResultsToolData":n.current({$kind:"presentResultsToolData",data:i.presentResultsToolData},e.createEventMessage.eventId);break;case"deployData":var a=r();n.current(a?{$kind:"presentDeployData",data:a}:{$kind:"deployData",data:i.deployData},e.createEventMessage.eventId)}return}if((null==e?void 0:e.$kind)==="updateEventMessage"){var o=!0,s=!1,l=void 0;try{for(var c,u=e.updateEventMessage.typedOperations[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var d,p=c.value;if((null===(d=p.operation)||void 0===d?void 0:d.$kind)==="agentTimelineEventSet"){var f=p.operation.agentTimelineEventSet.contents.toolData;switch(null==f?void 0:f.$kind){case"presentResultsToolData":n.current({$kind:"presentResultsToolData",data:f.presentResultsToolData},e.updateEventMessage.eventId);break;case"deployData":var v=r();n.current(v?{$kind:"presentDeployData",data:v}:{$kind:"deployData",data:f.deployData},e.updateEventMessage.eventId)}}}}catch(e){s=!0,l=e}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}}})}function rv(e,t){var n=(0,Y.A)(t),r=(0,D.useRef)(!1);tp(e,function(e){if(!r.current&&(null==e?void 0:e.$kind)==="createEventMessage"){var t,i=e.createEventMessage.contents.contents;(null==i?void 0:i.$kind)==="agentPlanEventContents"&&(null===(t=i.agentPlanEventContents.Approver)||void 0===t?void 0:t.approver.id)&&(n.current(),r.current=!0)}})}var rg=(0,P.eU)(function(e){var t=new Set,n=!0,r=!1,i=void 0;try{for(var a,o=e(eE).byId.values()[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value.contents.contents;if((null==s?void 0:s.$kind)==="agentTimelineEventContents"){var l=s.agentTimelineEventContents.toolData;if((null==l?void 0:l.$kind)==="acknowledgeUserMessage"){var c=!0,u=!1,d=void 0;try{for(var p,f=l.acknowledgeUserMessage.eventIds[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var v=p.value;t.add(v)}}catch(e){u=!0,d=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw d}}}}}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t});function rm(e){return et((0,D.useMemo)(function(){return(0,ed.mg)(rg,function(t){return t.has(e)})},[e]))}function rh(){var e,t,n=eQ(),a=er(tK),o=et(n6),s=er(n6),l=(0,O._)((e={variables:{replId:(0,nS.A)()}},t=(0,ea._)({},nt,e),t9._(nn,t)),1)[0];(0,D.useEffect)(function(){if(n&&!o){var e=!1;return!function(){t.apply(this,arguments)}(),function(){e=!0}}function t(){return(t=(0,r._)(function(){var t,n,r;return(0,i.YH)(this,function(i){switch(i.label){case 0:return[4,a({archivedOnly:!1,sessionTypes:eZ})];case 1:if(t=i.sent(),e)return[2];if(null==t?void 0:t.sessions.length)return[3,3];return[4,l()];case 2:if(!((null===(n=(r=i.sent()).data)||void 0===n?void 0:n.getRepl.__typename)==="Repl"&&r.data.getRepl.supportsAgent))return[2];i.label=3;case 3:return s(!0),[2]}})})).apply(this,arguments)}},[n,a,o,s,l])}var rb=(0,P.eU)(function(e){var t=e(eY);if(!t)return!1;if(t.stateChangeInflight)return!0;switch(t.runState){case L.g32.AGENT_STATE_RUNNING:case L.g32.AGENT_STATE_PAUSING:return!0;default:return!1}});function ry(){return et(rb)}function rU(){return en(rb)}function rE(e){return et((0,D.useMemo)(function(){return(0,P.eU)(function(t){if(!e)return!1;var n=t(n_),r=n[n.length-1];return(null==r?void 0:r.id)!==e||(null==r?void 0:r.sessionType)===L.dF3.AGENT_REPLAY_SESSION})},[e]))}var rS=(0,P.eU)(null,function(){var e=(0,r._)(function(e,t,n){var r,a,o,s;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(r=n.eventId,a=n.stepId,o=n.choice,!(s=e(eE).byId.get(r)))throw Error("Event not found: ".concat(r));return[4,t(tC,{sessionId:s.sessionId,parentEventId:s.parentEventId,data:{kind:"stepTooComplex",state:o,stepId:a,model:L.e3q.MODEL_TYPE_UNKNOWN}})];case 1:return i.sent(),[2]}})});return function(t,n,r){return e.apply(this,arguments)}}());function rC(){return er(rS)}function r_(e){return et((0,D.useMemo)(function(){return(0,P.eU)(function(t){if(!e)return!1;var n=e?t(eU).get(e):null;if(!n)return!1;var r=0,i=!0,a=!1,o=void 0;try{for(var s,l=j({parentId:n.sessionCreationEventId,parentToActiveChild:new Map,events:t(eE)})[Symbol.iterator]();!(i=(s=l.next()).done);i=!0)if(s.value.sender.type===L.utd.USER&&10==++r)return!0}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return!1})},[e]))}function rZ(e){return et((0,D.useMemo)(function(){return(0,P.eU)(function(t){var n=t(eU).get(e);if(!n)return null;var r=t(eE),i=0,a=!0,o=!1,s=void 0;try{for(var l,c=j({parentId:n.sessionCreationEventId,parentToActiveChild:new Map,events:r})[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u,d=l.value,p=(null==d?void 0:null===(u=d.contents.contents)||void 0===u?void 0:u.$kind)==="agentTimelineEventContents"?d.contents.contents.agentTimelineEventContents.toolData:null;(null==p?void 0:p.$kind)==="commitData"&&p.commitData.billingRate===L.pSr.NORMAL&&(i+=nU.ri)}}catch(e){o=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return i})},[e]))}function rx(e){return et((0,D.useMemo)(function(){return(0,P.eU)(function(t){var n=t(eE).byId.get(e);if((null==n?void 0:null===(u=n.contents.contents)||void 0===u?void 0:u.$kind)!=="agentPlanEventContents")return null;var r=n.contents.contents.agentPlanEventContents,i=r.planId,a=t(eE),o=!0,s=!0,l=!1,c=void 0;try{for(var u,d,p,f=j({parentId:n.id,parentToActiveChild:new Map,events:a})[Symbol.iterator]();!(s=(p=f.next()).done);s=!0){var v=p.value.contents.contents;if((null==v?void 0:v.$kind)==="agentPlanEventContents"){var g=v.agentPlanEventContents;g.planId===i&&g.requiresApproval?o=!0:r.planId!==i&&r.requiresApproval&&(o=!1)}}}catch(e){l=!0,c=e}finally{try{s||null==f.return||f.return()}finally{if(l)throw c}}return r.requiresApproval?{description:r.objective.description,isEditable:o,steps:r.step.subSteps,requiresApproval:!0,approverId:null,sessionId:n.sessionId}:{description:r.objective.description,isEditable:o,requiresApproval:!1,approverId:null===(d=r.Approver)||void 0===d?void 0:d.approver.id,steps:r.step.subSteps,sessionId:n.sessionId}})},[e]))}var rw=(0,P.eU)(null,function(e,t,n){var r,i=n.eventId,a=n.steps,o=e(eE).byId.get(i);if((null==o?void 0:null===(r=o.contents.contents)||void 0===r?void 0:r.$kind)!=="agentPlanEventContents")throw Error("Event is not a plan event");var s=o.contents.contents.agentPlanEventContents,l=(0,eu.jM)(s,function(e){e.step.subSteps=a});t(tC,{sessionId:o.sessionId,parentEventId:o.id,data:{kind:"agentPlan",planId:l.planId,objective:l.objective,step:l.step,requiresApproval:!1,model:L.e3q.MODEL_TYPE_UNKNOWN,approved:!0}})});function rA(){return er(rw)}function rk(e){var t=e.session,n=e.events,r=e.warningThreshold,i=null,a=0,o=-1,s=new Map,l=!0,c=!1,u=void 0;try{for(var d,p,f,v=j({parentId:t.sessionCreationEventId,parentToActiveChild:new Map,events:n})[Symbol.iterator]();!(l=(f=v.next()).done);l=!0){var g,m,h=f.value;if(h.sender.type===L.utd.USER&&(null===(g=h.contents.contents)||void 0===g?void 0:g.$kind)==="messageEventContents"&&a++,(null===(m=h.contents.contents)||void 0===m?void 0:m.$kind)==="contextComplexityEventContents"){var b=h.contents.contents.contextComplexityEventContents.fullness;(!i||h.created>i.created)&&(i=h);var y=5*Math.floor((a-1)/5);b>=r&&y>o&&(s.set(h.id,a),o=y)}}}catch(e){c=!0,u=e}finally{try{l||null==v.return||v.return()}finally{if(c)throw u}}return{fullness:(null==i?void 0:null===(p=i.contents)||void 0===p?void 0:null===(d=p.contents)||void 0===d?void 0:d.$kind)==="contextComplexityEventContents"?i.contents.contents.contextComplexityEventContents.fullness:0,userSentEventCount:a,warningEventMap:s}}function rI(e){var t=(0,nE._P)({controlName:"flag-context-warning-threshold",type:"number",default:.8});return et((0,D.useMemo)(function(){var n=(0,P.eU)(function(n){var r=e?n(eU).get(e):null;if(!r)return{fullness:0,userSentEventCount:0,showIndicator:!1};var i=rk({session:r,events:n(eE),warningThreshold:t}),a=i.fullness;return{fullness:a,userSentEventCount:i.userSentEventCount,showIndicator:a>=t}});return(0,ed.mg)(n,function(e){return e},ec())},[e,t]))}function rT(e){var t=(0,nE._P)({controlName:"flag-context-warning-threshold",type:"number",default:.8});return et((0,D.useMemo)(function(){return(0,P.eU)(function(n){var r=n(eE).byId.get(e);if(!(null==r?void 0:r.contents.contents)||"contextComplexityEventContents"!==r.contents.contents.$kind)return null;var i=n(eU).get(r.sessionId);if(!i)return null;var a=rk({session:i,events:n(eE),warningThreshold:t}).warningEventMap.get(e);return a?{fullness:r.contents.contents.contextComplexityEventContents.fullness,messageCount:a,sessionId:r.sessionId}:null})},[e,t]))}function rO(e){return et((0,D.useMemo)(function(){return(0,ed.mg)(eU,function(t){var n;return!!e&&(null===(n=t.get(e))||void 0===n?void 0:n.sessionType)===L.dF3.AGENT_REPLAY_SESSION})},[e]))}var rR=n(62580);function rD(e){var t,n,a,o,s,l,c,u,d,p,f,v,g,h,U,E,S,C,_,Z,x,w,A,k,T,j,F,$,H,B,q,z,V,K,J,X,ee=e.replId,et=e.currentUserId,en=e.hasAccessToAdvancedModel,er=e.children,ei=(n=(t={replId:ee,currentUserId:et,hasAccessToAdvancedModel:en,testStore:e.testStore,agentChatEnabled:e.agentChatEnabled,agentReplayEnabled:e.agentReplayEnabled,orgId:e.orgId}).replId,a=t.currentUserId,o=t.orgId,s=t.hasAccessToAdvancedModel,l=t.agentChatEnabled,c=t.agentReplayEnabled,u=t.testStore,d=(0,rR.gc)("assistantAdvancedModelOverride").preferences.assistantAdvancedModelOverride,f=(p={replId:n,currentUserId:a,orgId:o,agentReplayEnabled:c,onProtocolError:function(e){b(e.message,{code:e.type})},onRetriesExceeded:function(){(0,N.flushSync)(function(){return k.set(ez,!0)})}}).endpoint,v=p.replId,g=p.currentUserId,h=p.orgId,U=p.agentReplayEnabled,E=p.onRetriesExceeded,S=p.onProtocolError,_=(C=(0,O._)((0,D.useState)(null),2))[0],Z=C[1],x=(0,Y.A)(E),w=(0,Y.A)(S),A=(0,D.useRef)(U),(0,D.useEffect)(function(){var e=(0,L.hVx)({currentUserId:g}),t=new L.jIS({clientId:e,serverId:G,logger:W,getEndpoint:(0,r._)(function(){var t,n;return(0,i.YH)(this,function(r){switch(r.label){case 0:if(f)return[2,f];return[4,I(v,e,h)];case 1:return t=r.sent(),(n=new URL(m())).searchParams.set("auth_token",t),[2,n]}})}),onProtocolError:function(e){var t;null===(t=w.current)||void 0===t||t.call(w,e)},onRetriesExceeded:function(e){var t;null===(t=x.current)||void 0===t||t.call(x,e)}}),n=A.current?new L.IJl({connection:t,minDuration:15e3,maxDuration:25e3}):t;return Z(n),function(){n.close(),Z(null)}},[f,v,g,h,x,w]),k=(0,O._)((0,D.useState)(function(){if(u)throw Error("testStore in only meant for tests");var e=null!=u?u:(0,P.y$)();return!0===l&&e.set(n6,l),e}),1)[0],(0,D.useEffect)(function(){k.set(eD,{replId:n,currentUserId:a,hasAccessToAdvancedModel:s,assistantAdvancedModelOverride:d,defaultAssistantChatMode:s?"advanced":"basic",defaultAssistantInlineMode:s?"advanced":"basic"})},[k,n,a,s,d]),(0,D.useEffect)(function(){if(_&&null!==n){var e=null,t=_.status.subscribe(function(t){if(null==e||e(),e=null,"connected"!==t){(0,N.flushSync)(function(){return k.set(eq,_.status.current)});return}e=function(e,t,n){var a=function(){},o=!1;function s(){return(s=(0,r._)(function(){var r,s,l,c,u,d,p,f,v;return(0,i.YH)(this,function(i){switch(i.label){case 0:return[4,e.subscribeToReplEvents.subscribe({replId:t})];case 1:if(s=(r=O._.apply(void 0,[i.sent(),2]))[0],a=r[1],o)return[2];l=!1,c=!1,i.label=2;case 2:i.trys.push([2,7,8,13]),d=(0,M._)(s),i.label=3;case 3:return[4,d.next()];case 4:if(!(l=!(p=i.sent()).done)||(f=p.value,o))return[3,6];if(!f.ok)return y(f.payload),[3,5];n(f.payload.message),i.label=5;case 5:return l=!1,[3,3];case 6:return[3,13];case 7:return v=i.sent(),c=!0,u=v,[3,13];case 8:if(i.trys.push([8,,11,12]),!(l&&null!=d.return))return[3,10];return[4,d.return()];case 9:i.sent(),i.label=10;case 10:return[3,12];case 11:if(c)throw u;return[7];case 12:return[7];case 13:return[2]}})})).apply(this,arguments)}return function(){s.apply(this,arguments)}(),function(){o=!0,a()}}(_.service,n,function(e){k.set(tv,e)}),k.set(eq,t),k.set(eF)});return k.set(eW,_),k.set(eq,_.status.current),function(){null==e||e(),t.unsubscribe(),k.set(eq,"connecting"),k.set(eW,null)}}},[n,k,_]),{store:k,yapper:(j=(T={connection:_,replId:n,user:(0,D.useMemo)(function(){return{id:a.toString(),type:L.utd.USER,isTeam:!1,roles:[],membership:s?L.VMq.CORE:L.VMq.FREE,orgId:"",username:""}},[a,s]),hasAdvancedModel:s,preferredModel:null!=d?d:void 0,onError:function(e,t){b(e.message,null!=t?t:void 0)}}).connection,F=T.replId,$=T.user,H=T.hasAdvancedModel,B=T.preferredModel,q=T.onError,V=(z=(0,O._)((0,D.useState)(null),2))[0],K=z[1],J=(0,Y.A)(q),X=!!q,(0,D.useEffect)(function(){if(j){var e=new L.eGc({connection:j,replId:F,user:$,hasAdvancedModel:H,preferredModel:B,onError:X?function(e,t){var n;return null===(n=J.current)||void 0===n?void 0:n.call(J,e,t)}:void 0});return K(e),function(){e.dispose(),K(null)}}},[j,F,X]),(0,D.useEffect)(function(){V&&(V.user.current!==$&&V.user.set($),V.hasAdvancedModel.current!==H&&V.hasAdvancedModel.set(H),B&&V.preferredModel.current!==B&&V.preferredModel.set(B))},[V,$,H,B]),V)}),ea=ei.store,eo=ei.yapper;return eo?(0,R.Y)(Q,{store:ea,yapper:eo,children:er}):null}function rN(){var e,t,n,a,o,s,l,c,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=(0,O._)((0,D.useState)(null!==(c=u.initialSessionId)&&void 0!==c?c:null),2),p=d[0],f=d[1],v=(0,O._)((0,D.useState)(!1),2),g=v[0],m=v[1],h=(0,O._)((t=(e=(0,O._)((0,D.useState)(new Map),2))[0],n=e[1],[t,(0,D.useCallback)(function(e){n(function(t){return(0,eu.jM)(t,function(t){null===e.eventId?t.delete(e.parentEventId):t.set(e.parentEventId,e.eventId)})})},[])]),2),b=h[0],y=h[1],U=eN().replId;eK(U);var E=et(e5),S=et(e4),C=tS(),_=tI(),Z=er(tq),x=t_(),w=(a=ty(p,b),(0,z.yF)((0,D.useCallback)(function(e,t){var n=e(a);n&&n.state===L.qOk.IN_PROGRESS&&t(tA,n.id)},[a]),{store:ee()})),A=(o=ei(eE),(0,D.useCallback)(function(e){var t=o(),n=t.byParentId.get(e);if(!n)return[];var r=[],i=!0,a=!1,s=void 0;try{for(var l,c=n[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value,d=t.byId.get(u);d&&r.push(d)}}catch(e){a=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw s}}return r},[o])),k=(0,Y.A)(g),I=en(ty(p,b));(0,D.useEffect)(function(){return I.subscribe(function(e){if(e&&e.sender.type===L.utd.AI){var t=e.state===L.qOk.COMPLETE;!0===k.current&&t&&m(!1)}})},[I,k]);var T=(0,Y.A)(u.onError),R=(0,Y.A)(u.onSession),N=(0,D.useCallback)((s=(0,r._)(function(e){var t,n,r,a,o,s,l,c,u,d,v,g=arguments;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(t=g.length>1&&void 0!==g[1]?g[1]:{},m(!0),p)return[3,3];return[4,_({replId:U,sessionType:null!==(r=t.newSessionType)&&void 0!==r?r:function(e){switch(e){case"inlineAction":case"shellSuggestion":return L.dF3.INLINE_CHAT;case"translate":case"byoPrompt":return L.dF3.SINGLE_USE_SESSION;default:return L.dF3.CHAT}}(e.kind)})];case 1:if(!(a=i.sent()))return null===(o=T.current)||void 0===o||o.call(T,"Error creating session"),[2];return f(a.id),null===(n=R.current)||void 0===n||n.call(R,a.id,a.sessionType),[4,x({parentEventId:null!==(s=t.parentEventId)&&void 0!==s?s:a.sessionCreationEventId,sessionId:a.id,data:e,getFileContext:t.getFileContext||void 0})];case 2:return l=i.sent(),"localShellExecution"===e.kind&&m(!1),l.ok||null===(c=T.current)||void 0===c||c.call(T,"Error sending message"),[2];case 3:if(!(u=C(p,b)))throw Error("Expected parent id");return[4,x({parentEventId:u,sessionId:p,data:e,getFileContext:t.getFileContext||void 0})];case 4:return d=i.sent(),"localShellExecution"===e.kind&&m(!1),d.ok||null===(v=T.current)||void 0===v||v.call(T,"Error sending message"),[2]}})}),function(e){return s.apply(this,arguments)}),[p,_,x,C,b,U,R,T]),P=(0,D.useCallback)((l=(0,r._)(function(e){var t;return(0,i.YH)(this,function(n){switch(n.label){case 0:if(!p)throw Error("can't get event without a session");if((t=A(e)).length>0)return[2,t];return[4,Z({sessionId:p})];case 1:return n.sent(),[2,A(e)]}})}),function(e){return l.apply(this,arguments)}),[p,Z,A]);return{sendMessage:N,stopMessage:w,loading:g,setSessionId:f,sessionId:p,parentToActiveChild:b,setActiveChild:y,getEventsByParentId:P,hasAnyChatSessions:E,hasAnyAgentSessions:S}}function rP(e,t){var n,r=(n=eC(e),(0,D.useMemo)(function(){return(0,P.eU)(function(e){return n?e_(n,e(eE),t).filter(function(e){var t=(0,O._)(e,2),n=t[0];return"aiMessage"===t[1]&&(0,L.VFn)(null==n?void 0:n.contents.contents,"messageEventContents")&&(0,L.QNh)(null==n?void 0:n.contents.contents).assistantProposedActions.didCountEditRequest}).map(function(e){var t=(0,O._)(e,2),n=t[0];return t[1],n}):[]})},[t,n]));return et((0,D.useMemo)(function(){return(0,ed.mg)(r,function(e){var t=e[e.length-1];if(!t)return null;var n=em(t),r=(0,L.VFn)(n,"proposedFileChanges")?(0,L.QNh)(n):void 0,i=ey(t);return{eventId:t.id,summary:(null==i?void 0:i.summary)||(null==r?void 0:r.summary)||""}})},[r]))}function rL(e){return et((0,D.useMemo)(function(){return(0,P.eU)(function(t){var n=t(eE),r=0,i=!0,a=!1,o=void 0;try{for(var s,l=n.byId[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=(0,O._)(s.value,2)[1];(null==c?void 0:c.sessionId)===e&&rj(c)&&(r+=nU.a7)}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return r})},[e]))}function rM(e){return rj(et(tg(e)))}function rj(e){var t=null==e?void 0:e.contents.contents;if(!e||!(0,L.VFn)(t,"messageEventContents"))return!1;var n=t.messageEventContents,r=n.extraActions,i=n.assistantProposedActions;if(e.created<new Date("2025-01-22")){if((0,L.VFn)(r,"proposedFileChanges")&&r.proposedFileChanges.changes.length||i.fileChanges.length>0||i.shellCommands.length>0)return!0}else if(i.didCountEditRequest)return!0;return!1}var rF=n(14733),rY=n(24481);function r$(e){var t,n,a,o=e.sessionId,s=(0,rY.A)().git,l=tm(),c=(t=ei(eE),(0,D.useCallback)(function(e){return tD(t().byId.get(e))},[t])),u=rr(),d=n8(),p=tw(),f=(0,D.useCallback)(function(){return new Promise(function(e,t){switch(u.runState){case L.g32.AGENT_STATE_PAUSING:setTimeout(function(){f().then(e,t)},1e3);break;case L.g32.AGENT_STATE_NOT_STARTED:case L.g32.AGENT_STATE_PAUSED:e();break;case L.g32.AGENT_STATE_UNKNOWN:t();break;case L.g32.AGENT_STATE_RUNNING:p({sessionId:o,runState:L.g32.AGENT_STATE_PAUSED}).then(function(){return e()},t);break;default:t("Unreachable agent run state: ".concat(u.runState))}})},[u.runState,p,o]);return{commitAppliedChanges:(0,D.useCallback)((n=(0,r._)(function(e){var t,n,r,a,o,u,d,p,f,v,g,m,h,b,y,U,E;return(0,i.YH)(this,function(i){switch(i.label){case 0:return t=e.changes,n=e.summary,r=e.eventId,s.forceRefresh(),[4,s.status()];case 1:if((a=i.sent()).error)return[2,a];if(0===a.changes.length||(o="Assistant checkpoint",0===t.length))return[2,{error:ny.NOTHING_TO_COMMIT}];n&&(o+=": ".concat(n)),o+="\n\nAssistant generated file changes:\n",u=!0,d=!1,p=void 0;try{for(f=t[Symbol.iterator]();!(u=(v=f.next()).done);u=!0)g=v.value,o+="- ".concat(g.filePath,": ").concat(g.changeSummary,"\n")}catch(e){d=!0,p=e}finally{try{u||null==f.return||f.return()}finally{if(d)throw p}}return(m=l(r))&&(null==(h=c(m.parentEventId))?void 0:h.content)&&(o+="\n---\n\nUser prompt:\n\n".concat(h.content)),b=a.changes.filter(function(e){return!e.staged}).filter(function(e){return rF.UC.includes(e.path)}).map(function(e){return e.path}),y=a.changes.filter(function(e){return e.staged}).map(function(e){return e.path}),U=t.map(function(e){return e.filePath}),E=new Set((0,es._)(b).concat((0,es._)(y),(0,es._)(U))),[4,s.stageFiles({add:Array.from(E)})];case 2:return i.sent(),[2,s.commit({message:o})]}})}),function(e){return n.apply(this,arguments)}),[s,l,c]),stageChanges:(0,D.useCallback)((a=(0,r._)(function(e){var t,n;return(0,i.YH)(this,function(r){switch(r.label){case 0:return[4,s.status()];case 1:if((t=r.sent()).error)return[2,t];if(0===(n=null!=e?e:t.changes.map(function(e){return e.path})).length)return[2];return[2,s.stageFiles({add:n})]}})}),function(e){return a.apply(this,arguments)}),[s]),agentRunState:u.runState,pauseAgent:f,supportsAgent:d,intent:L.qRv.ITERATIVE_AGENT}}function rH(e){var t,n,r=e.sessionId,i=e.parentToActiveChild,a=e.useLatestEventId,o=void 0!==a&&a,s=t_(),l=null===(t=tU(null!=r?r:null,i))||void 0===t?void 0:t.id,c=null===(n=rP(null!=r?r:null,i))||void 0===n?void 0:n.eventId,u=tS();return(0,D.useCallback)(function(e){var t=e.appliedChanges,n=e.commitHash;if(null!=r&&null!=c){var a=l;if(o&&(a=u(r,i)),a)return s({sessionId:r,parentEventId:a,data:{kind:"iterativeAgent",action:{eventIdWhichProposedChanges:c,appliedChanges:t,commitHash:n},model:L.e3q.ADVANCED}})}},[r,c,l,o,s,u,i])}function rG(e){var t,n,a,o,s,l,c,u=e.sessionId,d=e.parentToActiveChild,p=e.eventId,f=null===(s=rP(null!=u?u:null,d))||void 0===s?void 0:s.eventId,v=et(tg(p)),g=(null==v?void 0:v.state)===L.qOk.COMPLETE,m=ey(v),h=et((t=null!=u?u:null,n=(0,D.useCallback)(function(e){return!!((0,L.VFn)(e,"appliedFileChanges")||(0,L.VFn)(e,"revertedFileChanges"))&&(0,L.QNh)(e).eventWhichProposedChanges===p},[p]),a=eR(t,d,"iterativeAgentEventContents"),(0,D.useMemo)(function(){return(0,P.eU)(function(e){var t=e(a);if(t){var r=t.filter(function(e){return!!(0,L.VFn)(e.contents.contents,"iterativeAgentEventContents")&&n((0,L.QNh)(e.contents.contents).contents)});return r[r.length-1]}})},[a,n]))),b=null==h?void 0:null===(c=h.contents)||void 0===c?void 0:null===(l=c.contents)||void 0===l?void 0:l.iterativeAgentEventContents.contents,y="pending";(0,L.VFn)(b,"appliedFileChanges")&&(0,L.QNh)(b).eventWhichProposedChanges===p?y="applied":(0,L.VFn)(b,"revertedFileChanges")&&(0,L.QNh)(b).eventWhichProposedChanges===p&&(y="reverted");var U=rH({sessionId:u,parentToActiveChild:d}),E=(0,D.useCallback)((o=(0,r._)(function(e){return(0,i.YH)(this,function(t){switch(t.label){case 0:return[4,U({appliedChanges:e.appliedChanges,commitHash:e.commitHash})];case 1:return t.sent(),[2]}})}),function(e){return o.apply(this,arguments)}),[U]),S=(0,D.useMemo)(function(){return rj(v)},[v]);return{latestEventIdWhichProposedChanges:f,applyLatestChanges:E,changeStatus:y,changeSetSummary:null==m?void 0:m.summary,didCountEditRequest:S,appliedOrRevertedChanges:{contents:b,created:null==h?void 0:h.created},isMessageComplete:g}}function rB(e){var t=t_();return(0,D.useCallback)(function(n){if(null!=e)return t({sessionId:e,parentEventId:n.eventIdWhichAppliedChanges,data:{kind:"iterativeAgent",action:n,model:L.e3q.ADVANCED}})},[t,e])}function rW(e){var t,n,a=e.sessionId,o=e.parentToActiveChild,s=e.eventIdWhichProposedPackageInstall,l=t_(),c=tS();return{sendInstallingPackagesMessage:(0,D.useCallback)((t=(0,r._)(function(e){var t,n,r;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(t=e.processId,n=e.messageContentsOffset,!a)return[2];return r=c(a,o),[4,l({sessionId:a,parentEventId:r,data:{kind:"iterativeAgent",action:{eventIdWhichProposedPackageInstall:s,processId:t,messageContentsOffset:n},model:L.e3q.ADVANCED}})];case 1:return[2,i.sent()]}})}),function(e){return t.apply(this,arguments)}),[s,c,o,l,a]),sendInstalledPackagesMessage:(0,D.useCallback)((n=(0,r._)(function(e){var t,n,r,u,d;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(t=e.installationOutput,n=e.exitCode,r=e.processId,u=e.messageContentsOffset,!a)return[2];return d=c(a,o),[4,l({sessionId:a,parentEventId:d,data:{kind:"iterativeAgent",action:{eventIdWhichProposedPackageInstall:s,installationOutput:t,messageContentsOffset:u,exitCode:n,processId:r},model:L.e3q.ADVANCED}})];case 1:return[2,i.sent()]}})}),function(e){return n.apply(this,arguments)}),[s,c,o,l,a])}}function rq(e){var t,n,a=e.sessionId,o=e.parentToActiveChild,s=e.eventIdWhichProposedShellExecution,l=t_(),c=tS();return{sendStartedShellExecutionMessage:(0,D.useCallback)((t=(0,r._)(function(e){var t,n,r;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(t=e.processId,n=e.messageContentsOffset,!a)return[2];return r=c(a,o),[4,l({sessionId:a,parentEventId:r,data:{kind:"iterativeAgent",action:{eventIdWhichProposedShellExecution:s,processId:t,messageContentsOffset:n},model:L.e3q.ADVANCED}})];case 1:return[2,i.sent()]}})}),function(e){return t.apply(this,arguments)}),[s,c,o,l,a]),sendFinishedShellExecutionMessage:(0,D.useCallback)((n=(0,r._)(function(e){var t,n,r,u,d;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(t=e.commandOutput,n=e.exitCode,r=e.processId,u=e.messageContentsOffset,!a)return[2];return d=c(a,o),[4,l({sessionId:a,parentEventId:d,data:{kind:"iterativeAgent",action:{eventIdWhichProposedShellExecution:s,commandOutput:t,exitCode:n,processId:r,messageContentsOffset:u},model:L.e3q.ADVANCED}})];case 1:return[2,i.sent()]}})}),function(e){return n.apply(this,arguments)}),[s,c,o,l,a])}}function rz(e){var t,n=e.sessionId,a=e.parentToActiveChild,o=e.eventIdWhichProposedRunConfiguration,s=t_(),l=tS();return(0,D.useCallback)((t=(0,r._)(function(e){var t,r;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(t=e.messageContentsOffset,!n)return[2];return r=l(n,a),[4,s({sessionId:n,parentEventId:r,data:{kind:"iterativeAgent",action:{eventIdWhichProposedRunConfiguration:o,messageContentsOffset:t},model:L.e3q.ADVANCED}})];case 1:return[2,i.sent()]}})}),function(e){return t.apply(this,arguments)}),[n,l,a,s,o])}function rV(e){var t,n=e.sessionId,a=e.parentToActiveChild,o=e.eventIdWhichProposedDeploymentConfiguration,s=t_(),l=tS();return(0,D.useCallback)((t=(0,r._)(function(e){var t,r;return(0,i.YH)(this,function(i){switch(i.label){case 0:if(t=e.messageContentsOffset,!n)return[2];return r=l(n,a),[4,s({sessionId:n,parentEventId:r,data:{kind:"iterativeAgent",action:{eventIdWhichProposedDeploymentConfiguration:o,messageContentsOffset:t},model:L.e3q.ADVANCED}})];case 1:return[2,i.sent()]}})}),function(e){return t.apply(this,arguments)}),[n,l,a,s,o])}function rK(e){var t,n=e.onResponse,r=rN(),i=r.sendMessage,o=r.stopMessage,s=r.loading,l=r.sessionId,c=r.parentToActiveChild,u=(0,O._)((0,D.useState)(!1),2),d=u[0],p=u[1],f=(0,O._)((0,D.useState)(null),2),v=f[0],g=f[1],m=(t=ty(l,c),en((0,D.useMemo)(function(){return(0,P.eU)(function(e){var n=e(t);if(!n||n.sender.type===L.utd.USER)return null;var r=void 0;if((null===(o=n.contents.contents)||void 0===o?void 0:o.$kind)==="byoPromptEventContents"){var i,o,s,l=n.contents.contents.byoPromptEventContents.result.fields[0];i=l.value,a.WT.Check(L.PbA,i)&&(null===(s=l.value.kind)||void 0===s?void 0:s.$kind)==="stringValue"&&"string"==typeof l.value.kind.stringValue&&(r=l.value.kind.stringValue)}var c=n.state===L.qOk.COMPLETE,u=n.error.message;return u||!c||r||(u="Something went wrong"),{response:r,completed:c,error:u}})},[t]))),h=(0,Y.A)(d);(0,D.useEffect)(function(){if(l)return m.subscribe(function(e){(null==e?void 0:e.response)&&n(e.response,e.completed),(null==e?void 0:e.error)&&g(e.error),!!(null==e?void 0:e.completed)!==h.current&&p((null==e?void 0:e.completed)||!1)})},[l,n,m,h]);var b=(0,D.useCallback)(function(){return m.current},[m]),y=(0,D.useCallback)(function(){return g(null)},[]);return{sendMessage:(0,D.useCallback)(function(e,t){g(null),i({kind:"byoPrompt",messages:[{role:"system",content:e},{role:"user",content:t}],parameters:[{name:"result_string",description:'You need to respond in full sentences. For example, "In this commit main.py had a method update_event added to it."',required:!0,parameterType:L.b4s.STRING,enums:[]}],model:L.e3q.BASIC})},[i]),stopMessage:o,completed:d,error:v,clearError:y,loading:s,getResponse:b}}function rQ(){var e=et(eG),t=er(eG),n=ei(eG),r=(0,D.useCallback)(function(){return"basic"===n()?L.qRv.NONE:L.qRv.ITERATIVE_AGENT},[n]),i=(0,D.useCallback)(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n();return e.isAuthorized?"advanced"===t?L.e3q.ADVANCED:L.e3q.BASIC:L.e3q.MODEL_TYPE_UNKNOWN},[n]);return{assistantMode:e,setAssistantMode:t,getAssistantMode:n,getAssistantMessageIntent:r,getAssistantMessageModel:i}}function rJ(){return{assistantInlineMode:et(eB)}}function rX(e){var t,n,r=e.onCode,i=e.getFileContext,a=e.assistantMode,o=rN(),s=o.sendMessage,l=o.stopMessage,c=o.loading,u=o.sessionId,d=o.parentToActiveChild,p=(0,O._)((0,D.useState)(!1),2),f=p[0],v=p[1],g=(0,O._)((0,D.useState)(null),2),m=g[0],h=g[1],b=tE(u,d),y=(0,Y.A)(f);(0,D.useEffect)(function(){var e,t;if(u)return(null===(e=b.current)||void 0===e?void 0:e.code)&&r(null===(t=b.current)||void 0===t?void 0:t.code),b.subscribe(function(e){(null==e?void 0:e.code)&&r(e.code),(null==e?void 0:e.error)&&h(e.error),!!(null==e?void 0:e.completed)!==y.current&&v((null==e?void 0:e.completed)||!1)})},[u,r,b,y]);var U=(0,D.useCallback)(function(){return b.current},[b]),E=(0,D.useCallback)(function(){return h(null)},[]),S=(n=(t={advancedChatEngineOverride:null,assistantMode:a}).advancedChatEngineOverride,"advanced"===t.assistantMode?n||L.e3q.ADVANCED:L.e3q.BASIC);return{sendMessage:(0,D.useCallback)(function(e){h(null),s({kind:"inlineAction",message:e.message,messageType:e.type,model:S,codeReference:e.codeReference,fileContext:e.fileContext,useRag:!0},{getFileContext:i})},[S,s,i]),stopMessage:l,completed:f,error:m,clearError:E,loading:c,getCode:U}}function r0(e){var t,n=e.getFileContext,a=rN(),o=a.sendMessage,s=a.stopMessage,l=a.loading,c=a.sessionId,u=a.parentToActiveChild,d=rJ().assistantInlineMode,p=tU(c,u),f=tG(),v=p&&p.sender.type===L.utd.AI?p:null,g=(null==v?void 0:v.state)===L.qOk.COMPLETE,m=(null==v?void 0:null===(t=v.contents.contents)||void 0===t?void 0:t.$kind)==="inlineActionEventContents"?v.contents.contents.inlineActionEventContents.content:null,h=(0,Y.A)(n),b=(0,D.useCallback)((0,r._)(function(){var e,t,n;return(0,i.YH)(this,function(r){switch(r.label){case 0:if((null==p?void 0:p.sender.type)!==L.utd.AI)return[3,4];if(e=[p.id],t={model:"advanced"===d?L.e3q.ADVANCED:L.e3q.BASIC,type:L.Z1T.EXPLAIN_CODE},!h.current)return[3,2];return[4,h.current()];case 1:return n=r.sent(),[3,3];case 2:n=void 0,r.label=3;case 3:f.apply(void 0,e.concat([(t.fileContext=n,t)])),r.label=4;case 4:return[2]}})}),[f,p,d,h]);return{sendMessage:(0,D.useCallback)(function(e){o({kind:"inlineAction",message:"",messageType:L.Z1T.EXPLAIN_CODE,model:"advanced"===d?L.e3q.ADVANCED:L.e3q.BASIC,codeReference:e.codeReference,fileContext:e.fileContext,useRag:!0},{getFileContext:n})},[d,o,n]),stopMessage:s,completed:g,loading:l,model:d,message:m,retry:b,sessionId:c,getFileContext:n}}function r1(e){var t,n=e.onSession,a=e.getFileContext,o=e.onError,s=(0,O._)((0,D.useState)(!1),2),l=s[0],c=s[1],u=rJ().assistantInlineMode,d=(0,Y.A)(n),p=eN().replId;eK(p);var f=tI(),v=t_(),g=(0,Y.A)(a),m=(0,Y.A)(o);return{sendMessage:(0,D.useCallback)((t=(0,r._)(function(e){var t,n,r;return(0,i.YH)(this,function(i){switch(i.label){case 0:return c(!0),[4,f({replId:p,sessionType:L.dF3.CHAT})];case 1:if(!(t=i.sent()))return null===(n=m.current)||void 0===n||n.call(m,"Error creating session"),[2];return d.current(t.id),[4,v({parentEventId:t.sessionCreationEventId,sessionId:t.id,getFileContext:g.current,data:{kind:"inlineAction",message:e.message,messageType:L.Z1T.DEBUGGER,model:"advanced"===u?L.e3q.ADVANCED:L.e3q.BASIC,codeReference:e.codeReference,useRag:!0}})];case 2:return i.sent().ok||null===(r=m.current)||void 0===r||r.call(m,"Error sending message"),c(!1),[2]}})}),function(e){return t.apply(this,arguments)}),[f,v,p,d,m,g,u]),loading:l}}var r2=U.ZU.Object({description:U.ZU.String(),name:U.ZU.Optional(U.ZU.String()),type:U.ZU.Optional(U.ZU.String()),before:U.ZU.Optional(U.ZU.String()),after:U.ZU.Optional(U.ZU.String()),file:U.ZU.Optional(U.ZU.Union([U.ZU.String(),U.ZU.Null()])),File:U.ZU.Optional(U.ZU.Object({$kind:U.ZU.String(),file:U.ZU.String()}))}),r5=U.ZU.Object({errors:L.wIV.properties.errors,suggestions:U.ZU.Array(r2)});function r4(e,t){var n,o=e.sessionId,s=e.eventId,l=(0,O._)((0,D.useState)(),2),c=l[0],u=l[1],d=(0,O._)((0,D.useState)(!0),2),p=d[0],f=d[1],v=(0,O._)((0,D.useState)(!1),2),g=v[0],m=v[1],h=rN({initialSessionId:o}),b=h.parentToActiveChild,y=h.getEventsByParentId,U=(0,nS.A)(),S=(n=ei(eU),(0,D.useCallback)(function(e){return n().get(e)},[n])),C=er(tT),_=(0,D.useRef)(function(){}),Z=(0,D.useRef)(null),x=en(ty(o,b)),w=(0,D.useRef)(!1);(0,D.useEffect)(function(){if(!w.current)return w.current=!0,!function(){e.apply(this,arguments)}(),function(){A()};function e(){return(e=(0,r._)(function(){var e,n;function r(t){A();try{var n=function(e){if((null===(t=e.contents.contents)||void 0===t?void 0:t.$kind)!=="hostingDebugSummaryEventContents")throw Error("Expected hostingDebugSummaryEventContents");var t,n=e.contents.contents.hostingDebugSummaryEventContents.result;if(!a.WT.Check(r5,n))throw(0,E.$J)(r5,n);return n}(t);u(n),f(!1)}catch(t){e(t)}}function l(e){e&&e.sender.type===L.utd.AI&&e.parentEventId===s&&e.state===L.qOk.COMPLETE&&r(e)}return(0,i.YH)(this,function(i){switch(i.label){case 0:return e=function(e){f(!1),t(e),m(!0)},S(o)||C((0,L.jwg)({id:o,sessionType:L.dF3.HOSTING_DEBUG_SUMMARY,replId:U,sessionCreationEventId:s})),[4,y(s)];case 1:if((n=i.sent()[0])&&n.state===L.qOk.COMPLETE)return r(n),[2];return _.current=x.subscribe(l),Z.current=setTimeout(function(){e(Error("Debug summary event timed out while loading.")),_.current()},15e3),[2]}})})).apply(this,arguments)}},[s,y,t,x,U,S,o,C]);var A=function(){_.current(),Z.current&&clearTimeout(Z.current)};return{loading:p,error:g,debugResult:c}}function r3(e){var t=e.onCode,n=rN(),r=n.sendMessage,i=n.stopMessage,a=n.loading,o=n.sessionId,s=n.parentToActiveChild,l=(0,O._)((0,D.useState)(!1),2),c=l[0],u=l[1],d=(0,O._)((0,D.useState)(null),2),p=d[0],f=d[1],v=tE(o,s),g=(0,Y.A)(c);(0,D.useEffect)(function(){var e,n;if(o)return(null===(e=v.current)||void 0===e?void 0:e.code)&&t(null===(n=v.current)||void 0===n?void 0:n.code),v.subscribe(function(e){(null==e?void 0:e.code)&&t(e.code),(null==e?void 0:e.error)&&f(e.error),!!(null==e?void 0:e.completed)!==g.current&&u((null==e?void 0:e.completed)||!1)})},[o,t,v,g]);var m=(0,D.useCallback)(function(){return v.current},[v]),h=(0,D.useCallback)(function(){return f(null)},[]);return{sendMessage:(0,D.useCallback)(function(e){f(null),r({kind:"shellSuggestion",message:e.message,model:L.e3q.BASIC})},[r]),stopMessage:i,completed:c,error:p,clearError:h,loading:a,getCode:m}}function r7(e){var t=e.onTranslation,n=e.onError,r=rN(),i=r.sendMessage,a=r.stopMessage,o=r.loading,s=r.sessionId,l=r.parentToActiveChild,c=(0,D.useRef)(""),u=(0,O._)((0,D.useState)(!1),2),d=u[0],p=u[1],f=(0,O._)((0,D.useState)(null),2),v=f[0],g=f[1],m=tE(s,l),h=(0,Y.A)(d);(0,D.useEffect)(function(){if(s)return m.subscribe(function(e){(null==e?void 0:e.code)&&t(e.code,e.completed,c.current),(null==e?void 0:e.error)&&(n(e.error),g(e.error)),!!(null==e?void 0:e.completed)!==h.current&&p((null==e?void 0:e.completed)||!1)})},[s,t,n,m,h,c]);var b=(0,D.useCallback)(function(){return m.current},[m]),y=(0,D.useCallback)(function(){return g(null)},[]);return{sendMessage:(0,D.useCallback)(function(e){c.current=e.content,g(null),i({kind:"translate",content:e.content,inputTarget:e.inputTarget,outputTarget:e.outputTarget,model:L.e3q.BASIC})},[i]),stopMessage:a,completed:d,error:v,clearError:y,loading:o,getCode:b}}var r6=n(16530),r8=["package-lock.json","yarn.lock","poetry.lock","replit.nix",".breakpoints"],r9=[".out",".pkl",".bin",".csv",".log",".zip",".tar",".gz"],ie=["node_modules",".config","venv",".next",".git"],it=n(17079),ir=n(82845),ii=n(53654),ia=n(96367),io=n(6710),is=a.WT.Create(L.z91);function il(e){return!(!(0,ii.m6)(e)||function(e){if("Dockerfile"===e.split("/").pop())return!1;var t=(0,ii.an)(e),n=r8.some(function(t){return e.endsWith(t)}),r=r9.some(function(t){return e.endsWith(t)}),i=ie.some(function(t){return e.split("/").some(function(e){return e===t})});return!t||n||r||i}(e))}function ic(e){return iu.apply(this,arguments)}function iu(){return(iu=(0,r._)(function(e){var t,n,a,o,s,l,c,u,d,p,f,v,g,m,h,b,y,U,E,S,C,_,Z,x,w,A,k,I,T,R,D,N,P,M,j,F,Y,H,G,B,W,q,z,V,K,Q,J,X,ee,et,en,er,ei,ea,eo;return(0,i.YH)(this,function(el){switch(el.label){case 0:t=e.filter,n=e.filePreferences,a=e.entrypoint,o=e.model,s=e.fs,l=(0,r6._)(e,["filter","filePreferences","entrypoint","model","fs"]),c=(0,it.s)(o).fileContextCharacters,u=[],d=[],p=new Set,f=!0,v=!1,g=void 0;try{for(m=n[Symbol.iterator]();!(f=(h=m.next()).done);f=!0){if(y=(b=(0,O._)(h.value,2))[0],U=b[1],"exclude"===U){u.push(y);continue}if(!il(y)){p.add(y);continue}d.push(y)}}catch(e){v=!0,g=e}finally{try{f||null==m.return||m.return()}finally{if(v)throw g}}E=[],S=!0,C=!1,_=void 0;try{for(Z=l.recentFiles[Symbol.iterator]();!(S=(x=Z.next()).done)&&(w=x.value,u.includes(w)||!il(w)||!t(w)||d.includes(w)||(E.push(w),3!==E.length));S=!0);}catch(e){C=!0,_=e}finally{try{S||null==Z.return||Z.return()}finally{if(C)throw _}}if(A=(0,es._)(d).concat((0,es._)(E)),!(a&&A.length<10))return[3,2];return I=""===(k=(0,ii._6)(a))?ia.Dl:k,[4,s.readDir(I)];case 1:if(!(T=el.sent()).error){R=0,D=!0,N=!1,P=void 0;try{for(M=T.children[Symbol.iterator]();!(D=(j=M.next()).done)&&(F=j.value,Y=I===ia.Dl?F.filename:I+F.filename,u.includes(Y)||!il(Y)||!t(Y)||A.includes(Y)||(A.push(Y),1!=++R));D=!0);}catch(e){N=!0,P=e}finally{try{D||null==M.return||M.return()}finally{if(N)throw P}}}el.label=2;case 2:var ec;return $.vF.info("AI got file context",{numRecentFiles:E.length,numPreferredFiles:d.length,maxFiles:10}),H=A.slice(0,10),G=A.slice(10),[4,Promise.all(H.map((ec=(0,r._)(function(e){var t;return(0,i.YH)(this,function(n){return t=new Promise(function(e){return setTimeout(e,5e3)}),[2,Promise.race([Promise.all([s.readFile(e),function(){try{return s.getOTVersion(e)}catch(e){}return 0}()]),t])]})}),function(e){return ec.apply(this,arguments)})))];case 3:for(V=0,B=el.sent(),W=c,q=[],z=[];V<H.length;V++){if(K=H[V],!(Q=B[V])){$.vF.info("AI file read timeout",{filePath:K});continue}if(X=(J=(0,O._)(Q,2))[0],ee=J[1],X.error){$.vF.info("AI failed to read file",{filePath:K});continue}if((0,io.A)(X.content.toBuffer())){$.vF.info("GhostwriterChat filtered out binary file",{filePath:K});continue}if(W<=0){G.push(K);continue}if(en=(et=X.content.toString()).slice(0,W),er=et.length>en.length,eo=null!==(ea=null==(ei=ir.Jh.from(K))?void 0:ei.id)&&void 0!==ea?ea:(0,ii.an)(K),er){q.push(K);continue}W-=en.length,z.push({filePath:K,fileContent:en,fileVersion:ee,language:eo,referenceType:L.fDX.FILE,code:"",range:is})}return[2,{fileContext:z,preferredFiles:d,mostRecentFile:E.length?E[0]:void 0,truncatedFiles:q,overflowingFiles:G,unsupportedPreferredFiles:p}]}})})).apply(this,arguments)}function id(){var e=rQ().assistantMode,t=ip(),n=t.basicModelName,r=t.advancedModelName,i=t.overrideModelName;return null!=i?i:"advanced"===e?r:n}function ip(){var e=et(ej),t=eN().assistantAdvancedModelOverride;return(0,D.useMemo)(function(){var n,r,i,a=(0,O._)(null!==(n=null==e?void 0:e.basicModel)&&void 0!==n?n:[],1)[0],o=null!==(r=null==e?void 0:e.advancedModel)&&void 0!==r?r:[],s=null!==(i=iv(t))&&void 0!==i?i:null==e?void 0:e.overrideModel,l=o.find(function(e){return e.qualified===ni.qualified}),c=(0,O._)(o.filter(function(e){return e.qualified!==ni.qualified}),1)[0],u=(0,nr.FC)(c)?c:na.advanced,d=(0,nr.FC)(s)?s:void 0;return{basicModelName:(0,nr.FC)(a)?a:na.basic,advancedModelName:(0,nr.FC)(l)?l:u,overrideModelName:d}},[e,t])}function iv(e){if(e)return nr.k0.find(function(t){return t.qualified===e})}function ig(){var e=et(ej);return(0,D.useMemo)(function(){var t,n,r=(0,O._)(null!==(t=null==e?void 0:e.basicModel)&&void 0!==t?t:[],1)[0],i=(null!==(n=null==e?void 0:e.advancedModel)&&void 0!==n?n:[]).filter(function(e){return e.qualified!==ni.qualified})[0];return{basicModelName:(0,nr.FC)(r)?r:no.basic,advancedModelName:(0,nr.FC)(i)?i:no.advanced,overrideModelName:void 0}},[e])}var im=(0,P.eU)(function(e){return{config:e(eD),activeAgentSession:e(eY),sessions:Object.fromEntries(e(eU).entries()),events:Object.fromEntries(e(eE).byId)}});function ih(){return et(im)}var ib=n(24329);function iy(e,t){var n,r,i=(n=m(),r=window.location.host.startsWith("staging")||n===u.B.development||n===u.B.staging,t===L.dF3.AGENT_SESSION?r?"2a95b8aa-201c-481e-8ee3-858a19efdc53":"430ef9d3-abfe-4318-8a6d-4cadfe35d0ce":r?"c50da37d-4044-4795-b28e-8e1d21473f96":"cf9ea4d0-b92a-4076-b8f9-44441d907f6a"),a="".concat("https://smith.langchain.com","/o/").concat("ed54f928-4630-409b-b66a-947e0fbac288","/projects/p/").concat(i),o=encodeURIComponent('{"duration":"7d"}'),s=(0,ib.stringify)({timeModel:o,searchModel:'{"filter":"and(eq(is_root, true), and(eq(metadata_key, \\"session_id\\"), eq(metadata_value, \\"'.concat(e,'\\")))"}')});return"".concat(a,"?").concat(s)}function iU(e){var t,n=m(),r="https://cloud.temporal.io";switch(n){case u.B.development:r="http://localhost:8233",t="default";break;case u.B.staging:t="staging.ndbzr";break;case u.B.production:default:t="production.ndbzr"}var i="".concat(r,"/namespaces/").concat(t,"/workflows"),a=(0,ib.stringify)({query:'session_id = "'.concat(e,'"')});return"".concat(i,"?").concat(a)}function iE(e,t){var n=m(),r="prod";switch(n){case u.B.development:case u.B.staging:r="staging"}var i=(0,ib.stringify)({replid:e,sessionid:t,project:r});return"".concat("https://traceforge.replit.app","?").concat(i)}},14436:(e,t,n)=>{n.d(t,{Oz:()=>c,Wv:()=>a,Zy:()=>o,gH:()=>i,qL:()=>u,uE:()=>l,uF:()=>r,y9:()=>s});var r=48,i=240,a=1e3,o=1001,s=1002,l=1003,c=2,u=1},62580:(e,t,n)=>{n.d(t,{wb:()=>P,gc:()=>R});var r=n(13454),i=n(66622),a=n(27189),o=n(5482),s=n(94086),l=n(30758),c=n(96489),u=n.n(c),d=n(51297),p=n(99813),f=n(72653),v=n(11571),g=n(5761),m=n(20837),h=n(45009),b=n(30632),y=n(72813);function U(){var e=(0,h._)(["\n  query Preferences {\n    currentUser {\n      id\n      userSubscriptionType\n      workspacePreferences\n    }\n  }\n"]);return U=function(){return e},e}function E(){var e=(0,h._)(["\n  mutation PreferencesUpdate($input: JSON!) {\n    updateWorkspacePreferences(input: $input) {\n      id\n      workspacePreferences\n    }\n  }\n"]);return E=function(){return e},e}var S={},C=(0,b.J1)(U()),_=(0,b.J1)(E()),Z=n(29808),x=["fontSize","wrapping"],w=n(99655),A=(0,p.eU)((0,Z.o)(null)),k=(0,l.createContext)(null);function I(){var e=(0,l.useContext)(k);if(null===e)throw Error("Expected store");return e}function T(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i={},a=!0,o=!1,s=void 0;try{for(var l,c=n[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value;i[u]=e[u]}}catch(e){o=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return i}function O(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.join(",");return(0,l.useMemo)(function(){return(0,v.mg)(A,function(e){return T.apply(void 0,[e].concat((0,a._)(t)))},u())},[r])}function R(){for(var e,t,n,s,c=arguments.length,u=Array(c),p=0;p<c;p++)u[p]=arguments[p];var v=O.apply(void 0,(0,a._)(u)),m=(t=(0,g.m)(),n=(0,w.m5)(),s=(0,f.Xr)(A,{store:I()}),(0,l.useCallback)((e=(0,r._)(function(e){var r;return(0,o.YH)(this,function(a){switch(a.label){case 0:if(r=e,s(function(e){return(0,d.jM)(e,function(e){var t=!0,n=!1,a=void 0;try{for(var o,s=Object.entries(r)[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var l=(0,i._)(o.value,2),c=l[0],u=l[1];e[c]=u}}catch(e){n=!0,a=e}finally{try{t||null==s.return||s.return()}finally{if(n)throw a}}})}),n){var o;o=r,r=(0,d.jM)(o,function(e){x.forEach(function(t){switch(t){case"fontSize":delete e.fontSize,e.mobileFontSize=o.fontSize;break;case"wrapping":delete e.wrapping,e.mobileWrapping=o.wrapping}})})}return[4,t.mutate({mutation:_,variables:{input:r}})];case 1:return a.sent(),[2]}})}),function(t){return e.apply(this,arguments)}),[n,s,t])),h=I();return{preferences:(0,f.md)(v,{store:h}),update:m}}function D(e,t){var n,r=t.isMobile,i=(0,Z.o)(e);return r&&(n=i,i=(0,d.jM)(n,function(e){x.forEach(function(t){switch(t){case"fontSize":e.fontSize=n.mobileFontSize;break;case"wrapping":e.wrapping=n.mobileWrapping}})})),i}function N(e){var t,n,r=e.inMobileWorkspace,i=(0,f.Xr)(A,{store:I()});return t={onCompleted:function(e){var t,n;i(D(null!==(n=null==e?void 0:null===(t=e.currentUser)||void 0===t?void 0:t.workspacePreferences)&&void 0!==n?n:null,{isMobile:r}))}},n=(0,m._)({},S,t),y.I(C,n),null}function P(e){var t=(0,l.useRef)(null),n=(0,g.m)(),r=(0,w.m5)();if(null===t.current){t.current=(0,p.y$)();var i,a,o=n.readQuery({query:C}),c=D(null!==(a=null==o?void 0:null===(i=o.currentUser)||void 0===i?void 0:i.workspacePreferences)&&void 0!==a?a:null,{isMobile:r});t.current.set(A,c)}return(0,s.FD)(k.Provider,{value:t.current,children:[e.children,(0,s.Y)(N,{inMobileWorkspace:r})]})}},44576:(e,t,n)=>{n.d(t,{QJ:()=>s,b0:()=>l,m8:()=>u,xt:()=>c,z$:()=>o});var r=n(80039),i=n(98653),a=n(34805);function o(e){return e.toLocaleString(void 0,{minimumFractionDigits:2})}function s(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).round;return(e*r.yz).toLocaleString(void 0,{style:"currency",currency:"USD",maximumFractionDigits:t?0:void 0})}function l(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(e/100).toLocaleString("en-US",{style:"currency",currency:"USD",minimumFractionDigits:t})}function c(e){return e<1e4?e.toLocaleString():(0,i.$)(e,1)}function u(e){return"".concat(c(e)," ").concat((0,a.A)("Cycle",e))}},18682:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(30758);function i(e,t){var n=(0,r.useRef)(null),i=(0,r.useCallback)(function(t){var r;null!==(r=n.current)&&void 0!==r&&r.contains(t.target)||e(t)},t);return(0,r.useEffect)(function(){return document.addEventListener("mousedown",i),function(){document.removeEventListener("mousedown",i)}},[i]),n}},77781:(e,t,n)=>{n.d(t,{T:()=>u});var r=n(20837),i=n(45009),a=n(30632),o=n(72813);function s(){var e=(0,i._)(["\n  query CurrentUserId {\n    currentUser {\n      id\n    }\n  }\n"]);return s=function(){return e},e}var l={},c=(0,a.J1)(s());function u(){var e,t,n=(e=(0,r._)({},l,void 0),o.I(c,e)).data;return(null==n?void 0:null===(t=n.currentUser)||void 0===t?void 0:t.id)||null}},24129:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(13454),i=n(66622),a=n(5482),o=n(30758),s=n(41705);function l(e){var t,n=e.onUploadPreview,l=e.onUpload,c=e.onError,u=(0,i._)((0,o.useState)(!1),2),d=u[0],p=u[1];return{isLoading:d,uploadImage:(0,o.useCallback)((t=(0,r._)(function(e,t){var r,i,o,u,d,f;return(0,a.YH)(this,function(a){switch(a.label){case 0:if(p(!0),"image/svg+xml"===e.type)return c(Error("SVG images are not allowed")),[2,!1];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,(0,s.DK)(e)];case 2:return r=a.sent(),[3,4];case 3:return a.sent(),c(Error("This image is over the ".concat(s.W6/1e6,"MB maximum"))),[2,!1];case 4:n({dataUrl:r}),i=null,a.label=5;case 5:return a.trys.push([5,7,,8]),[4,(0,s.AF)(r,t)];case 6:return i=a.sent(),[3,8];case 7:return o=a.sent(),u="Something went wrong",u=o.message.toLowerCase().includes("entity too large")?"This image is over the 1MB maximum":o.message,n({dataUrl:""}),p(!1),c(Error(u)),[2,!1];case 8:if(d=i.id,f=i.url,"number"!=typeof d)throw Error("Expected id");if("string"!=typeof f)throw Error("Expected url");p(!1),a.label=9;case 9:return a.trys.push([9,11,,12]),[4,l({id:d,url:f})];case 10:return a.sent(),[3,12];case 11:return c(a.sent()),[2,!1];case 12:return[2,!0]}})}),function(e,n){return t.apply(this,arguments)}),[c,l,n])}}},8697:(e,t,n)=>{n.d(t,{k:()=>i});var r=n(32904);function i(e,t){return(0,r.A)(function(){return{get current(){return t.get(e)},subscribe:function(n){return t.sub(e,function(){return n(t.get(e))})}}},[t,e])}},83733:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(30758),i=n(271);function a(){var e=(0,r.useContext)(i.A);if(!e)throw Error("Expected Repl info to be in context");return e.id}},98653:(e,t,n)=>{n.d(t,{$:()=>i});var r={padding:!0,symbols:["","K","M","G","T","P","E"]};function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{padding:!1};Array.isArray(n)&&(n={symbols:n});var i=Object.assign({},r,n),a=i.symbols,o=i.padding,s=Math.sign(e)>=0,l=Math.log10(e=Math.abs(e))/3|0;if(0===l)return(s?"":"-")+e.toString();var c=a[l];if(!c)throw RangeError();var u=(e/Math.pow(10,3*l)).toFixed(t);return o||(u=String(Number(u))),(s?"":"-")+u+c}},84688:(e,t,n)=>{n.d(t,{Qq:()=>o,Yv:()=>i,rX:()=>a});var r=n(27189);function i(e,t){for(var n=0;n<t.length;n+=1e4)e.push.apply(e,(0,r._)(t.slice(n,n+1e4)))}function a(e){return(0,r._)(Array(e))}function o(e,t){return Array.from(new Set(e.map(function(e){return e[t]}))).map(function(n){return e.find(function(e){return e[t]===n})}).filter(function(e){return!!e})}},98734:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(13454),i=n(5482);function a(e){return o.apply(this,arguments)}function o(){return(o=(0,r._)(function(e){return(0,i.YH)(this,function(t){switch(t.label){case 0:if(!window.navigator.clipboard)return s(e),[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,window.navigator.clipboard.writeText(e)];case 2:return t.sent(),[3,4];case 3:return t.sent(),s(e),[3,4];case 4:return[2]}})})).apply(this,arguments)}function s(e){var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select(),document.execCommand("copy"),document.body.removeChild(t)}},40811:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(94086),i=function(e){return(0,r.Y)(r.FK,{children:e})};function a(e,t){return null!==o(e,t)}function o(e,t,n){var r,a=n||{},o=[],s=t.length,l=a.pre||"",c=a.post||"",u=a.matchRenderer||i,d=a.caseSensitive&&t||t.toLowerCase(),p=a.caseSensitive&&e||e.toLowerCase(),f=0,v=0,g=0;if(d.includes(p)){var m=d.indexOf(p),h=t.slice(0,m),b=t.slice(m+p.length),y=[u(t.slice(m,m+p.length))];h&&y.unshift(h),b&&y.push(b);var U="".concat(h).concat(l).concat(e).concat(c).concat(b),E=Math.pow(e.length,e.length);return{rendered:U,ranges:[{from:m,to:m+p.length}],score:d.startsWith(p)?1.5*E:E,elements:y}}for(var S=[],C=[],_=0;_<s;_++)r=t[_],d[_]===p[f]?(S.push(u(r)),r=l+r+c,f+=1,0===g?C.push({from:_,to:_+1}):C[C.length-1].to+=1,g+=1+g):(S.push(r),g=0),v+=g,o[o.length]=r;if(a.filterLowMatchScores){var Z,x=(Z=e.length)<2?null:2===Z?3:3===Z?6:4===Z?10:20;if(x&&v<x)return null}return f===p.length?(v=d===p?1/0:v,{rendered:o.join(""),score:d.startsWith(p)?1.5*v:v,elements:S,ranges:C}):null}let s={filter:function(e,t,n){if(0===t.length)return[];var r=n||{},i=[];return t.forEach(function(t,n){var a,s="string"==typeof t?t:null===(a=r.extract)||void 0===a?void 0:a.call(r,t);if(void 0!==s){var l=o(e,s,r);null!==l&&i.push({string:l.rendered,elements:l.elements,score:l.score,index:n,original:t})}}),i.sort(function(e,t){return t.score-e.score||e.index-t.index}),i},test:a,match:o,simpleFilter:function(e,t){return t.filter(function(t){return a(e,t)})}}},41705:(e,t,n)=>{n.d(t,{AF:()=>u,DA:()=>p,DK:()=>l,W6:()=>s});var r=n(13454),i=n(5482),a=n(87925),o=n(94423),s=1e7;function l(e){return c.apply(this,arguments)}function c(){return(c=(0,r._)(function(e){var t;return(0,i.YH)(this,function(n){switch(n.label){case 0:return[4,(0,o.C2)(e)];case 1:if(t=n.sent(),e.size>s)throw Error("This image is over the ".concat(s/1e6,"MB maximum"));if(!t)throw Error("Expected file");return[2,t]}})})).apply(this,arguments)}function u(e,t){return d.apply(this,arguments)}function d(){return(d=(0,r._)(function(e,t){return(0,i.YH)(this,function(n){switch(n.label){case 0:return[4,(0,a.B2)("/data/images/upload",{image:e,context:t})];case 1:return[2,n.sent()]}})})).apply(this,arguments)}var p=["image/png","image/jpeg","image/gif","image/webp"]},6710:(e,t,n)=>{n.d(t,{A:()=>r});function r(e){var t=e.length;if(0===t)return!1;var n=0,r=Math.min(t,512);if(t>=3&&239===e[0]&&187===e[1]&&191===e[2]||t>=4&&0===e[0]&&0===e[1]&&254===e[2]&&255===e[3]||t>=4&&255===e[0]&&254===e[1]&&0===e[2]&&0===e[3]||t>=4&&132===e[0]&&49===e[1]&&149===e[2]&&51===e[3])return!1;if(r>=5&&"%PDF-"===e.slice(0,5).toString())return!0;if(t>=2&&254===e[0]&&255===e[1]||t>=2&&255===e[0]&&254===e[1])return!1;for(var i=0;i<r;i++){if(0===e[i])return!0;if((e[i]<7||e[i]>14)&&(e[i]<32||e[i]>127)){if(e[i]>193&&e[i]<224&&i+1<r){if(e[++i]>127&&e[i]<192)continue}else if(e[i]>223&&e[i]<240&&i+2<r&&e[++i]>127&&e[i]<192&&e[i+1]>127&&e[i+1]<192){i++;continue}if(n++,i>=32&&100*n/r>10)return!0}}return 100*n/r>10}},26928:(e,t,n)=>{n.d(t,{T$:()=>o,YX:()=>i,t3:()=>a});var r=n(54867),i=function(e){return e.ALT_KEY="ALT_KEY",e.SHIFT_KEY="SHIFT_KEY",e.CMD_OR_CTRL_KEY="CMD_OR_CTRL_KEY",e.RETURN_OR_ENTER_KEY="RETURN_OR_ENTER_KEY",e}({});function a(e,t){switch(e){case"ALT_KEY":return t?"⌥":"Alt";case"SHIFT_KEY":return t?"⇧":"Shift";case"CMD_OR_CTRL_KEY":return t?"⌘":"Ctrl";case"RETURN_OR_ENTER_KEY":return t?"Return":"Enter";default:(0,r.A)(e)}}var o=function(e){return window.navigator.userAgent.includes("Macintosh")?e.metaKey||(null==e?void 0:e.key)==="Meta":e.ctrlKey||(null==e?void 0:e.key)==="Control"}},53437:(e,t,n)=>{n.d(t,{AW:()=>o,Lq:()=>s,Xe:()=>l});var r=n(55937),i=n(54867),a=n(97407),o=function(e){return"month"===e?"monthly":"year"===e?"yearly":null};function s(e){switch(e){case a.EL:return r.e0.Hacker;case a.bx:return r.e0.HackerPro;default:(0,i.A)(e)}}function l(e){switch(e){case"monthly":return r.PC.Monthly;case"yearly":return r.PC.Yearly;default:(0,i.A)(e)}}},34805:(e,t,n)=>{n.d(t,{A:()=>f});var r=[],i=[],a={},o={},s={};function l(e){return"string"==typeof e?RegExp("^"+e+"$","i"):e}function c(e,t){return e===t?t:e===e.toLowerCase()?t.toLowerCase():e===e.toUpperCase()?t.toUpperCase():e[0]===e[0].toUpperCase()?t.charAt(0).toUpperCase()+t.substr(1).toLowerCase():t.toLowerCase()}function u(e,t,n){if(!e.length||a[e])return t;for(var r=n.length;r--;){var i=n[r];if(i[0].test(t))return function(e,t){return e.replace(t[0],function(n,r){var i,a,o=(i=t[1],a=arguments,i.replace(/\$(\d{1,2})/g,function(e,t){return a[t]||""}));return""===n?c(e[r-1],o):c(n,o)})}(t,i)}return t}function d(e,t,n){return function(r){var i=r.toLowerCase();return t[i]?c(r,i):e[i]?c(r,e[i]):u(i,r,n)}}function p(e,t,n){return function(r){var i=r.toLowerCase();return!!t[i]||!e[i]&&u(i,i,n)===i}}function f(e,t,n){var r=1===t?f.singular(e):f.plural(e);return(n?t+" ":"")+r}f.plural=d(s,o,r),f.isPlural=p(s,o,r),f.singular=d(o,s,i),f.isSingular=p(o,s,i),f.addPluralRule=function(e,t){r.push([l(e),t])},f.addSingularRule=function(e,t){i.push([l(e),t])},f.addUncountableRule=function(e){if("string"==typeof e){a[e.toLowerCase()]=!0;return}f.addPluralRule(e,"$0"),f.addSingularRule(e,"$0")},f.addIrregularRule=function(e,t){t=t.toLowerCase(),s[e=e.toLowerCase()]=t,o[t]=e},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["my","our"],["its","their"],["his","their"],["her","their"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"],["canvas","canvases"]].forEach(function(e){return f.addIrregularRule(e[0],e[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(e){return f.addPluralRule(e[0],e[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/(dg|ss|ois|lk|ok|wn|mb|th|ch|ec|oal|is|ck|ix|sser|ts|wb)ies$/i,"$1ie"],[/\b(l|(?:neck|cross|hog|aun)?t|coll|faer|food|gen|goon|group|hipp|junk|vegg|(?:pork)?p|charl|calor|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(e){return f.addSingularRule(e[0],e[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[eé]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(f.addUncountableRule)},94423:(e,t,n)=>{n.d(t,{C2:()=>a,g6:()=>i});var r=function(e,t){return e instanceof window.File?new Promise(function(n,r){var i=new window.FileReader;switch(i.onload=function(t){var i;if(!(null===(i=t.target)||void 0===i?void 0:i.result)){r(Error('Failed to read file "'.concat(e.name,'"')));return}n(t.target.result)},i.onerror=r,t){case"ARRAY_BUFFER":i.readAsArrayBuffer(e);break;case"BINARY_STRING":i.readAsBinaryString(e);break;case"DATA_URL":i.readAsDataURL(e);break;case"TEXT":i.readAsText(e)}}):Promise.all(Array.from(e).filter(function(e){return!!e}).map(function(e){return r(e,t)}))},i=function(e){return r(e,"ARRAY_BUFFER")},a=function(e){return r(e,"DATA_URL")}},56071:(e,t,n)=>{n.d(t,{EG:()=>s,NI:()=>d,Tf:()=>u,f5:()=>p,gm:()=>l});var r=n(37936),i=function(e){var t=e.slug;return"".concat(r.KH).concat(t)},a="".concat(r.KH,"[orgSlug]"),o=a+"/groups/[groupSlug]/[groupId]",s=function(e){var t=i({slug:e.slug});return{home:{href:t,routerPath:"".concat(r.KH,"[orgSlug]"),as:void 0},repls:{href:t+"/repls",routerPath:a+"/repls",as:void 0},deployments:{href:t+"/deployments",routerPath:a+"/deployments",as:void 0},members:{href:t+"/members",routerPath:a+"/members",as:void 0},groups:{href:t+"/groups",routerPath:a+"/groups",as:void 0},settings:{href:t+"/settings",routerPath:a+"/settings",as:void 0},projects:{href:t+"/projects",routerPath:a+"/projects",as:void 0},usage:{href:t+"/usage",routerPath:a+"/usage",as:void 0},gallery:{href:t+"/gallery",routerPath:a+"/gallery",as:void 0},profile:{href:t+"/profile/settings",routerPath:a+"/profile/settings",as:void 0}}},l=function(e){var t=e.org,n=e.projectId;return{href:{pathname:"/t/[orgSlug]/projects/[projectId]",query:{orgSlug:t.slug,projectId:n}}}},c=function(e){var t=e.orgSlug,n=e.groupId,r=e.groupSlug,a=i({slug:t});return"".concat(a,"/groups/").concat(r,"/").concat(n)},u=function(e){var t=c({orgSlug:e.orgSlug,groupId:e.groupId,groupSlug:e.groupSlug});return{members:{href:t+"/members",routerPath:o+"/members",as:void 0},settings:{href:t+"/settings",routerPath:o+"/settings",as:void 0},permissions:{href:t+"/permissions",routerPath:o+"/permissions",as:void 0}}},d={href:"/teams/new",as:void 0},p={href:"/teams/join",as:void 0}},43828:(e,t,n)=>{n.d(t,{l:()=>a});var r=n(94086),i=n(40889);function a(e){var t=e.last4,n=e.fluent;return(0,r.Y)(i.EY,{multiline:!1,children:n?"Card ending in ".concat(t):"\xb7\xb7\xb7\xb7".concat(t)})}},5979:(e,t,n)=>{n.d(t,{f:()=>g});var r=n(66622),i=n(30758),a=n(55937),o=n(20837),s=n(45009),l=n(30632),c=n(43751);function u(){var e=(0,s._)(["\n  query GetReplitCheckoutSession($input: GetReplitCheckoutSessionInput!) {\n    getReplitCheckoutSession(input: $input) {\n      ... on ReplitCheckoutSession {\n        id\n        status\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n    }\n  }\n"]);return u=function(){return e},e}var d={},p=(0,l.J1)(u()),f=n(78504),v=[a.RA.PaymentFailed,a.RA.CyclesProvisioningFailed,a.RA.ProductProvisioningFailed];function g(){var e,t=(0,r._)((e=(0,o._)({},d,void 0),c._(p,e)),2),n=t[0],s=t[1].stopPolling;return(0,i.useEffect)(function(){return function(){s()}},[s]),{startPolling:(0,i.useCallback)(function(e){var t=e.checkoutSessionId,r=e.pollInterval,i=e.onSucceeded,o=e.onFailed,l=e.onError;s(),n({variables:{input:{id:t}},pollInterval:void 0===r?1e3:r,onCompleted:function(e){"ReplitCheckoutSession"===e.getReplitCheckoutSession.__typename?e.getReplitCheckoutSession.status===a.RA.Succeeded?(s(),i()):v.includes(e.getReplitCheckoutSession.status)&&(s(),o(e.getReplitCheckoutSession.status)):"NotFoundError"===e.getReplitCheckoutSession.__typename||"UnauthorizedError"===e.getReplitCheckoutSession.__typename?(s(),l(e.getReplitCheckoutSession.message)):(s(),(0,f.P)(Error("Unexpected response when polling Replit checkout session"),{extra:{data:e}}),l("Unexpected response. Please try again."))},onError:function(e){s(),l(e.message)}})},[s,n])}}},16646:(e,t,n)=>{n.d(t,{Ec:()=>p,O1:()=>u});var r=n(20837),i=n(45009),a=n(30632),o=n(72813);function s(){var e=(0,i._)(["\n  fragment SubscriptionPlans on SubscriptionPlansOutput {\n    pro {\n      stripe {\n        monthlyPlanDetails {\n          costInUsdCents\n        }\n        yearlyPlanDetails {\n          costInUsdCents\n        }\n      }\n    }\n    hacker {\n      stripe {\n        monthlyPlanDetails {\n          costInUsdCents\n        }\n        yearlyPlanDetails {\n          costInUsdCents\n        }\n      }\n    }\n    teams {\n      orb {\n        monthlyPlanDetails {\n          costInUsdCents\n        }\n        yearlyPlanDetails {\n          costInUsdCents\n        }\n      }\n    }\n  }\n"]);return s=function(){return e},e}function l(){var e=(0,i._)(["\n  query SubscriptionPlanInfo {\n    subscriptionPlans {\n      ...SubscriptionPlans\n    }\n  }\n  ","\n"]);return l=function(){return e},e}var c={},u=(0,a.J1)(s()),d=(0,a.J1)(l(),u);function p(e){var t=(0,r._)({},c,e);return o.I(d,t)}},78547:(e,t,n)=>{n.d(t,{A:()=>u});var r,i=n(72275),a=n(16646),o=n(97407),s=n(44576),l=(r={},(0,i._)(r,o.EL,"hacker"),(0,i._)(r,o.bx,"pro"),(0,i._)(r,o._t,"teams"),r),c={monthly:"monthlyPlanDetails",yearly:"yearlyPlanDetails"};function u(e){var t,n=e.planPrefix,r=e.planPeriod,i=(0,a.Ec)(),u=i.data,d=i.loading,p=i.error;if(d)return{loading:!0,costInUsdCents:void 0,recurringCostDisplayText:void 0,error:void 0,costDisplayText:void 0,periodDisplayText:void 0,longPeriodDisplayText:void 0,totalCostInUsdText:void 0};if(p||!u)return{loading:!1,costInUsdCents:void 0,recurringCostDisplayText:void 0,error:null!==(t=null==p?void 0:p.message)&&void 0!==t?t:"Failed to load subscription plan info",costDisplayText:void 0,periodDisplayText:void 0,totalCostInUsdText:void 0,longPeriodDisplayText:void 0};if(n===o.EZ)return{loading:!1,costInUsdCents:0,recurringCostDisplayText:(0,s.b0)(0),error:void 0,costDisplayText:(0,s.b0)(0),periodDisplayText:"",longPeriodDisplayText:"",totalCostInUsdText:(0,s.b0)(0)};var f=c[r],v=l[n],g="teams"===v?u.subscriptionPlans[v].orb[f].costInUsdCents:u.subscriptionPlans[v].stripe[f].costInUsdCents,m="/month",h="yearly"===r?(0,s.b0)(g/12):(0,s.b0)(g),b=(0,s.b0)(g);return{loading:!1,costInUsdCents:g,recurringCostDisplayText:h+m,error:void 0,costDisplayText:h,periodDisplayText:m,longPeriodDisplayText:"per month",totalCostInUsdText:b}}},77420:(e,t,n)=>{n.d(t,{y:()=>d});var r=n(20837),i=n(45009),a=n(30632),o=n(72813),s=n(61080);function l(){var e=(0,i._)(["\n  query UserPaymentMethod {\n    currentUser {\n      id\n      paymentMethod {\n        ... on PaymentMethod {\n          ...UserPaymentMethod\n        }\n        ... on UnauthorizedError {\n          message\n        }\n      }\n    }\n  }\n  ","\n"]);return l=function(){return e},e}var c={},u=(0,a.J1)(l(),s.R);function d(){var e,t,n,i,a,s,l=(e=(0,r._)({},c,void 0),o.I(u,e)),d=l.data;return l.loading?{paymentMethod:null,loading:!0,error:null}:(null==d?void 0:null===(n=d.currentUser)||void 0===n?void 0:null===(t=n.paymentMethod)||void 0===t?void 0:t.__typename)==="PaymentMethod"?{paymentMethod:{last4:null==d?void 0:d.currentUser.paymentMethod.last4},loading:!1,error:null}:(null==d?void 0:null===(a=d.currentUser)||void 0===a?void 0:null===(i=a.paymentMethod)||void 0===i?void 0:i.__typename)==="UnauthorizedError"?{paymentMethod:null,loading:!1,error:d.currentUser.paymentMethod.message}:(null==d?void 0:null===(s=d.currentUser)||void 0===s?void 0:s.paymentMethod)===null?{paymentMethod:null,loading:!1,error:null}:{paymentMethod:null,loading:!1,error:"Unknown error"}}},60414:(e,t,n)=>{n.d(t,{O:()=>i});var r=n(82436);function i(e){(0,r.u4)(r.AZ.PROFILE_EDITED,e)}},95344:(e,t,n)=>{n.d(t,{Ay:()=>b,Mn:()=>U,_f:()=>y});var r=n(20837),i=n(16530),a=n(66622),o=n(94086),s=n(30758),l=n(50109),c=n(52757),u=n(32842),d=n(31955),p=n(8367),f=n(48729),v=n(42022),g=n(14753),m=(0,c.AH)([u.wp.overflow("hidden"),u.wp.position.relative]),h={16:4,20:4,24:4,32:4,36:4,64:8,84:16};function b(e){var t,n,r,i=e.size,c=e.alt,g=e.className,b=e.iconUrl,y=(0,s.useRef)(null);i=void 0===(r=(n=(t=(0,a._)((0,l.JT)({size:i,alt:c,className:g},y,v.Vx),2))[0]).size)?32:r,c=n.alt,g=n.className,y=t[1];var U=i<32?4:8;function E(){return(0,o.Y)(p.S,{css:{position:"absolute",top:0,left:0,width:"100%",height:"100%",boxShadow:"inset 0px 0px 0px 1px #80808040",borderRadius:U}})}if(b.endsWith(".svg")){var S=h[i],C=i-2*S;return(0,o.FD)(d.ui,{innerRef:y,elevated:!0,css:[u.wp.p(S),u.wp.borderRadius(U),m,u.wp.width(i),u.wp.height(i)],children:[(0,o.Y)(p.S,{css:[u.wp.position.relative,u.wp.width(C),u.wp.height(C)],children:(0,o.Y)(f.A,{alt:c,src:b,objectFit:"contain",layout:"fill"})}),(0,o.Y)(E,{})]})}return(0,o.FD)(d.ui,{elevated:!0,css:[m,u.wp.borderRadius(U),u.wp.width(i),u.wp.height(i)],children:[(0,o.Y)(f.A,{alt:c,src:b,width:i,height:i,objectFit:"cover"}),(0,o.Y)(E,{})]})}function y(e){var t=e.isLoading,n=e.alt,r=e.iconUrl,i=e.size,a=void 0===i?32:i,s=r&&void 0!==n?(0,o.Y)(b,{alt:n,iconUrl:r,size:a}):null;if(!t&&s)return s;var l=a<32?4:8;return(0,o.Y)(d.ui,{elevated:!0,css:[m,u.wp.borderRadius(l),u.wp.width(a),u.wp.height(a)]})}function U(e){var t=e.isLoading,n=e.alt,a=e.iconUrl,s=e.size,l=void 0===s?32:s,c=(0,i._)(e,["isLoading","alt","iconUrl","size"]),f=a?(0,o.Y)(b,(0,r._)({alt:n,iconUrl:a,size:l},c)):null;return!t&&f?f:(0,o.FD)(p.S,{css:[u.wp.position.relative,u.wp.width(l),u.wp.height(l)],children:[f,(0,o.Y)(d.ui,{elevated:!0,css:[u.wp.borderRadius(8),u.wp.coverContainer,{opacity:.8}]}),t?(0,o.Y)(p.S,{css:[u.wp.coverContainer,u.wp.center,u.wp.color.accentPrimaryDefault],children:(0,o.Y)(g.A,{})}):null]})}},81243:(e,t,n)=>{n.d(t,{e:()=>y});var r=n(72275),i=n(20837),a=n(43952),o=n(16530),s=n(94086),l=n(80145),c=n(97407),u=n(24955),d=n(10168),p=n(32842),f=n(8367),v=n(48729),g=n(27640),m={size:"--size",ringSize:"--ring-size",ringColor:"--ring-color",hasOnClickShadow:"--has-on-click-shadow",borderRadius:"--border-radius"},h={size:"var(".concat(m.size,")"),ringSize:"var(".concat(m.ringSize,")"),ringColor:"var(".concat(m.ringColor,")"),hasOnClickShadow:"var(".concat(m.hasOnClickShadow,")"),borderRadius:"var(".concat(m.borderRadius,")")},b=(0,d.x)({container:[{borderRadius:h.borderRadius,overflow:"hidden",width:h.size,height:h.size,backgroundColor:u.LU.outlineDimmest,position:"relative","&::after":{borderRadius:h.borderRadius,content:'""',position:"absolute",top:0,left:0,right:0,bottom:0,boxShadow:"inset 0 0 0 ".concat(h.ringSize," ").concat(h.ringColor)},"&:active::after":{boxShadow:"inset 0 0 0 ".concat(h.ringSize," ").concat(u.LU.outlineStrongest)},"&:hover::after":{boxShadow:h.hasOnClickShadow}}],initialsContainer:[p.wp.coverContainer,p.wp.center],initials:[p.wp.flex.growAndShrink(1),p.wp.center,p.wp.color.foregroundDimmest,{fontSize:"calc(".concat(h.size," / 2.5)")}],roleBadge:[p.wp.position.absolute,p.wp.display.flex,p.wp.justify.center,p.wp.align.center,p.wp.left(-3),p.wp.bottom(-2),p.wp.zIndex(1),p.wp.borderRadius("full"),p.wp.p(2),p.wp.backgroundColor.orangeDimmest,{boxShadow:"0 0 3px rgba(0, 0, 0, 0.5)"}],roleBadgeIcon:[]});function y(e){var t,n=e.src,d=e.username,y=e.fullName,U=e.size,E=void 0===U?32:U,S=e.layout,C=e.ringColor,_=e.onError,Z=e.style,x=e.showCoreBadge,w=e.isOrg,A=(0,o._)(e,["src","username","fullName","size","layout","ringColor","onError","style","showCoreBadge","isOrg"]),k=C?2:1,I=C||u.LU.outlineDimmer,T=A.onClick?"inset 0 0 0 ".concat(h.ringSize," ").concat(u.LU.outlineDefault):"inset 0 0 0 ".concat(h.ringSize," ").concat(h.ringColor),O=w?u.LU.borderRadius4:u.LU.borderRadiusRound;return(0,s.FD)(f.S,{css:p.wp.position.relative,children:[(0,s.FD)(f.S,(0,a._)((0,i._)({css:b.container,style:(0,i._)((t={},(0,r._)(t,m.size,E+"px"),(0,r._)(t,m.ringSize,k+"px"),(0,r._)(t,m.ringColor,I),(0,r._)(t,m.hasOnClickShadow,T),(0,r._)(t,m.borderRadius,O),t),Z)},A),{children:[!n||n.startsWith("https://www.gravatar.com")?(0,s.Y)(f.S,{css:b.initialsContainer,"aria-hidden":"true",children:(0,s.Y)(f.S,{css:b.initials,children:function(e,t){var n=null==t?void 0:t.trim();if(!n)return e.toUpperCase().slice(0,2);var r=n.split(" ");return r.length>1?(r[0][0]+r[1][0]).toUpperCase():n.toUpperCase().slice(0,2)}(d,y)})}):null,n?(0,s.Y)(v.A,{width:E,height:E,objectFit:"cover",layout:void 0===S?"intrinsic":S,alt:d,src:n,onError:_}):null]})),void 0!==x&&x?(0,s.Y)(f.S,{css:b.roleBadge,id:"role-badge",children:(0,s.Y)(g.A,{role:"img",color:l.u,size:8,alt:"".concat(c.en," Badge")})}):null]})}},24239:(e,t,n)=>{n.d(t,{$O:()=>b,e2:()=>m});var r=n(20837),i=n(43952),a=n(16530),o=n(94086),s=n(30758),l=n(77071),c=n(77325),u=n(24955),d=n(32842),p=n(40889),f=n(8367),v=n(42022),g=(0,s.createContext)(null);function m(e){var t=e.name,n=e.value,s=e.row,l=e.stretch,c=e.disabled,p=e.onChange,v=e.children,m=e.primary,h=e.tag,b=e.dataCy,y=(0,a._)(e,["name","value","row","stretch","disabled","onChange","children","primary","tag","dataCy"]);return(0,o.Y)(f.S,(0,i._)((0,r._)({tag:void 0===h?"fieldset":h},y),{"data-cy":b,css:[d.wp.borderRadius(4),{backgroundColor:u.LU.interactiveBackground},s&&{display:"flex",flexDirection:"row",width:l?"100%":"min-content"},s&&l&&{justifyItems:"stretch"}],children:(0,o.Y)(g.Provider,{value:{value:n,name:t,onChange:p,primary:m,disabled:c},children:v})}))}var h=f.D.input;function b(e){var t,n,f,m,b,y=e.onChange,U=e.id,E=e.checked,S=e.disabled,C=e.name,_=e.value,Z=e.text,x=e.icon,w=e.primary,A=e.dataCy,k=e.className,I=(0,a._)(e,["onChange","id","checked","disabled","name","value","text","icon","primary","dataCy","className"]),T=(0,s.useContext)(g);T&&(C=null!=C?C:T.name,E=null!=E?E:T.value===_,y=null!=y?y:T.onChange,S=null!=S?S:T.disabled,w=null!=w?w:T.primary);var O=(0,l.o)(),R=O.isFocusVisible,D=O.focusProps;return(0,o.FD)("label",{css:(n=(t={checked:E,disabled:S,isFocusVisible:R,primary:w}).checked,f=t.disabled,m=t.isFocusVisible,b=t.primary,[d.wp.height(32),d.wp.display.flex,d.wp.rowWithGap(8),d.wp.justify.center,d.wp.align.center,d.wp.p(8),d.wp.borderRadius(4),d.wp.transition.snappy,{flex:1},n&&!f&&b&&d.wp.backgroundColor.accentPrimaryDimmer,n&&(!b||f&&b)&&{backgroundColor:u.LU.interactiveBackgroundActive,transition:"background-color 120ms ease"},{"> span":{transition:"color 120ms ease-out"},"> svg":{transition:"stroke 120ms ease-out"}},!n&&!f&&{":hover span":{color:u.LU.foregroundDefault},":hover svg":{fill:u.LU.foregroundDefault}},!f&&{cursor:"pointer"},m&&{outline:"2px solid "+u.LU.accentPrimaryStronger}]),"data-cy":A,className:k,children:[(0,o.Y)(c.s,{children:(0,o.Y)(h,(0,r._)((0,i._)((0,r._)({},D),{id:U,name:C,value:_,type:"radio",checked:E,disabled:S,onChange:function(){return null==y?void 0:y(_)}}),I))}),(0,o.Y)(v.Z_,{size:16,color:E&&!S?u.LU.foregroundDefault:u.LU.foregroundDimmer,children:x}),(0,o.Y)(p.EY,{color:E&&!S?"default":"dimmer",multiline:!1,children:Z})]})}},47303:(e,t,n)=>{n.d(t,{S:()=>S});var r=n(20837),i=n(43952),a=n(16530),o=n(66622),s=n(94086),l=n(30758),c=n(57092),u=n(19305),d=n(50109),p=n(70597),f=n(24955),v=n(10168),g=n(2298),m=n(32842),h=n(8367),b=n(16021),y=n(55337),U=(0,v.x)({checkbox:[m.wp.position.relative],input:[g.b.filledAndOutlined,{appearance:"none",borderRadius:f.LU.borderRadius4}],checkIcon:[{position:"absolute",pointerEvents:"none"}]}),E=h.D.input,S=(0,l.forwardRef)(function(e,t){var n,l=e.dataCy,f=e.onChange,v=e.checked,g=e.size,m=e.disabled,S=(0,a._)(e,["dataCy","onChange","checked","size","disabled"]);S=(n=(0,o._)((0,d.JT)(S,t,p.BP),2))[0],t=n[1];var C=(0,c.H)((0,r._)({},S,void 0!==v&&{isSelected:v},f&&{onChange:f})),_=(0,u.v)((0,i._)((0,r._)({},S),{"aria-label":S.name,isDisabled:m}),C,t),Z=_.inputProps,x=_.isSelected,w="small"===(void 0===g?"default":g)?16:20;return(0,s.FD)(h.S,{css:U.checkbox,justify:"center",align:"center",className:S.className,children:[(0,s.Y)(E,(0,r._)({ref:t,type:"checkbox",css:U.input,style:{width:w,height:w},dataCy:l},Z)),S.isIndeterminate?(0,s.Y)(y.A,{css:U.checkIcon}):x?(0,s.Y)(b.A,{css:U.checkIcon}):null]})})},68463:(e,t,n)=>{n.d(t,{i:()=>b,r:()=>y});var r=n(20837),i=n(43952),a=n(16530),o=n(66622),s=n(94086),l=n(30758),c=n(60620),u=n(98734),d=n(24955),p=n(40172),f=n(95235),v=n(65599),g=n(16021),m=n(30846),h=function(e){var t=e.value,n=e.onCopy,r=e.tooltipText,i=e.tooltipSuccessText,a=e.successTimeout,s=void 0===a?1e3:a,c=(0,o._)((0,l.useState)(!1),2),d=c[0],p=c[1],f=(0,l.useRef)(null),v=(0,o._)((0,l.useState)(void 0),2),g=v[0],m=v[1];return(0,l.useEffect)(function(){var e=f.current;return function(){e&&clearTimeout(e)}},[]),{isCopied:d,isTooltipOpen:g,onIsTooltipOpenChange:function(e){m(d?void 0:e)},tooltip:d?void 0===i?"Copied!":i:void 0===r?"Copy":r,copy:(0,l.useCallback)(function(){t&&((0,u.A)(t),p(!0),m(!0),f.current&&clearTimeout(f.current),f.current=setTimeout(function(){p(!1),m(!1)},s),null==n||n())},[n,s,t])}};function b(e){var t=e.textToCopy,n=e.successTimeout,o=e.onCopy,l=e.tooltipDisable,u=e.tooltipText,f=e.tooltipPlacement,b=e.tooltipSuccessText,y=e.tooltipHideWhenOutOfBounds,U=e.showIcon,E=e.successIcon,S=void 0===E?(0,s.Y)(g.A,{color:d.LU.accentPositiveStronger}):E,C=e.copyIcon,_=void 0===C?(0,s.Y)(m.A,{}):C,Z=e.onClick,x=(0,a._)(e,["textToCopy","successTimeout","onCopy","tooltipDisable","tooltipText","tooltipPlacement","tooltipSuccessText","tooltipHideWhenOutOfBounds","showIcon","successIcon","copyIcon","onClick"]),w=h({value:t,successTimeout:n,onCopy:o,tooltipDisable:l,tooltipText:u,tooltipSuccessText:b}),A=w.isTooltipOpen,k=w.onIsTooltipOpenChange,I=w.tooltip,T=w.isCopied,O=w.copy;return(0,s.Y)(v.m_,{isOpen:A,onOpenChange:k,tooltip:I,placement:void 0===f?"bottom-end":f,hideWhenOutOfBounds:y,isDisabled:l,children:(0,s.Y)(p.$n,(0,i._)((0,r._)({disabled:!t,iconLeft:void 0!==U&&U&&T?S:_},(0,c.v)(x)),{onClick:function(e){O(),null==Z||Z(e)}}))})}function y(e){var t=e.textToCopy,n=e.successTimeout,o=e.children,l=void 0===o?(0,s.Y)(m.A,{}):o,c=e.successIcon,u=void 0===c?(0,s.Y)(g.A,{color:d.LU.accentPositiveStronger}):c,p=e.tooltipDisable,v=e.tooltipText,b=e.onCopy,y=e.tooltipPlacement,U=(0,a._)(e,["textToCopy","successTimeout","children","successIcon","tooltipDisable","tooltipText","onCopy","tooltipPlacement"]),E=h({value:t,successTimeout:n,onCopy:b,tooltipDisable:p,tooltipText:v}),S=E.isTooltipOpen,C=E.onIsTooltipOpenChange,_=E.isCopied,Z=E.tooltip,x=E.copy;return(0,s.Y)(f.K0,(0,i._)((0,r._)({disabled:!t},U),{isTooltipOpen:S,onTooltipOpenChange:C,alt:Z,onClick:x,tooltipPlacement:void 0===y?"bottom":y,children:_?u:l}))}},98541:(e,t,n)=>{n.d(t,{a:()=>g,w:()=>v});var r=n(72275),i=n(20837),a=n(43952),o=n(16530),s=n(94086),l=n(52757),c=n(24955),u=n(88966),d=n(2298),p=n(32842),f=n(8367),v=function(e){var t=e.colorway,n=e.clickable,i=e.iconLeft,a=e.iconRight,o=e.variant,s=void 0===o?"muted":o,f=e.compact;return(0,l.AH)([p.wp.reset.button,p.wp.rowWithGap(4),p.wp.pl(i||f?4:8),p.wp.pr(a||f?4:8),p.wp.center,n&&d.b.filled,t&&n&&(0,u.Li)(t),t&&!n&&(0,u.Ti)(t),p.wp.flex.shrink(1),{borderRadius:f?c.LU.borderRadiusDefault:c.LU.borderRadiusRound,height:f?c.LU.space16:c.LU.space24,fontSize:c.LU.fontSizeSmall,background:c.LU.interactiveBackground},{"&":["muted"===s&&(t?(0,r._)({border:"1px solid transparent",backgroundColor:"color-mix(in srgb, ".concat(c.ky[t].dimmest," 50%, transparent)")},c.qo.foregroundDefault,c.ky[t].strongest):{border:"1px solid transparent",backgroundColor:"color-mix(in srgb, ".concat(c.LU.interactiveBackground," 75%, transparent)"),color:c.LU.foregroundDimmer}),"outline"===s&&(t?(0,r._)({background:"transparent !important",border:"1px solid ".concat(c.ky[t].dimmest)},c.qo.foregroundDefault,c.ky[t].strongest):{background:"transparent !important",border:"1px solid ".concat(c.LU.outlineDimmest)})]}])};function g(e){var t=e.colorway,n=e.text,r=e.iconLeft,l=e.iconRight,c=e.variant,u=e.compact,d=(0,o._)(e,["colorway","text","iconLeft","iconRight","variant","compact"]);return(0,s.FD)(f.S,(0,a._)((0,i._)({},d),{css:v({colorway:t,clickable:!1,iconLeft:!!r,iconRight:!!l,variant:void 0===c?"muted":c,compact:void 0!==u&&u}),children:[r,(0,s.Y)("span",{children:n}),l]}))}},95451:(e,t,n)=>{n.d(t,{Hf:()=>v,K8:()=>m,eG:()=>y});var r=n(94086),i=n(80145),a=n(97407),o=n(52757),s=n(24955),l=n(32842),c=n(40889),u=n(65599),d=n(8367),p=n(27640),f=n(2209),v=function(e){var t=e.tagline,n=e.name,i=e.color,a=e.className,o=e.iconLeft,p=(0,r.Y)("span",{className:a,css:[l.wp.fontSize(s.LU.fontSizeSmall),l.wp.borderRadius(16),l.wp.display.inlineBlock,l.wp.cursor.default,l.wp.backgroundColor,l.wp.py(4),l.wp.px(8),o?l.wp.pl(6):null,{lineHeight:1,whiteSpace:"nowrap",color:void 0===i?s.LU.foregroundDefault:"var(--accent-".concat(i,"-strongest)"),backgroundColor:void 0===i?s.LU.backgroundDefault:"var(--accent-".concat(i,"-dimmer)")}],children:(0,r.FD)(d.S,{row:!0,gap:4,align:"center",children:[o||null,(0,r.Y)("span",{children:n})]})});return t?(0,r.Y)(u.m_,{tooltip:t&&(0,r.Y)(c.EY,{variant:"small",children:t}),children:p}):p},g="radial-gradient(circle at top left, ".concat(s.LU.brandAccentDimmer," 34%,  ").concat(s.LU.brandAccentDefault," 50%, ").concat(s.LU.brandAccentDimmer," 66%)"),m=(0,o.AH)({backgroundImage:g,backgroundSize:"300% 100%",backgroundPosition:"left",":hover":{backgroundPosition:"right",transition:"background-position 600ms ease-in-out"}}),h="radial-gradient(circle at top left, ".concat(s.LU.orangeDimmest," 34%,  ").concat(s.LU.orangeDimmer," 50%, ").concat(s.LU.orangeDimmest," 66%)"),b=(0,o.AH)({backgroundImage:h,backgroundSize:"300% 100%",backgroundPosition:"left",":hover":{backgroundPosition:"right",transition:"background-position 600ms ease-out"}}),y={Default:v,Admin:function(e){var t=e.tagline;return(0,r.Y)(v,{tagline:null!=t?t:"Admin",name:"Admin",color:"yellow"})},Detective:function(e){var t=e.tagline;return(0,r.Y)(v,{tagline:null!=t?t:"Detective",name:"Detective",color:"green"})},Featured:function(e){var t=e.tagline;return(0,r.Y)(v,{tagline:null!=t?t:"Verified",name:"Verified",color:"blue"})},Hacker:function(e){var t=e.tagline;return(0,r.Y)(v,{tagline:null!=t?t:"".concat(a.BH," users are subscribed to Replit's paid ").concat(a.BH," Plan."),name:a.BH,color:"green"})},Pro:function(){return(0,r.Y)(v,{name:a.en,color:"orange",css:m,iconLeft:(0,r.Y)(p.A,{size:12,color:i.u})})},LanguageJammer:function(e){var t=e.tagline;return(0,r.Y)(v,{tagline:null!=t?t:"Language Jammer",name:"Language Jammer",color:"purple"})},ReplitRep:function(e){var t=e.tagline;return(0,r.Y)(v,{tagline:null!=t?t:"Replit Rep",name:"Replit Rep",color:"pink"})},ReplitRepEdu:function(e){var t=e.tagline;return(0,r.Y)(v,{tagline:null!=t?t:"Replit Rep EDU",name:"Replit Rep EDU",color:"green"})},Patron:function(e){var t=e.tagline;return(0,r.Y)(v,{tagline:null!=t?t:"Patron",name:"Patron",color:"purple"})},Pythonista:function(e){var t=e.tagline;return(0,r.Y)(v,{tagline:null!=t?t:"Pythonista",name:"Pythonista",color:"teal"})},ExtensionDeveloper:function(e){var t=e.tagline;return(0,r.Y)(v,{tagline:null!=t?t:"Extenders create Replit Extensions that make your Workspace more powerful",name:"Extender",color:"orange",css:b,iconLeft:(0,r.Y)(f.A,{size:12})})}}},52186:(e,t,n)=>{n.d(t,{Dc:()=>S,ie:()=>C});var r=n(20837),i=n(43952),a=n(66622),o=n(94086),s=n(30758),l=n(89401),c=n(20189),u=n(99813),d=n(72653),p=n(26190),f=n(2298),v=n(32842),g=n(40889),m=n(65599),h=n(8367),b=new Date(0),y=h.D.span,U=(0,u.eU)(!1),E=(0,u.eU)(!1);function S(e){var t,n,c,u=e.date,h=e.className,b=e.textColor,S=void 0===b?"default":b,_=e.textVariant,Z=void 0===_?"text":_,x=e.dateFormat,w=void 0===x?"relative":x,A=e.placement,k=e.live,I=e.absoluteFormat,T=e.textTransform,O=void 0===T?"default":T,R=(0,a._)((0,d.fp)(U),2),D=R[0],N=R[1],P=(0,a._)((0,d.fp)(E),2),L=P[0],M=P[1],j=(0,s.useRef)(null),F=C(u);"first-letter-capitalized"===O&&(F=F.charAt(0).toUpperCase()+F.substring(1));var Y=L?I?new Date(u).toLocaleString(void 0,I):(0,l.A)(new Date(u),"h:mm bbb, MMM dd, yyyy"):F;(0,s.useEffect)(function(){L||M(!0)},[M,L]);var $="switch"===w,H=L&&("absolute"===w||$&&D);t=function(){if(j.current){var e=C(u);"first-letter-capitalized"===O&&(e=e.charAt(0).toUpperCase()+e.substring(1)),j.current.innerText=e}},n=!(void 0!==k&&k)||H,c=(0,p.A)(t),(0,s.useEffect)(function(){if(!n){var e=null;return function t(){e=setTimeout(function(){c.current(),t()},1e4)}(),function(){e&&clearTimeout(e)}}},[n]);var G=H?Y:F,B=H?F:Y,W=$?{onClick:function(){return N(function(e){return!e})},role:"switch",tabIndex:0,"aria-checked":H,onKeyDown:function(e){("Space"===e.code||"Enter"===e.code)&&(e.preventDefault(),N(function(e){return!e}))}}:{};return(0,o.Y)(m.m_,{tooltip:B,placement:void 0===A?"bottom":A,children:function(e,t){return(0,o.Y)(y,(0,i._)((0,r._)({"data-chromatic":"ignore",ref:t},e,W),{css:[{width:"max-content"},$?[v.wp.px(2),f.b.nofill]:[]],children:(0,o.Y)(g.EY,{ref:j,className:h,color:S,variant:Z,multiline:!1,children:G})}))}})}function C(e){var t=new Date(e);if(t<=b)return"a long time ago";var n=new Date;return 6e4>=Math.abs(n.getTime()-t.getTime())?"just now":(0,c.A)(t,n,{addSuffix:!0})}},3028:(e,t,n)=>{n.d(t,{Ay:()=>o,pw:()=>a});var r=n(94086),i=n(95451),a=function(e){return e.Admin="ADMIN",e.Detective="DETECTIVE",e.Featured="FEATURED",e.LanguageJammer="LANGUAGE_JAMMER",e.Moderator="MODERATOR",e.ReplitRep="REPLIT_REP",e.ReplitRepEdu="REPLIT_REP_EDU",e.Patron="PATRON",e.Pythonista="PYTHONISTA",e.Student="STUDENT",e.Teacher="TEACHER",e.Hacker="hacker",e.HackerPro="hacker_pro",e.ExtensionDeveloper="EXTENSION_DEVELOPER",e}({});let o=function(e){var t=e.userRole,n=e.tagline,a=e.name;switch(t){case"DETECTIVE":return(0,r.Y)(i.eG.Detective,{tagline:n});case"MODERATOR":return null;case"LANGUAGE_JAMMER":return(0,r.Y)(i.eG.LanguageJammer,{tagline:n});case"FEATURED":return(0,r.Y)(i.eG.Featured,{tagline:n});case"ADMIN":return(0,r.Y)(i.eG.Admin,{tagline:n});case"REPLIT_REP":return(0,r.Y)(i.eG.ReplitRep,{tagline:n});case"REPLIT_REP_EDU":return(0,r.Y)(i.eG.ReplitRepEdu,{tagline:n});case"PATRON":return(0,r.Y)(i.eG.Patron,{tagline:n});case"PYTHONISTA":return(0,r.Y)(i.eG.Pythonista,{tagline:n});case"hacker":return(0,r.Y)(i.eG.Hacker,{tagline:n});case"hacker_pro":return(0,r.Y)(i.eG.Pro,{});case"EXTENSION_DEVELOPER":return(0,r.Y)(i.eG.ExtensionDeveloper,{tagline:n});default:return(0,r.Y)(i.eG.Default,{tagline:n,name:a})}}},21456:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.FD)(o.Ay,(0,i._)((0,r._)({},e),{children:[(0,a.Y)("path",{d:"M3.5 0A3.5 3.5 0 0 1 7 3.5a5 5 0 0 0 5 5 3.5 3.5 0 1 1 0 7 5 5 0 0 0-5 5A3.5 3.5 0 1 1 3.5 17a5 5 0 0 0 0-10 3.5 3.5 0 1 1 0-7Z"}),(0,a.Y)("path",{d:"M3.5 15.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7ZM24 3.5a3.5 3.5 0 1 1-7 0 3.5 3.5 0 0 1 7 0ZM20.5 24a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Z"}),(0,a.Y)("path",{d:"M24 12a3.5 3.5 0 0 1-3.5 3.5 5 5 0 0 0-5 5A3.5 3.5 0 1 1 12 17a5 5 0 0 0 0-10 3.5 3.5 0 1 1 3.5-3.5 5 5 0 0 0 5 5A3.5 3.5 0 0 1 24 12Z"})]}))}},72602:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M19.53 11.47a.75.75 0 0 1 0 1.06l-7 7a.75.75 0 1 1-1.06-1.06l5.72-5.72H5a.75.75 0 0 1 0-1.5h12.19l-5.72-5.72a.75.75 0 0 1 1.06-1.06l7 7Z",clipRule:"evenodd"})}))}},29895:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.FD)(o.Ay,(0,i._)((0,r._)({},e),{children:[(0,a.Y)("path",{d:"M11.143 12a3.429 3.429 0 1 0-6.857 0 3.429 3.429 0 0 0 6.857 0Z"}),(0,a.Y)("path",{d:"M11.143 3.429a3.429 3.429 0 1 0-3.429 3.428 5.143 5.143 0 0 1 .007 10.286h-.007a3.429 3.429 0 1 0 3.429 3.428v-.026a5.143 5.143 0 0 1 5.143-5.116 3.429 3.429 0 0 0 0-6.858h-.006a5.143 5.143 0 0 1-5.137-5.116V3.43Z"})]}))}},29048:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M12.53 15.53a.75.75 0 0 1-1.06 0l-6-6a.75.75 0 0 1 1.06-1.06L12 13.94l5.47-5.47a.75.75 0 1 1 1.06 1.06l-6 6Z",clipRule:"evenodd"})}))}},75276:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.FD)(o.Ay,(0,i._)((0,r._)({},e),{children:[(0,a.Y)("path",{d:"M20.149 12.072a3.857 3.857 0 0 0-2.024-1.015l1.22-1.22a5.314 5.314 0 0 1 1.844 1.154 5.044 5.044 0 0 1 1.561 3.634 5.044 5.044 0 0 1-1.56 3.634 5.385 5.385 0 0 1-3.734 1.491h-8.18a8.23 8.23 0 0 1-4.233-1.164 7.852 7.852 0 0 1-2.967-3.16 7.524 7.524 0 0 1-.785-4.211 7.607 7.607 0 0 1 1.646-3.97A8.01 8.01 0 0 1 6.495 4.73a8.287 8.287 0 0 1 4.387-.32c1.465.29 2.819.97 3.907 1.967.29.265.557.55.802.852l-1.068 1.068a6.347 6.347 0 0 0-.747-.814 6.62 6.62 0 0 0-3.185-1.603 6.787 6.787 0 0 0-3.593.263 6.51 6.51 0 0 0-2.892 2.043 6.106 6.106 0 0 0-1.323 3.187 6.024 6.024 0 0 0 .63 3.373 6.352 6.352 0 0 0 2.4 2.554 6.73 6.73 0 0 0 3.463.951h8.18a3.885 3.885 0 0 0 2.693-1.072 3.544 3.544 0 0 0 1.101-2.553c0-.952-.393-1.871-1.101-2.553Z"}),(0,a.Y)("path",{d:"M12.03 15.03a.75.75 0 0 1-1.06 0l-3.5-3.5a.75.75 0 1 1 1.06-1.06l2.97 2.97 7.97-7.97a.75.75 0 1 1 1.06 1.06l-8.5 8.5Z"})]}))}},87422:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M19.125 1.2H4.875A3.675 3.675 0 0 0 1.2 4.875v14.25A3.675 3.675 0 0 0 4.875 22.8h14.25a3.675 3.675 0 0 0 3.675-3.675V4.875A3.675 3.675 0 0 0 19.125 1.2ZM3 4.875C3 3.839 3.84 3 4.875 3h14.25C20.161 3 21 3.84 21 4.875V10.5H3V4.875ZM3 12.3v6.825C3 20.16 3.84 21 4.875 21h14.25C20.161 21 21 20.16 21 19.125V12.3H3Zm4.8-5.4a.9.9 0 0 1-.9.9h-.3a.9.9 0 1 1 0-1.8h.3a.9.9 0 0 1 .9.9Zm-.9 11.4a.9.9 0 1 0 0-1.8h-.3a.9.9 0 1 0 0 1.8h.3ZM17.25 7.65H11.1a.9.9 0 1 1 0-1.8h6.15a.9.9 0 0 1 0 1.8Zm-6.15 10.5h6.15a.9.9 0 0 0 0-1.8H11.1a.9.9 0 0 0 0 1.8Z",clipRule:"evenodd"})}))}},30846:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M9.055 2.055A2.75 2.75 0 0 1 11 1.25h9A2.75 2.75 0 0 1 22.75 4v9A2.75 2.75 0 0 1 20 15.75h-1a.75.75 0 0 1 0-1.5h1A1.25 1.25 0 0 0 21.25 13V4A1.25 1.25 0 0 0 20 2.75h-9A1.25 1.25 0 0 0 9.75 4v1a.75.75 0 0 1-1.5 0V4c0-.73.29-1.429.805-1.945ZM1.25 11A2.75 2.75 0 0 1 4 8.25h9A2.75 2.75 0 0 1 15.75 11v9A2.75 2.75 0 0 1 13 22.75H4A2.75 2.75 0 0 1 1.25 20v-9ZM4 9.75c-.69 0-1.25.56-1.25 1.25v9c0 .69.56 1.25 1.25 1.25h9c.69 0 1.25-.56 1.25-1.25v-9c0-.69-.56-1.25-1.25-1.25H4Z",clipRule:"evenodd"})}))}},27640:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{d:"M12.554.492c.49 3.288 1.307 7.363 2.448 8.505 1.142 1.142 5.22 1.959 8.51 2.449.651.097.65 1.01 0 1.107-3.29.49-7.367 1.307-8.51 2.448-1.143 1.143-1.96 5.227-2.45 8.518-.096.642-1.009.641-1.104 0-.49-3.291-1.308-7.374-2.45-8.517-1.142-1.143-5.217-1.959-8.506-2.45a.558.558 0 0 1 0-1.107c3.289-.49 7.363-1.307 8.505-2.448 1.142-1.142 1.959-5.216 2.45-8.505a.558.558 0 0 1 1.107 0Z"})}))}},63516:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.FD)(o.Ay,(0,i._)((0,r._)({},e),{children:[(0,a.Y)("path",{fillRule:"evenodd",d:"M14.409 9.75c-.039.434-.101.865-.188 1.29l1.241 1.24c.233-.822.385-1.67.452-2.53h3.298a7.226 7.226 0 0 1-1.995 4.285l1.06 1.06a8.75 8.75 0 1 0-12.555 0l1.061-1.06A7.226 7.226 0 0 1 4.788 9.75h3.298c.067.86.219 1.708.452 2.53l1.24-1.24c-.086-.425-.149-.856-.187-1.29h4.818Zm-9.62-1.5h3.297c.176-2.262.94-4.433 2.209-6.298A7.256 7.256 0 0 0 4.788 8.25ZM12 2.16a11.49 11.49 0 0 0-2.409 6.09h4.818A11.49 11.49 0 0 0 12 2.16Zm7.212 6.09h-3.298a12.99 12.99 0 0 0-2.209-6.298 7.256 7.256 0 0 1 5.507 6.298Z",clipRule:"evenodd"}),(0,a.Y)("path",{d:"m17.53 16.47-5-5a.75.75 0 0 0-1.06 0l-5 5a.75.75 0 1 0 1.06 1.06l3.72-3.72V23a.75.75 0 0 0 1.5 0v-9.19l3.72 3.72a.75.75 0 1 0 1.06-1.06Z"})]}))}},10001:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M19 2.922a2.079 2.079 0 0 0-1.47.608L4.171 16.89 3.07 20.93 7.11 19.83 20.47 6.469A2.078 2.078 0 0 0 19 2.923Zm-1.37-1.228a3.579 3.579 0 0 1 3.9 5.836l-13.5 13.5a.75.75 0 0 1-.333.194l-5.5 1.5a.75.75 0 0 1-.92-.921l1.5-5.5a.75.75 0 0 1 .193-.333l13.5-13.5a3.579 3.579 0 0 1 1.16-.776Z",clipRule:"evenodd"})}))}},77953:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{d:"M12 0c6.627 0 12 5.373 12 12 0 5.99-4.388 10.954-10.125 11.854V15.47h2.796L17.203 12h-3.328V9.749c0-.255.034-.509.112-.743.176-.528.578-.958 1.332-1.09.155-.027.325-.041.512-.041h1.513V4.922s-1.374-.234-2.686-.234c-2.742 0-4.533 1.66-4.533 4.668V12H7.078v3.469h3.047v8.385C4.388 22.954 0 17.99 0 12 0 5.373 5.373 0 12 0Z"})}))}},8473:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.FD)(o.Ay,(0,i._)((0,r._)({},e),{children:[(0,a.Y)("path",{fillRule:"evenodd",d:"M15.938 1.044c-.147-.4-.73-.4-.876 0l-1.004 2.744a.458.458 0 0 1-.298.278l-2.436.746a.446.446 0 0 0 0 .857l2.437.753a.458.458 0 0 1 .297.278l1.005 2.745c.146.399.728.399.874 0L16.943 6.7a.458.458 0 0 1 .297-.278l2.437-.75a.446.446 0 0 0 0-.856l-2.437-.75a.458.458 0 0 1-.297-.278l-1.005-2.744Z",clipRule:"evenodd"}),(0,a.Y)("path",{d:"M6.764 19.334c.12-.3.494-.417.778-.261.806.441 2.443 1.171 4.458 1.171s3.652-.73 4.458-1.171c.284-.156.658-.04.778.261l1.215 2.539a1 1 0 0 1-.928 1.371H6.477a1 1 0 0 1-.928-1.371l1.215-2.539Z"}),(0,a.Y)("path",{fillRule:"evenodd",d:"M10.814 1.053a.75.75 0 0 1-.526.92 6.5 6.5 0 1 0 7.494 9.241.75.75 0 0 1 1.334.686A8 8 0 1 1 9.893.527a.75.75 0 0 1 .921.526Z",clipRule:"evenodd"})]}))}},74894:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M2.78 11.25h4.502a16.05 16.05 0 0 1 3.014-8.343A9.255 9.255 0 0 0 2.78 11.25ZM12 3.149a14.55 14.55 0 0 0-3.214 8.101h6.428A14.55 14.55 0 0 0 12 3.149Zm3.214 9.601A14.55 14.55 0 0 1 12 20.851a14.55 14.55 0 0 1-3.214-8.101h6.428Zm-7.932 0H2.78a9.255 9.255 0 0 0 7.516 8.343 16.051 16.051 0 0 1-3.014-8.343Zm6.422 8.343a16.051 16.051 0 0 0 3.014-8.343h4.502a9.255 9.255 0 0 1-7.516 8.343Zm7.516-9.843h-4.502a16.05 16.05 0 0 0-3.014-8.343 9.255 9.255 0 0 1 7.516 8.343ZM1.25 12C1.25 6.063 6.063 1.25 12 1.25S22.75 6.063 22.75 12 17.937 22.75 12 22.75 1.25 17.937 1.25 12Z",clipRule:"evenodd"})}))}},89960:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M11.54 1.408a.75.75 0 0 1 .92 0l9 7a.75.75 0 0 1 .29.592v11A2.75 2.75 0 0 1 19 22.75H5A2.75 2.75 0 0 1 2.25 20V9a.75.75 0 0 1 .29-.592l9-7ZM3.75 9.367V20A1.25 1.25 0 0 0 5 21.25h3.25V13.5a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 .75.75v7.75H19A1.25 1.25 0 0 0 20.25 20V9.367L12 2.95 3.75 9.367Zm10.5 11.883v-7h-4.5v7h4.5Z",clipRule:"evenodd"})}))}},39736:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M12 2.75A5.25 5.25 0 0 0 6.75 8c0 1.451.579 2.27 1.308 3.303l.055.077c.683.969 1.436 2.083 1.603 3.87h4.568c.167-1.787.92-2.901 1.603-3.87l.055-.077C16.672 10.27 17.25 9.45 17.25 8c0-2.9-2.35-5.25-5.25-5.25ZM5.25 8a6.75 6.75 0 0 1 13.5 0c0 1.933-.823 3.095-1.548 4.119a83.9 83.9 0 0 0-.09.126c-.725 1.028-1.362 1.993-1.362 3.755a.75.75 0 0 1-.75.75H9a.75.75 0 0 1-.75-.75c0-1.762-.637-2.727-1.363-3.755l-.09-.126C6.074 11.095 5.25 9.933 5.25 8Zm3 11a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5H9a.75.75 0 0 1-.75-.75Zm1 3a.75.75 0 0 1 .75-.75h4a.75.75 0 0 1 0 1.5h-4a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}))}},55337:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M4.25 12a.75.75 0 0 1 .75-.75h14a.75.75 0 0 1 0 1.5H5a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}))}},43249:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M12 3.25a.75.75 0 0 1 .75.75v7.25H20a.75.75 0 0 1 0 1.5h-7.25V20a.75.75 0 0 1-1.5 0v-7.25H4a.75.75 0 0 1 0-1.5h7.25V4a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}))}},2209:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M6.75 4.5a3.25 3.25 0 1 1 6.5 0v.75h.277c.676 0 1.222 0 1.666.03.456.032.86.097 1.242.256a3.75 3.75 0 0 1 2.03 2.03c.158.382.224.785.255 1.242.018.273.026.585.028.942h.752a3.25 3.25 0 1 1 0 6.5h-.75v.983c0 .812 0 1.468-.043 1.999-.045.547-.14 1.027-.366 1.47a3.75 3.75 0 0 1-1.638 1.64c-.445.226-.925.32-1.471.365-.531.043-1.187.043-2 .043H12.5a.75.75 0 0 1-.75-.75v-1.75a1.5 1.5 0 1 0-3 0V22a.75.75 0 0 1-.75.75H6.768c-.813 0-1.468 0-2-.043-.546-.045-1.026-.139-1.47-.365a3.75 3.75 0 0 1-1.64-1.64c-.225-.443-.32-.924-.365-1.47-.043-.531-.043-1.187-.043-2V15.5a.75.75 0 0 1 .75-.75h1.5a1.75 1.75 0 1 0 0-3.5H2a.75.75 0 0 1-.75-.75v-.026c0-.677 0-1.222.03-1.666.032-.457.097-.86.256-1.243a3.75 3.75 0 0 1 2.03-2.03c.381-.158.785-.223 1.242-.254.444-.03.99-.03 1.665-.03h.277V4.5ZM10 2.75A1.75 1.75 0 0 0 8.25 4.5V6a.75.75 0 0 1-.75.75h-1c-.71 0-1.203 0-1.59.027-.38.026-.602.075-.77.145A2.25 2.25 0 0 0 2.92 8.139c-.07.17-.118.39-.144.771-.016.233-.022.505-.025.84H3.5a3.25 3.25 0 1 1 0 6.5h-.75v.95c0 .853 0 1.447.038 1.91.038.454.107.714.207.912.216.423.56.767.984.983.197.1.458.17.912.207.462.038 1.057.038 1.91.038h.45v-1a3 3 0 1 1 6 0v1c.825 0 1.405-.001 1.858-.038.454-.037.715-.106.913-.207a2.25 2.25 0 0 0 .983-.983c.1-.198.17-.458.207-.912.038-.463.038-1.057.038-1.91v-1.7a.75.75 0 0 1 .75-.75h1.5a1.75 1.75 0 1 0 0-3.5H18a.75.75 0 0 1-.75-.75c0-.709 0-1.203-.027-1.59-.026-.38-.074-.602-.144-.77a2.25 2.25 0 0 0-1.218-1.218c-.169-.07-.39-.119-.77-.145-.387-.026-.882-.027-1.59-.027h-1a.75.75 0 0 1-.75-.75V4.5A1.75 1.75 0 0 0 10 2.75Z",clipRule:"evenodd"})}))}},23336:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M8 12a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z",clipRule:"evenodd"})}))}},39153:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M12 1.25a.75.75 0 0 1 .673.418l2.915 5.907 6.52.953a.75.75 0 0 1 .415 1.28l-4.717 4.594 1.113 6.491a.75.75 0 0 1-1.088.79L12 18.618l-5.83 3.067a.75.75 0 0 1-1.09-.79l1.114-6.492-4.717-4.595a.75.75 0 0 1 .415-1.28l6.52-.952 2.915-5.907A.75.75 0 0 1 12 1.25Z",clipRule:"evenodd"})}))}},77361:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M2 1.25a.75.75 0 0 0-.75.75v10c0 .2.08.39.22.53l8.59 8.58a2.75 2.75 0 0 0 3.89 0l7.17-7.17.002-.001a2.75 2.75 0 0 0 0-3.878L12.53 1.47a.75.75 0 0 0-.53-.22H2Zm2.9 5.903a2.25 2.25 0 1 1 4.5 0 2.25 2.25 0 0 1-4.5 0Z",clipRule:"evenodd"})}))}},52885:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{fillRule:"evenodd",d:"M3.47 4.47a.75.75 0 0 1 1.06 0l6 6a.75.75 0 0 1 0 1.06l-6 6a.75.75 0 0 1-1.06-1.06L8.94 11 3.47 5.53a.75.75 0 0 1 0-1.06ZM11.25 19a.75.75 0 0 1 .75-.75h8a.75.75 0 0 1 0 1.5h-8a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}))}},73670:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(42022);function s(e){return(0,a.Y)(o.Ay,(0,i._)((0,r._)({},e),{children:(0,a.Y)("path",{d:"M0 .21h7.098l6.561 9.167L21.826 0l1.94.035-9.14 10.66L24 23.79h-7.095l-6.193-8.543L3.147 24h-1.91l8.536-10.001L0 .21Zm6.429 1.354H2.68L17.678 22.4h3.681L6.43 1.564Z"})}))}},84911:(e,t,n)=>{n.d(t,{c:()=>i});var r=n(30758),i=function(){var e=(0,r.useId)();return function(t){return"".concat(e,"-").concat(t)}}},32363:(e,t,n)=>{n.d(t,{A:()=>r});let r=(0,n(30758).createContext)(null)},26744:(e,t,n)=>{n.d(t,{A:()=>_});var r=n(13454),i=n(20837),a=n(43952),o=n(5482),s=n(60049),l=n.n(s),c=n(88467),u=n(16530),d=n(60762),p=n(50670),f=n(92607),v=n.n(f),g=n(32856),m=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;function h(e){return b.apply(this,arguments)}function b(){return(b=(0,r._)(function(e){var t,n,r,a,s,l,c,f,h;return(0,o.YH)(this,function(o){switch(o.label){case 0:t=e.url,n=(0,u._)(e,["url"]),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,v()(t,{credentials:"same-origin",headers:{"Content-Type":"application/json",Accept:"application/json","X-Requested-With":"XMLHttpRequest"},method:"post",body:JSON.stringify(n)})];case 2:return r=o.sent(),[3,4];case 3:throw(a=o.sent()).statusCode||(a.statusCode=504),a;case 4:if(l=(s=r.headers.get("content-type"))&&s.includes("application/json"),r.ok)return[3,9];if(!l)return[3,6];return[4,r.json()];case 5:return c=o.sent().message,[3,8];case 6:return[4,r.text()];case 7:c=o.sent(),o.label=8;case 8:throw new g.A(c||r.statusText).setExtras((0,i._)({url:t},n)).setStatusCode(r.status);case 9:if(l)return[3,11];return[4,r.text()];case 10:throw f=o.sent(),new g.A("Expected JSON response for connection metadata").setExtras((0,i._)({contentType:s,statusText:r.statusText,response:f,url:t},n)).setStatusCode(r.status);case 11:return[4,r.json()];case 12:var b;if(!((b=h=o.sent())&&(void 0===b?"undefined":(0,d._)(b))==="object"&&"token"in b&&"string"==typeof b.token&&"gurl"in b&&"string"==typeof b.gurl&&"conmanURL"in b&&"string"==typeof b.conmanURL&&("dotdevHostname"in b&&"string"==typeof b.dotdevHostname||(p.vF.error("Lore returned an incomplete metadata",{res:b}),b.dotdevHostname=""),1)))throw new g.A("Invalid format for connection metadata response").setExtras((0,i._)({connectionMetadata:h,url:t},n));if(!(h.token.startsWith("v2.public.")||m.test(h.token)))throw new g.A("Expected token to be PASETO- or base64-encoded").setExtras((0,i._)({connectionMetadata:h,url:t},n));return[2,h]}})})).apply(this,arguments)}var y=n(61949),U=n(71676),E=n(21980),S=n(68895),C=!!n(68558).env.CAPTCHA_EMBEDS;function _(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,r._)(function(e){var t,n,r,s,u,d,p,f,v,g,m,b;return(0,o.YH)(this,function(o){switch(o.label){case 0:if(t=e.replId,n=e.isLoggedIn,r=e.overrideClusterMetadata,s=e.requestedPid2Version,u=e.format,d=e.asViewer,p=e.retry,!U.V)throw Error("Expected apollo client");if(f=!!(l().query.lite||l().query.embed),v={url:"/data/repls/".concat(t,"/get_connection_metadata"),overrideClusterMetadata:r,requestedPid2Version:s,format:null!=u?u:c.api.token.ReplToken.WireFormat.PROTOBUF,clientVersion:"335618f7",hCaptchaSiteKey:S.lh,isEmbed:f,retry:p||0,asViewer:d},n||f&&!C)return[3,8];o.label=1;case 1:o.trys.push([1,7,,8]),o.label=2;case 2:return o.trys.push([2,4,,6]),[4,(0,y.hw)({action:"genReplToken"})];case 3:return m=o.sent(),[3,6];case 4:return o.sent(),[4,(0,S.Ay)()];case 5:return g=o.sent(),[3,6];case 6:return[2,h((0,a._)((0,i._)({},v),{captcha:g,recaptchaToken:m}))];case 7:return b=o.sent(),E.vF.error("Goval connection failure",{errorMessage:b&&b.message||"unidentified failure",replid:t,reason:"captcha",context:"services"}),[2,_({replId:t,overrideClusterMetadata:r,retry:(p||0)+1,requestedPid2Version:s,format:u,isLoggedIn:n,asViewer:d})];case 8:return[2,h(v)]}})})).apply(this,arguments)}},52431:(e,t,n)=>{n.d(t,{A:()=>c,x:()=>l});var r=n(13454),i=n(5482),a=n(97285),o=n(65640);function s(){return(s=(0,r._)(function(){return(0,i.YH)(this,function(e){return a.A.get("gurl")?(o.log("Getting gurl from localstorage"),[2,a.A.get("gurl")]):[2,null]})})).apply(this,arguments)}function l(e){var t=function(e){try{t=new URL(e)}catch(e){return o.log("failed to parse gurl"),o.error(e),null}var t,n={secure:!1,port:""+t.port,host:t.hostname};return"wss:"===t.protocol?n.secure=!0:"ws:"!==t.protocol&&o.log(e,"Expected gurl protocol to be ws or wss, assuming insecure connection"),n.port||(n.port=n.secure?"443":"80"),n}(e);if(!t)return null;var n=t.secure,r=t.host,i=t.port;return"repl.it"===r||"gp-v2.replit.com"===r||"eval.replit.com"===r?null:{id:"development",gurl:"ws".concat(n?"s":"","://").concat(r,":").concat(i),conmanURL:"http".concat(n?"s":"","://").concat(r,":").concat(i),proxy:"http".concat(n?"s":"","://").concat(r.replace("eval","proxy"),":").concat(i)}}function c(){return u.apply(this,arguments)}function u(){return(u=(0,r._)(function(){var e;return(0,i.YH)(this,function(t){switch(t.label){case 0:return[4,function(){return s.apply(this,arguments)}()];case 1:if(!(e=t.sent()))return[2,null];return[2,l(e)]}})})).apply(this,arguments)}},24481:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(30758),i=n(32363);function a(){var e=(0,r.useContext)(i.A);if(!e)throw Error("Expected services in context");return e}},31060:(e,t,n)=>{n.d(t,{Ay:()=>Z});var r=n(20837),i=n(43952),a=n(16530),o=n(66622),s=n(94086),l=n(30758),c=n(14487),u=n.n(c),d=n(52757),p=n(24955),f=n(84911),v=n(1054),g=n(41760),m=n(16195),h=n(16021),b=n(79653),y=n(14753),U=n(23336),E=n(68753),S={default:"default",loading:"default",error:"negative",success:"positive",warning:"default"},C=(0,l.forwardRef)(function(e,t){var n,c,U,C=e.label,Z=e.description,x=e.icon,w=e.id,A=e.onChange,k=e.large,I=e.placeholder,T=e.validationResults,O=e.onValidationError,R=e.dataCy,D=(0,a._)(e,["label","description","icon","id","onChange","large","placeholder","validationResults","onValidationError","dataCy"]),N=(0,f.c)(),P=w||N("input"),L=Z?N("input-description"):void 0,M=(0,o._)((0,l.useState)(!1),2),j=M[0],F=M[1];(null==T?void 0:T.some(function(e){return"loading"===e.state}))?(n="loading",c=(0,s.Y)(y.A,{size:16})):(null==T?void 0:T.some(function(e){return"error"===e.state}))?(n="error",U=p.LU.accentNegativeDefault,c=(0,s.Y)(E.A,{}),j&&(null==O||O())):(null==T?void 0:T.some(function(e){return"warning"===e.state}))?(n="warning",U=p.LU.foregroundDimmest,c=(0,s.Y)(b.A,{})):(null==T?void 0:T.every(function(e){return"success"===e.state}))?(n="success",U=p.LU.accentPositiveDefault,c=(0,s.Y)(h.A,{})):n="default";var Y=S[n],$=k?p.LU.fontSizeSubheadDefault:p.LU.fontSizeDefault;return(0,s.FD)("div",{css:(0,d.AH)("display:flex;position:relative;flex-direction:column;width:100%;.required{color:",p.LU.accentNegativeDefault,";font-size:",p.LU.fontSizeSmall,";}.spacer.row{width:",p.LU.space4,";}.spacer.col{height:",p.LU.space4,";}.input-container{position:relative;}.icon-container{display:flex;align-items:center;justify-content:center;position:absolute;top:50%;transform:translateY(-50%);background-color:",p.LU.backgroundDefault,";border-radius:100%;padding:",p.LU.space4,";}.icon-container.right{right:",p.LU.space8,";color:",U,";}.icon-container.left{left:",p.LU.space4,";background-color:transparent;color:",p.LU.foregroundDimmest,";}input{font-size:",$,";font-family:",D.monospace?p.LU.fontFamilyCode:p.LU.fontFamilyDefault,";line-height:",$,";background-color:",p.LU.backgroundDefault,";color:",p.LU.foregroundDefault,";padding:",p.LU.space8,";padding-left:",x?p.LU.space24:"auto",";border:1px solid ",p.LU.outlineDimmest,";border-radius:",p.LU.borderRadius4,";outline:none;width:100%;box-sizing:border-box;transition:color 0.1s,background-color 0.1s;}input:disabled{opacity:0.5;}input.default:hover{border-color:",p.LU.accentPrimaryDimmer,";}input.success{border-color:",p.LU.accentPositiveStronger,";}input.success:hover{border-color:",p.LU.accentPositiveDimmer,";}input.negative{border-color:",p.LU.accentNegativeDefault,";}input.negative:hover{border-color:",p.LU.accentNegativeDimmer,";}input:active,input:focus{border-color:",p.LU.accentPrimaryDefault,";}"),children:[C?(0,s.FD)(s.FK,{children:[D.required?(0,s.FD)(g.z,{spacing:"2px",children:[(0,s.Y)(m.A,{tag:"label",foreground:j?1:2,size:k?"small":"xsmall",htmlFor:P,children:C}),(0,s.Y)("span",{className:"required",children:"*"})]}):(0,s.Y)(m.A,{tag:"label",foreground:j?1:2,size:k?"small":"xsmall",htmlFor:P,children:C}),(0,s.Y)(v.A,{height:"4px"})]}):null,(0,s.FD)("div",{className:"input-container",children:[x?(0,s.Y)("div",{className:"icon-container left",children:x}):null,(0,s.Y)("input",(0,i._)((0,r._)({id:P,ref:t,required:D.required||!1,onChange:A,placeholder:void 0===I?"":I,"aria-busy":"loading"===n,"aria-invalid":"error"===n,"aria-describedby":L,"data-cy":R},D),{onFocus:function(e){F(!0),D.onFocus&&D.onFocus(e)},onBlur:function(e){F(!1),D.onBlur&&D.onBlur(e)},className:u()(Y,D.className)})),c?(0,s.Y)("div",{className:"icon-container right",onMouseEnter:function(){return F(!0)},onMouseLeave:function(){return F(!1)},children:c}):null]}),Z?(0,s.FD)(s.FK,{children:[(0,s.Y)(v.A,{height:"4px"}),(0,s.Y)(m.A,{id:L,tag:"span",foreground:3,size:k?"medium":"small",children:Z})]}):null,(null==T?void 0:T.some(function(e){return!!e.message}))&&j?(0,s.Y)(_,{validationResults:T}):null]})}),_=function(e){var t=e.validationResults;return(0,s.Y)("div",{"aria-live":"polite",css:(0,d.AH)("width:100%;display:flex;flex-direction:column;position:absolute;top:calc(100% + ",p.LU.space4,");background-color:",p.LU.backgroundDefault,";padding:",p.LU.space8,";border-radius:",p.LU.borderRadius4,";z-index:9999;box-shadow:",p.LU.shadow2,";.validation-row{display:flex;align-items:flex-start;width:100%;padding-bottom:",p.LU.space4,";}.validation-icon-container{flex-shrink:0;padding-right:",p.LU.space4,";}"),children:t.map(function(e,t){var n;switch(e.state){case"success":n=(0,s.Y)(h.A,{color:p.LU.accentPositiveDefault});break;case"error":n=(0,s.Y)(E.A,{color:p.LU.accentNegativeDefault});break;case"warning":n=(0,s.Y)(b.A,{color:p.LU.foregroundDimmest});break;default:n=(0,s.Y)(U.A,{color:p.LU.foregroundDimmest})}return(0,s.FD)("div",{className:"validation-row",children:[(0,s.Y)("div",{className:"validation-icon-container",children:n}),(0,s.Y)(v.A,{width:"4px"}),(0,s.Y)(m.A,{foreground:2,size:"small",children:e.message})]},e.state+t.toString())})})};let Z=C},1054:(e,t,n)=>{n.d(t,{A:()=>o,G:()=>a});var r=n(94086),i=n(41011),a=function(e){return"number"==typeof e&&e>0&&e in i.A.spacing?i.A.spacing[e]:e};let o=function(e){var t=e.size,n=e.width,i=e.height,o=t&&a(t);return(0,r.Y)("div",{style:{width:o||a(void 0===n?1:n),height:o||a(void 0===i?1:i),userSelect:"none",pointerEvents:"none"}})}},41760:(e,t,n)=>{n.d(t,{T:()=>v,z:()=>f});var r=n(20837),i=n(43952),a=n(16530),o=n(94086),s=n(14487),l=n.n(s),c=n(52757),u=n(1054),d=function(e){return"start"===e||"end"===e?"flex-".concat(e):e},p=function(e){var t=e.dir,n=void 0===t?"row":t,s=e.spacing,p=void 0===s?0:s,f=e.align,v=e.justify,g=e.isInline,m=e.isReversed,h=void 0!==m&&m,b=e.wrap,y=e.constrainWidth,U=e.tag,E=e.className,S=e.children,C=(0,a._)(e,["dir","spacing","align","justify","isInline","isReversed","wrap","constrainWidth","tag","className","children"]),_="row"===n;return(0,o.Y)(void 0===U?"div":U,(0,i._)((0,r._)({className:l()(E,{"h-stack":_,"v-stack":!_,"constrain-width":void 0!==y&&y})},C),{css:(0,c.AH)("display:",void 0!==g&&g?"inline-flex":"flex",";flex-direction:",h?"".concat(n,"-reverse"):n,";align-items:",d(void 0===f?"start":f),";justify-content:",d(void 0===v?"start":v),";flex-wrap:",void 0===b?"wrap":b,";&.h-stack > *{margin-",h?"left":"right",":",(0,u.G)(p),";}&.h-stack > *:last-child{margin-",h?"left":"right",":0;}&.v-stack > *{margin-",h?"top":"bottom",":",(0,u.G)(p),";}&.v-stack > *:last-child{margin-",h?"top":"bottom",":0;}&.constrain-width{max-width:100%;}"),children:S}))},f=function(e){return(0,o.Y)(p,(0,i._)((0,r._)({},e),{dir:"row"}))},v=function(e){return(0,o.Y)(p,(0,i._)((0,r._)({},e),{dir:"column"}))}},16195:(e,t,n)=>{n.d(t,{A:()=>s});var r=n(20837),i=n(43952),a=n(94086),o=n(41011);function s(e){var t=e.size,n=e.tag,s=e.fontFamily,l=e.fontWeight,c=e.foreground,u=e.align,d=e.truncate,p=e.className,f=e.children,v=e.onClick,g={fontSize:o.A.fontSize[void 0===t?"medium":t],fontFamily:o.A.fontFamily[void 0===s?"sans-serif":s],fontWeight:o.A.fontWeight[void 0===l?"regular":l],color:o.A.foreground[void 0===c?1:c],textAlign:void 0===u?"left":u,transition:"opacity 0.1s"};return void 0!==d&&d&&(g=(0,i._)((0,r._)({},g),{overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",display:"inline-block",maxWidth:"100%"})),(0,a.Y)(void 0===n?"span":n,{onClick:v,className:void 0===p?"":p,style:g,children:f})}},41011:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(24955);let i={fontFamily:{"sans-serif":r.LU.fontFamilyDefault,serif:r.LU.fontFamilyDefault,monospace:r.LU.fontFamilyCode},fontWeight:{light:r.LU.fontWeightRegular,regular:r.LU.fontWeightRegular,medium:r.LU.fontWeightMedium,bold:r.LU.fontWeightBold},levels:{1:r.LU.fontSizeHeaderBig,2:r.LU.fontSizeHeaderBig,3:r.LU.fontSizeHeaderDefault,4:r.LU.fontSizeSubheadBig,5:r.LU.fontSizeSubheadDefault,6:r.LU.fontSizeSmall},foreground:{1:r.LU.foregroundDefault,2:r.LU.foregroundDimmer,3:r.LU.foregroundDimmest,4:r.LU.foregroundDimmest,"transparent-1":r.LU.foregroundDimmest,"transparent-2":r.LU.foregroundDimmest},background:{1:r.LU.backgroundDefault,2:r.LU.backgroundRoot,3:r.LU.backgroundRoot},lineHeight:{xxsmall:r.LU.lineHeightSmall,xsmall:r.LU.lineHeightSmall,small:r.LU.lineHeightDefault,medium:r.LU.lineHeightSubheadDefault,large:r.LU.lineHeightSubheadDefault,xlarge:r.LU.lineHeightHeaderDefault,xxlarge:r.LU.lineHeightHeaderDefault},fontSize:{xxsmall:r.LU.fontSizeSmall,xsmall:r.LU.fontSizeSmall,small:r.LU.fontSizeDefault,medium:r.LU.fontSizeSubheadDefault,large:r.LU.fontSizeSubheadDefault,xlarge:r.LU.fontSizeHeaderDefault,xxlarge:r.LU.fontSizeHeaderDefault},spacing:{half:r.LU.space4,1:r.LU.space8,2:r.LU.space16,3:r.LU.space24,4:r.LU.space32,5:r.LU.space48,6:r.LU.space48,7:r.LU.space64,8:r.LU.space64,9:r.LU.space64,10:r.LU.space64,11:r.LU.space64,12:r.LU.space128}}},52881:(e,t,n)=>{n.d(t,{A:()=>$,W:()=>M});var r,i=n(13454),a=n(72275),o=n(66622),s=n(27189),l=n(5482),c=n(94086),u=n(25204),d=n.n(u),p=n(30758),f=n(5761),v=n(51439),g=n(97407),m=n(3596),h=n(82436),b=n(56071),y=n(77420),U=n(81804),E=n(24955),S=n(10168),C=n(32842),_=n(40172),Z=n(25877),x=n(40889),w=n(8367),A=n(21456),k=n(84761),I=n(29895),T=n(75276),O=n(87422),R=n(63516),D=n(40904),N=n(39153),P=(0,S.x)({back:[C.wp.width(72),C.wp.mb(16)],backMobile:[C.wp.width(72),(0,a._)({},C.$_.min("tabletMin"),[C.wp.display.none])],mobileCoreSidebar:[(0,a._)({},C.$_.min("tabletMin"),[C.wp.display.none])],mobileFooter:[C.wp.pt(16)],teamsLinkMobile:[C.wp.pl(4)],coreBenefit:[C.wp.mt(4),C.wp.p(6),C.wp.borderRadius(),(0,a._)({},C.$_.min("tabletMin"),[C.wp.mt(12)])],coreBenefitText:[C.wp.flex.grow(1),C.wp.pt(1),C.wp.colWithGap(8),(r={flex:"1 1 0"},(0,a._)(r,C.$_.max("mobileMax"),[C.wp.flex.growAndShrink(1),{".SingleLineResponsive":{width:"100%",lineHeight:E.LU.lineHeightSmall}}]),(0,a._)(r,"span:has(> .SingleLineResponsive)",(0,a._)({},C.$_.max("mobileMax"),{height:"unset",marginTop:-4})),r)],coreSidebarInfoWrapper:[[C.wp.colWithGap(40),C.wp.maxWidth("50%"),(0,a._)({},C.$_.max("tabletMin"),[C.wp.display.none])]],coreSidebarInfoItems:[C.wp.py(16),C.wp.px(32),C.wp.height("100%"),C.wp.backgroundColor.backgroundOverlay,C.wp.justify.spaceBetween],wrapper:[C.wp.height("100%"),C.wp.borderRadius(8),C.wp.overflow("hidden"),C.wp.minHeight(410)],contentContainer:[[C.wp.flex.growAndShrink(1),C.wp.p(16),C.wp.colWithGap(16),(0,a._)({},C.$_.min("tabletMin"),[C.wp.width(412)])]],link:[C.wp.mt(4),C.wp.p(6),(0,a._)({},C.$_.min("tabletMin"),[C.wp.mt(12)])],viewMore:[C.wp.color.foregroundDimmest,C.wp.rowWithGap(8),C.wp.align.center,C.wp.cursor.pointer,{fontWeight:200}],workMobile:[C.wp.width("100%"),C.wp.justify.center,C.wp.textAlign.center],mobileHide:[(0,a._)({},C.$_.max("tabletMin"),[C.wp.display.none])],addon:[C.wp.width("100%"),C.wp.flex.growAndShrink(1)],star:[C.wp.color.accentPrimaryStronger]}),L=function(e){var t=e.highlightUpsell,n=(0,p.useMemo)(function(){var e=[{title:"$".concat(m.Qz,"/mo in credits included"),subtitle:"Get started with $".concat(m.Qz," for AI usage, deployments, storage, or extra power. Pay-as-you-go for more usage."),icon:(0,c.Y)(T.A,{}),highlight:"credits"===t},{title:"Unlimited Apps",subtitle:"Create unlimited private Apps",icon:(0,c.Y)(O.A,{}),highlight:"replLimit"===t}];switch(e.unshift({title:"Unlimited access to ".concat((0,v.Nn)({variant:"formal"})),subtitle:"Build sites and apps automatically using natural language",icon:(0,c.Y)(A.A,{}),highlight:"agent"===t}),t){case"assistant":e.unshift({title:"Advanced ".concat(v.BP," capabilities"),subtitle:v.MZ,icon:(0,c.Y)(I.A,{}),highlight:"assistant"===t});break;case"deployments":e.unshift({title:"Unlock all Deployment types",subtitle:"Autoscale, Reserved VMs, Scheduled, and Static",icon:(0,c.Y)(R.A,{}),highlight:"deployments"===t})}var n=e.find(function(e){return e.highlight}),r=e.filter(function(e){return!e.highlight});return n?[n].concat((0,s._)(r)):e},[t]);return(0,c.Y)(c.FK,{children:n.map(function(e,t){return(0,c.Y)(M,{title:e.title,subtitle:e.subtitle,icon:e.icon,highlight:e.highlight},t)})})};function M(e){var t=e.title,n=e.icon,r=e.subtitle,i=e.highlight,a=e.addon;return(0,c.FD)(w.S,{css:P.coreBenefit,row:!0,gap:8,style:{backgroundColor:i?"color-mix(in srgb, ".concat(E.LU.backgroundHighest," 50%, transparent)"):"transparent",padding:i?"8px 8px":""},children:[(0,c.Y)(w.S,{style:{color:E.LU.accentPrimaryStronger},children:n}),(0,c.FD)(w.S,{css:P.coreBenefitText,children:[(0,c.Y)(x.EY,{variant:"text",height:"singleLine",className:"SingleLineResponsive",children:t}),r?(0,c.Y)(w.S,{css:P.mobileHide,children:(0,c.Y)(x.EY,{variant:"small",color:"dimmer",multiline:!0,children:r})}):null,a?(0,c.Y)(w.S,{css:P.addon,children:a}):null]}),i?(0,c.Y)(N.A,{css:P.star}):null]})}var j=function(e){var t=e.analyticsContext,n=e.contextualUpsell,r=e.onBack,i=e.highlightUpsell;return(0,c.Y)(w.S,{css:P.coreSidebarInfoWrapper,children:(0,c.FD)(w.S,{css:P.coreSidebarInfoItems,gap:8,children:[(0,c.FD)(w.S,{children:[r?(0,c.Y)(_.$n,{css:P.back,iconLeft:(0,c.Y)(k.A,{}),onClick:r,size:"small",text:"Back",stretch:!1}):null,n||(0,c.FD)(x.EY,{variant:"subheadBig",children:["Upgrade to Replit ",g.en]}),(0,c.FD)(w.S,{children:[(0,c.Y)(L,{highlightUpsell:i}),(0,c.Y)(w.S,{css:P.link,children:(0,c.Y)(d(),{href:"/pricing",target:"_blank",onClick:function(){(0,h.u4)(h.AZ.CORE_PURCHASE_PRICING_CLICKED,{source:t.upgrade.context,surface:t.upgrade.surface})},children:(0,c.FD)(w.S,{css:P.viewMore,children:[(0,c.Y)(D.A,{}),(0,c.Y)(x.EY,{variant:"small",color:"dimmer",children:"View More Features"})]})})})]})]}),(0,c.Y)(w.S,{})]})})},F=function(e){var t=e.analyticsContext,n=e.contextualUpsell;return(0,c.FD)(c.FK,{children:[(0,c.FD)(w.S,{css:P.mobileCoreSidebar,children:[(0,c.FD)(w.S,{children:[n||(0,c.FD)(x.EY,{variant:"subheadDefault",children:["Upgrade to Replit ",g.en]}),(0,c.FD)(w.S,{children:[(0,c.Y)(L,{}),(0,c.Y)(w.S,{css:P.link,children:(0,c.Y)(d(),{href:"/pricing",target:"_blank",onClick:function(){(0,h.u4)(h.AZ.CORE_PURCHASE_PRICING_CLICKED,{source:t.upgrade.context,surface:t.upgrade.surface})},children:(0,c.FD)(w.S,{css:P.viewMore,children:[(0,c.Y)(D.A,{}),(0,c.Y)(x.EY,{variant:"small",color:"dimmer",children:"View More Features"})]})})})]})]}),(0,c.Y)(w.S,{css:P.mobileFooter,children:(0,c.Y)(w.S,{css:P.workMobile,children:(0,c.FD)(x.EY,{variant:"small",color:"dimmer",children:["Using Replit at work?",(0,c.FD)(d(),{css:P.teamsLinkMobile,href:b.NI.href,onClick:function(){(0,h.u4)(h.AZ.CORE_PURCHASE_TEAMS_CLICKED,{source:t.upgrade.context,surface:t.upgrade.surface})},children:["Try out ",g.$B]})]})})})]}),(0,c.Y)(Z.a,{css:P.mobileCoreSidebar})]})},Y=function(e){var t=e.onClose,n=e.analyticsContext,r=e.onPurchaseComplete,i=e.children,a=e.selectedPlanPeriod,s=(0,y.y)().paymentMethod,l=(0,o._)((0,p.useState)(null!=a?a:"yearly"),2),u=l[0],d=l[1],f=(0,o._)((0,p.useState)("new_payment_method_form"),2),v=f[0],g=f[1];return(0,p.useEffect)(function(){var e;(0,h.u4)(h.AZ.CORE_MEMBERSHIP_MODAL_USED,{action:"modal_viewed",source:n.upgrade.context,surface:n.upgrade.surface,planType:u}),(0,h.u4)(h.AZ.SEEN_YEARLY_PRICE,{surface:null!==(e=n.upgrade.surface)&&void 0!==e?e:"membership-modal",context:n.upgrade.context})},[n.upgrade.context,n.upgrade.surface,u]),(0,p.useEffect)(function(){if(null==s?void 0:s.last4){g("card_on_file");return}},[null==s?void 0:s.last4,g]),(0,c.Y)(U.A,{planPeriod:u,setPlanPeriod:d,paymentState:v,paymentMethodLast4:null==s?void 0:s.last4,setPaymentState:g,onClose:t,analyticsContext:n,onPurchaseComplete:r,children:i})};function $(e){var t=e.onClose,n=e.type,r=e.analyticsContext,a=e.onPurchaseComplete,o=e.reloadPageAfterPurchaseComplete,s=e.contextualUpsell,u=e.onBack,d=e.children,p=e.highlightUpsell,v=e.selectedPlanPeriod,g=(0,f.m)();return(0,c.FD)(w.S,{css:P.wrapper,row:!0,children:[(0,c.Y)(j,{contextualUpsell:s,onBack:u,analyticsContext:r,highlightUpsell:p}),(0,c.FD)(w.S,{css:P.contentContainer,children:[u?(0,c.Y)(_.$n,{css:P.backMobile,iconLeft:(0,c.Y)(k.A,{}),onClick:u,size:"small",text:"Back",stretch:!1}):null,(0,c.Y)(F,{analyticsContext:r,contextualUpsell:s}),(0,c.Y)(Y,{type:n,onClose:t,analyticsContext:r,onPurchaseComplete:(0,i._)(function(){return(0,l.YH)(this,function(e){switch(e.label){case 0:if(null==a||a(),!o)return[3,1];return window.location.reload(),[3,3];case 1:return[4,g.refetchQueries({include:"active"})];case 2:e.sent(),e.label=3;case 3:return[2]}})}),selectedPlanPeriod:v,children:d})]})]})}},40500:(e,t,n)=>{n.d(t,{A:()=>o});var r=n(94086),i=n(52881),a=n(76985);function o(e){var t=e.isOpen,n=e.onClose,o=e.type,s=e.analyticsContext,l=e.onPurchaseComplete,c=e.reloadPageAfterPurchaseComplete,u=e.contextualUpsell,d=e.centered,p=e.children,f=e.highlightUpsell,v=e.selectedPlanPeriod;return(0,r.Y)(a.a,{isOpen:null!=t&&t,onRequestClose:n,maxWidth:950,fitContent:!0,noPadding:!0,centered:d,children:(0,r.Y)(i.A,{type:o,analyticsContext:s,onPurchaseComplete:l,reloadPageAfterPurchaseComplete:c,contextualUpsell:u,onClose:n,highlightUpsell:f,selectedPlanPeriod:v,children:p})})}},81804:(e,t,n)=>{n.d(t,{r:()=>eb,A:()=>eU});var r=n(72275),i=n(94086),a=n(97407),o="flag-reverse-apollo-13",s=n(63679),l=n(21980),c=n(82436),u=n(43828),d=n(13454),p=n(20837),f=n(43952),v=n(66622),g=n(5482),m=n(30758),h=n(79625),b=n(55937),y=n(45009),U=n(30632),E=n(43751);function S(){var e=(0,y._)(["\n  fragment PlanPurchaseDuration on PromoCodeInfoDuration {\n    __typename\n    ... on PromoCodeInfoDurationOnce {\n      type\n    }\n    ... on PromoCodeInfoDurationForever {\n      type\n    }\n    ... on PromoCodeInfoDurationRepeating {\n      type\n      durationInMonths\n    }\n  }\n"]);return S=function(){return e},e}function C(){var e=(0,y._)(["\n  fragment PlanPurchasePromoCodeInfo on PromoCodeInfo {\n    externalId\n    code\n    amount\n    duration {\n      ...PlanPurchaseDuration\n    }\n    planPeriod\n  }\n  ","\n"]);return C=function(){return e},e}function _(){var e=(0,y._)(["\n  query PlanPurchaseConfirmationPromoCodeInfo($input: PromoCodeInfoInput!) {\n    promoCodeInfo(input: $input) {\n      ...PlanPurchasePromoCodeInfo\n      ... on Error {\n        message\n      }\n    }\n  }\n  ","\n"]);return _=function(){return e},e}var Z={},x=(0,U.J1)(S()),w=(0,U.J1)(C(),x),A=(0,U.J1)(_(),w),k=n(54867),I=n(44576),T=n(21847),O=n(39651),R=n(53437),D=n(34805),N=n(78504),P=n(63858),L=n(75838),M=n(61080);function j(){var e=(0,y._)(["\n  mutation CreateReplitPlanCheckoutSession(\n    $input: CreateReplitPlanCheckoutSessionInput!\n  ) {\n    createReplitPlanCheckoutSession(input: $input) {\n      ... on CreateReplitPlanCheckoutSessionResult {\n        checkoutSession {\n          id\n          status\n        }\n        clientSecret\n        amount\n        currentUser {\n          id\n          paymentMethod {\n            ... on PaymentMethod {\n              ...UserPaymentMethod\n            }\n          }\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on TooManyRequestsError {\n        message\n      }\n    }\n  }\n  ","\n"]);return j=function(){return e},e}var F={},Y=(0,U.J1)(j(),M.R),$=n(96095),H=n(5979),G=n(78547),B=n(77420),W=n(10168),q=n(32842),z=n(40172),V=n(25877),K=n(28354),Q=n(40889),J=n(8367),X=n(14753),ee=n(42022);function et(e){return(0,i.Y)(ee.Ay,(0,f._)((0,p._)({},e),{children:(0,i.Y)("path",{fillRule:"evenodd",d:"M1.25 2A.75.75 0 0 1 2 1.25h10a.75.75 0 0 1 .53.22l8.592 8.591a2.75 2.75 0 0 1 0 3.878l-.002.001-7.17 7.17a2.749 2.749 0 0 1-3.89 0l-8.59-8.58a.75.75 0 0 1-.22-.53V2Zm1.5.75v8.94l8.37 8.36a1.255 1.255 0 0 0 1.364.271 1.25 1.25 0 0 0 .405-.271l7.17-7.169c-.001 0 0 0 0 0a1.252 1.252 0 0 0 0-1.762l-8.37-8.369H2.75ZM6.25 7A.75.75 0 0 1 7 6.25h.01a.75.75 0 0 1 0 1.5H7A.75.75 0 0 1 6.25 7Z",clipRule:"evenodd"})}))}function en(e){switch(e){case"monthly":return b.L2.Monthly;case"yearly":return b.L2.Yearly;default:(0,k.A)(e)}}function er(e){var t,n,r,a,l,u,b,y,U=e.planId,S=e.period,C=e.onCheckoutComplete,_=e.children,x=(0,h.useStripe)(),w=(0,B.y)().paymentMethod,k=(0,v._)((0,m.useState)("Processing..."),2),D=k[0],M=k[1],j=(0,v._)((0,m.useState)(!1),2),W=j[0],q=j[1],z=(0,v._)((0,m.useState)(!1),2),K=z[0],ee=z[1],et=(0,O.A)().showError,er=(r=(n=(0,v._)((t=(0,p._)({},F,void 0),L.n(Y,t)),2))[0],a=n[1].called,{createCheckoutSession:(l=(0,d._)(function(e){var t,n,i,a,o,s,l,c,u,d,p;return(0,g.YH)(this,function(f){switch(f.label){case 0:return t=e.planPrefix,n=e.planPeriod,i=e.customerName,a=e.promoCodeExternalId,o=e.onError,s=e.onSucceed,[4,r({variables:{input:{planPrefix:t,planPeriod:n,customerName:i,promoCodeExternalId:a}}})];case 1:if(c=(l=f.sent()).data,u=l.errors)return o(u[0].message),[2,{clientSecret:null,checkoutSessionId:null,amount:null}];if(!(d=null==c?void 0:c.createReplitPlanCheckoutSession))return o("An error occurred. Please try again."),[2,{clientSecret:null,checkoutSessionId:null,amount:null}];if((null==d?void 0:d.__typename)!=="CreateReplitPlanCheckoutSessionResult")return o(d.message),[2,{clientSecret:null,checkoutSessionId:null,amount:null}];return p={clientSecret:d.clientSecret,checkoutSessionId:d.checkoutSession.id,amount:d.amount},s&&s(p),[2,p]}})}),function(e){return l.apply(this,arguments)}),called:a}).createCheckoutSession,eo=(0,H.f)().startPolling,es=(u=(0,v._)((0,$.NU)(),1)[0],{fetchPlanStatus:function(e){var t=e.onError,n=e.onSucceeded;u({fetchPolicy:"cache-and-network",ssr:!1,onCompleted:function(e){var r;(null===(r=e.currentUser)||void 0===r?void 0:r.__typename)==="CurrentUser"?n():t("Error getting updated subscription status.")},onError:function(e){t(e.message)}})}}).fetchPlanStatus,el=(0,v._)((0,m.useState)({type:"NoPromoCode"}),2),ec=el[0],eu=el[1],ed=(0,T.W)("",function(){}),ep=(0,v._)((b={onError:function(){eu({type:"NoPromoCode"})}},y=(0,p._)({},Z,b),E._(A,y)),2),ef=ep[0],ev=ep[1],eg=ev.error,em=ev.loading,eh=(0,s._P)({controlName:o,type:"boolean",default:!1,logFlagToAnalytics:!1}),eb=(0,G.A)({planPrefix:U,planPeriod:S}),ey=eb.totalCostInUsdText,eU=eb.loading,eE=eb.error,eS=(0,m.useCallback)(function(){ee(!1)},[ee]),eC=(0,m.useCallback)((0,d._)(function(){var e,t,n,r,i,a,o;return(0,g.YH)(this,function(s){switch(s.label){case 0:if(0===ed.value.length)return[2];return[4,ef({variables:{input:{code:ed.value,planPeriod:en(S)}}})];case 1:if(t=(e=s.sent()).error,n=e.data,t||!n)return eu({type:"NoPromoCode"}),et("An error occurred. Please try again."),[2];if("NotFoundError"===n.promoCodeInfo.__typename)return eu({type:"NotFoundPromoCode"}),et("Invalid promo code."),[2];if("UserError"===n.promoCodeInfo.__typename)return eu({type:"NotApplicablePromoCode",message:n.promoCodeInfo.message}),et(n.promoCodeInfo.message),[2];if("PromoCodeInfo"!==n.promoCodeInfo.__typename)return eu({type:"NoPromoCode"}),et("Something went wrong. Please try again."),[2];return ee(!0),M("Calculating new price..."),[4,er({planPrefix:(0,R.Lq)(U),planPeriod:(0,R.Xe)(S),promoCodeExternalId:n.promoCodeInfo.externalId,onError:function(e){et(e),eS()}})];case 2:if(i=(r=s.sent()).clientSecret,a=r.checkoutSessionId,o=r.amount,!i||!a||"number"!=typeof o)return et("Something went wrong. Please try again."),eu({type:"NoPromoCode"}),eS(),[2];return eu((0,f._)((0,p._)({type:"ValidPromoCode"},n.promoCodeInfo),{clientSecret:i,checkoutSessionId:a,totalDue:o})),ed.setValue(""),eS(),[2]}})}),[ed,U,S,er,et,eS,ef]);function e_(e,t,n){return eZ.apply(this,arguments)}function eZ(){return(eZ=(0,d._)(function(e,t,n){var r,i;return(0,g.YH)(this,function(a){switch(a.label){case 0:return M("Processing payment..."),[4,n.confirmCardPayment(e)];case 1:if(r=a.sent().error)return et(null!==(i=r.message)&&void 0!==i?i:"An error occurred. Please try again."),eS(),[2];return M("Upgrading your account..."),eo({checkoutSessionId:t,onSucceeded:function(){es({onError:function(e){et(e),eS()},onSucceeded:function(){ee(!1),M("Success!"),q(!0),C&&C()}})},onFailed:function(){et("Payment failed. Please try again."),eS()},onError:function(e){et(e),eS()}}),[2]}})})).apply(this,arguments)}function ex(){return(ex=(0,d._)(function(e){var t,n,r;return(0,g.YH)(this,function(i){switch(i.label){case 0:if(null==w)return et("A payment method is required."),(0,N.P)(Error("User attempted plan purchase without a payment method.")),[2];if(null==x)return et("Error loading payment system."),(0,N.P)(Error("User attempted plan purchase without Stripe loaded.")),[2];if(ee(!0),M("Checking out..."),"ValidPromoCode"===e.type)return(0,c.u4)(c.AZ.CORE_PROMO_CODE_CHECKOUT,{promoCode:e.code,period:S}),e_(e.clientSecret,e.checkoutSessionId,x),[2];return[4,er({planPrefix:(0,R.Lq)(U),planPeriod:(0,R.Xe)(S),onError:function(e){et(e),eS()}})];case 1:if(n=(t=i.sent()).clientSecret,r=t.checkoutSessionId,!n||!r)return eS(),[2];return e_(n,r,x),[2]}})})).apply(this,arguments)}if(eU)return(0,i.Y)(J.S,{align:"center",children:(0,i.Y)(X.A,{size:24})});if(null!=eE)return(0,i.FD)(Q.EY,{css:ea.unrecoverableError,children:["Something went wrong. Please contact us at"," ",(0,i.Y)("a",{href:"mailto:support@replit.com",children:"support@replit.com"}),"."]});var ew="ValidPromoCode"===ec.type&&"number"==typeof ec.totalDue?(0,I.b0)(ec.totalDue):ey;return(0,i.FD)(J.S,{gap:8,children:[eh?(0,i.FD)(i.FK,{children:[(0,i.Y)(V.a,{}),(0,i.FD)(J.S,{gap:8,children:[(0,i.FD)(J.S,{row:!0,gap:8,justify:"space-between",children:[(0,i.Y)(Q.EY,{variant:"subheadDefault",children:"Subtotal:"}),(0,i.Y)(J.S,{children:(0,i.Y)(Q.EY,{variant:"subheadDefault",children:ey})})]}),(0,i.Y)(ei,{promoCode:ed.value,setPromoCode:ed.setValue,applyPromoCode:eC,period:S,setPromoCodeData:eu,promoCodeData:ec,promoCodeError:eg,promoCodeLoading:em||eU||K&&"ValidPromoCode"===ec.type})]})]}):null,(0,i.Y)(P.T,{isMakingPayment:!0,disabled:!w||K||W||em||ed.value.length>0,initialStateTextOverride:"Confirm purchase (".concat(ew,")"),processingStateTextOverride:D,showProcessingState:K||em,showSuccessState:W,onClick:function(){return function(e){return ex.apply(this,arguments)}(ec)}}),_]})}var ei=function(e){var t=e.promoCode,n=e.setPromoCode,r=e.applyPromoCode,a=e.promoCodeData,o=e.setPromoCodeData,s=e.promoCodeError,l=e.period,c=e.promoCodeLoading;return(0,m.useEffect)(function(){(null==a?void 0:a.type)==="ValidPromoCode"&&en(l)!==a.planPeriod&&o({type:"NoPromoCode"})},[l,a,o]),(0,i.Y)(J.S,{children:"ValidPromoCode"===a.type?(0,i.FD)(J.S,{row:!0,gap:8,justify:"space-between",align:"center",children:[(0,i.FD)(J.S,{children:[(0,i.FD)(J.S,{css:ea.promoCodeTag,row:!0,gap:4,align:"center",children:[(0,i.Y)(et,{}),(0,i.Y)(Q.EY,{variant:"subheadDefault",children:a.code})]}),(0,i.Y)(Q.EY,{variant:"small",color:"dimmer",children:"".concat((0,I.b0)(a.amount)," off ").concat(function(e){var t=e.duration;switch(t.__typename){case"PromoCodeInfoDurationRepeating":var n=e.planPeriod===b.L2.Yearly?"year":"month",r=e.planPeriod===b.L2.Yearly?12:1,i=Math.ceil(t.durationInMonths/r);return"for ".concat((0,D.A)(n,i,!0));case"PromoCodeInfoDurationOnce":return"once";case"PromoCodeInfoDurationForever":return"in perpetuity";default:(0,k.A)(t)}}(a))})]}),(0,i.Y)(J.S,{children:(0,i.FD)(Q.EY,{variant:"text",color:"dimmer",children:["-",(0,I.b0)(a.amount)]})})]}):(0,i.FD)(i.FK,{children:[(0,i.FD)(J.S,{row:!0,gap:8,children:[(0,i.Y)(K.pd,{"aria-label":"Promo code",type:"text",placeholder:"Promo code",value:t,onChange:function(e){return n(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&r()},"aria-invalid":!!(s||"NoPromoCode"!==a.type)}),(0,i.Y)(z.$n,{disabled:0===t.length,loading:c,onClick:function(){return r()},iconLeft:c?(0,i.Y)(X.A,{size:16}):void 0,text:c?"Applying":"Apply"})]}),"NotFoundPromoCode"===a.type&&(0,i.Y)(Q.EY,{variant:"small",css:ea.errorText,children:"Invalid promo code"}),"NotApplicablePromoCode"===a.type&&(0,i.Y)(Q.EY,{variant:"small",css:ea.errorText,children:a.message})]})})},ea=(0,W.x)({unrecoverableError:[q.wp.textAlign.center],errorText:[q.wp.color.accentNegativeStronger],promoCodeTag:[q.wp.backgroundColor.backgroundHigher,q.wp.py(4),q.wp.px(8),q.wp.borderRadius(4),{alignSelf:"flex-start"}]}),eo=n(69796),es=n(49377),el=n(24955),ec=n(84911),eu=n(24239),ed=n(95235),ep=n(31955),ef=n(72602),ev=n(60372),eg=n(10001),em=n(77361),eh=(0,W.x)({savedMethodWrapper:[q.wp.borderRadius(8)],planPeriodToggleV2:[q.wp.border({color:el.LU.outlineDimmer,width:1,style:"solid"}),q.wp.maxWidth(400),(0,r._)({label:[q.wp.height("unset"),q.wp.py(4),{borderRadius:3}]},"label > span",[q.wp.fontSize(12),{lineHeight:1.2}])],yearlyTotalCost:[q.wp.ml(8)],header:[q.wp.mt(16),q.wp.position.relative],offset:[q.wp.position.absolute,q.wp.top(-16),q.wp.left(0)],textPrice:[q.wp.mt(32)],yearly:[q.wp.textAlign.center],tag:[q.wp.pl(4),q.wp.rowWithGap(2),q.wp.align.center],percent:[q.wp.color.accentPrimaryStronger,q.wp.hover(q.wp.color.accentPrimaryStrongest)]});function eb(e){var t=e.background,n=e.last4,r=e.onPaymentEdit,a=(0,s._P)({controlName:o,type:"boolean",default:!1,logFlagToAnalytics:!1});return(0,i.FD)(ep.ui,{elevated:!0,background:void 0===t?"default":t,css:eh.savedMethodWrapper,row:!0,justify:"space-between",style:a?{}:{padding:el.LU.space16},children:[(0,i.Y)(Q.EY,{variant:"text",children:"Saved payment method"}),(0,i.FD)(J.S,{row:!0,gap:8,align:"center",children:[(0,i.Y)(ev.A,{}),(0,i.Y)(u.l,{last4:n}),(0,i.Y)(ed.K0,{alt:"Edit payment method",onClick:r,children:(0,i.Y)(eg.A,{})})]})]})}function ey(e){var t=e.paymentState,n=e.paymentMethodLast4,r=e.setPaymentState,o=e.planPeriod,s=e.children,l=e.onCheckout;return n&&"card_on_file"===t?(0,i.FD)(i.FK,{children:[(0,i.Y)(eb,{last4:n,onPaymentEdit:function(){return r("new_payment_method_form")}}),(0,i.Y)(er,{planId:a.bx,period:o,onCheckoutComplete:l,children:s}),(0,i.Y)(es.V,{disclaimerTextAction:"completing this purchase and adding this payment method"})]}):(0,i.Y)(eo.y,{onSuccess:function(){return r("card_on_file")},buttonText:"Save and continue to checkout",buttonIcon:(0,i.Y)(ef.A,{}),children:s})}function eU(e){var t=e.paymentState,n=e.paymentMethodLast4,r=e.planPeriod,o=e.setPlanPeriod,s=e.setPaymentState,u=e.onClose,d=e.analyticsContext,p=e.onPurchaseComplete,f=e.children,v=(0,ec.c)(),g=(0,G.A)({planPrefix:a.bx,planPeriod:r}),m=g.recurringCostDisplayText,h=g.totalCostInUsdText,b=(0,G.A)({planPrefix:a.bx,planPeriod:"monthly"}).costInUsdCents,y=(0,G.A)({planPrefix:a.bx,planPeriod:"yearly"}).costInUsdCents,U=b&&y?Math.round((12*b-y)/(12*b)*100):0,E="yearly"===r&&h?(0,i.FD)(Q.EY,{variant:"subheadDefault",children:[h,"/year",(0,i.FD)(Q.EY,{css:eh.yearlyTotalCost,variant:"subheadDefault",color:"dimmest",children:["(",m,")"]})]}):(0,i.Y)(Q.EY,{variant:"subheadDefault",children:m});return(0,i.FD)(i.FK,{children:[(0,i.FD)(J.S,{dataCy:"core-modal",css:eh.header,children:[(0,i.Y)(J.S,{css:eh.offset,children:(0,i.FD)(eu.e2,{css:eh.planPeriodToggleV2,row:!0,name:"plan_period_toggle",value:r,onChange:function(e){(0,c.u4)(c.AZ.PLAN_COMPARISON_USED,{action:"period_toggled",context:d.upgrade.context,surface:d.upgrade.surface}),o(e)},children:[(0,i.Y)(eu.$O,{id:v("monthly"),value:"monthly",text:"Monthly"}),(0,i.Y)(eu.$O,{id:v("yearly"),value:"yearly",text:(0,i.FD)(J.S,{css:eh.yearly,row:!0,gap:2,align:"center",children:[(0,i.Y)(Q.EY,{variant:"small",children:"Yearly"}),U>0?(0,i.FD)(J.S,{css:eh.tag,children:[(0,i.Y)(em.A,{color:el.LU.accentPrimaryStronger,size:12}),(0,i.FD)(Q.EY,{css:eh.percent,variant:"small",children:[U,"% off"]})]}):null]})})]})}),(0,i.FD)(J.S,{css:eh.textPrice,row:!0,gap:8,justify:"space-between",children:[(0,i.FD)(Q.EY,{variant:"subheadDefault",children:[a.en," plan"]}),E]})]}),(0,i.Y)(V.a,{}),(0,i.Y)(J.S,{gap:16,children:(0,i.Y)(ey,{paymentState:t,paymentMethodLast4:n,planPeriod:r,setPaymentState:s,onCheckout:function(){var e=d.upgrade,n=e.context,i=e.surface,a=null!=i?i:"membership_purchase_modal";(0,c.u4)(c.AZ.CORE_MEMBERSHIP_MODAL_USED,{action:"checkout_complete",source:n,surface:a,planType:r}),l.vF.info("Checkout Complete successful",{surface:a,planType:r,paymentState:t}),null==p||p(),u()},children:f})})]})}},46980:(e,t,n)=>{n.d(t,{M:()=>s,o:()=>l});var r=n(45009),i=n(30632);function a(){var e=(0,r._)(["\n  fragment TrialWillCancelAtCurrentUser on CurrentUser {\n    id\n    isSubscribed\n    paymentMethod {\n      __typename\n      ... on PaymentMethod {\n        id\n        isSaved\n      }\n    }\n    billingInfo {\n      planInfo {\n        cancelAt\n      }\n    }\n    userSubscription {\n      isTrial\n      timeRemainingInTrial\n    }\n  }\n"]);return a=function(){return e},e}function o(){var e=(0,r._)(["\n  fragment UserPlanStateCurrentUser on CurrentUser {\n    id\n    ...TrialWillCancelAtCurrentUser\n    userSubscriptionType\n    billingInfo {\n      planInfo {\n        interval\n        provider\n      }\n    }\n    userSubscription {\n      isTrial\n    }\n  }\n  ","\n"]);return o=function(){return e},e}var s=(0,i.J1)(a()),l=(0,i.J1)(o(),s)},88323:(e,t,n)=>{n.d(t,{Ay:()=>f,Mh:()=>d});var r=n(20837),i=n(43952),a=n(45009),o=n(94086),s=n(25204),l=n.n(s),c=n(30632);function u(){var e=(0,a._)(["\n    fragment UserLinkUser on User {\n      id\n      url\n      username\n    }\n  "]);return u=function(){return e},e}var d=function(e){return{href:{pathname:"/profile",query:{username:"string"==typeof e?e:e.username}},as:"string"==typeof e?"/@".concat(e):e.url}},p=function(e){var t=e.user,n=e.children;return(0,o.Y)(l(),(0,i._)((0,r._)({legacyBehavior:!0},d(t)),{prefetch:!1,passHref:!0,children:n}))};p.fragments={user:(0,c.Ay)(u())};let f=p},271:(e,t,n)=>{n.d(t,{A:()=>r});let r=(0,n(30758).createContext)(null)},92105:(e,t,n)=>{n.d(t,{H:()=>p,Q:()=>f});var r=n(20837),i=n(43952),a=n(67925),o=n(55195),s=n(82436),l=n(65640),c={workspace:!0,bsod:!1},u="undefined-event-id";function d(e,t){var n=u;return o.v4(function(i){var a;i.setTags((0,r._)({},c,null!==(a=null==t?void 0:t.tags)&&void 0!==a?a:{})),(null==t?void 0:t.extras)&&i.setExtras(t.extras),n=o.Cp(e)||u}),n}function p(e,t){return l.error("fatal error captured, see error below"),l.error(e),l.error(t),(0,s.u4)(s.AZ.WS_CRASHED),(t=null!=t?t:{}).tags=(0,i._)((0,r._)({},t.tags),{workspace:!0,bsod:!0}),a.L.addError(e,(0,r._)({},t.tags)),d(e,t)}function f(e,t){return l.error("an error was captured that will be fatal in the future, see error below."),l.error(e),l.error(t),(t=null!=t?t:{}).tags=(0,i._)((0,r._)({},t.tags),{workspace:!0,bsod:!1}),d(e,t)}},79261:(e,t,n)=>{n.d(t,{Ay:()=>v,PR:()=>p,pI:()=>f});var r=n(60049),i=n.n(r),a=n(45009);function o(){var e=(0,a._)(["\n  query TrackAgentAnalyticsEvent($replId: String!) {\n    getRepl(id: $replId) {\n      ... on Repl {\n        id\n        origin {\n          ... on Repl {\n            id\n          }\n        }\n      }\n    }\n  }\n"]);return o=function(){return e},e}var s=(0,n(30632).J1)(o()),l=n(71676),c=n(99655),u=n(82436),d=!1;function p(e){d=e}function f(e){var t,n,r=e.action,a=e.fileType,o=e.fileSize,p=e.length,f=e.prompt,v=e.context,g=e.messageText,m=e.planText,h=e.feedbackText,b=e.stepsApproved,y=e.sessionId,U=e.eventId,E=e.stepId,S=e.stepName,C=e.stepBlueprints,_=e.secretsRequested,Z=e.freeCheckpoint,x=e.forceTracking,w=e.replOwnerPlanName;if(!d||x){var A=(0,c.P1)(i()),k=(0,c.Po)(i());switch(i().pathname){case"/replEnvironmentDesktop":case"/replEnvironmentMobile":(t=i().query.replId?i().query.replId.toString():void 0)&&(n=function(e){var t,n=null;try{n=null===l.V||void 0===l.V?void 0:l.V.readQuery({query:s,variables:{replId:e}})}catch(e){}var r=(null==n?void 0:n.getRepl.__typename)==="Repl"?n.getRepl:void 0;return{replId:null==r?void 0:r.id,originReplId:null==r?void 0:null===(t=r.origin)||void 0===t?void 0:t.id}}(t).originReplId)}return(0,u.u4)(u.AZ.AGENT_USED,{action:r,file_type:a,is_mobile:A,is_bonsai:k,repl_id:t,file_size:o,length:p,prompt:f,context:v,message_text:g,plan_text:m,feedback_text:h,steps_approved:b,session_id:y,event_id:U,step_id:E,step_name:S,step_blueprints:C,secrets_requested:_,free_checkpoint:Z,origin_repl_id:n,repl_owner_plan_name:w})}}function v(){return function(e){return f(e)}}},60409:(e,t,n)=>{n.d(t,{E_:()=>b.rE,hV:()=>_,jI:()=>C});var r=n(13454),i=n(78542),a=n(62640),o=n(95766),s=n(15711),l=n(39487),c=n(20837),u=n(43952),d=n(5482),p=n(98251),f=n(75362),v=n(52627),g=n(98337),m=n(47689),h=n(16490),b=n(30271),y={codec:g.M,heartbeatIntervalMs:2500,heartbeatsUntilDead:40,enableTransparentSessionReconnects:!1,connectionTimeoutMs:1e4,handshakeTimeoutMs:15e3,sessionDisconnectGraceMs:15e3},U=(0,u._)((0,c._)({},y),{baseIntervalMs:250,maxJitterMs:500,maxBackoffMs:32e3,attemptBudgetCapacity:5,budgetRestoreIntervalMs:2e3}),E=new WeakMap,S=new WeakMap,C=function(){"use strict";function e(t){var n=this,l=t.clientId,c=t.serverId,u=t.connectImmediately,p=t.logger,g=t.getEndpoint,b=t.overrideWebsocket,y=t.onProtocolError,C=t.onRetriesExceeded;(0,i._)(this,e),(0,o._)(this,E,{writable:!0,value:void 0}),(0,o._)(this,S,{writable:!0,value:void 0}),this.dispose=null,this.clientId=l,this.serverId=c,this.log=null!=p?p:null,this.transport=new h.I(b?(0,r._)(function(){return(0,d.YH)(this,function(e){switch(e.label){case 0:return[4,g()];case 1:return[2,b.apply(void 0,[e.sent().toString()])]}})}):(0,r._)(function(){var e;return(0,d.YH)(this,function(t){switch(t.label){case 0:return e=WebSocket.bind,[4,g()];case 1:return[2,new(e.apply(WebSocket,[void 0,t.sent().toString()]))]}})}),this.clientId,U),p&&this.transport.bindLogger(p,"info"),this.session=new f.N(null),(0,s._)(this,E,new f.N("disconnected")),(0,s._)(this,S,(0,v.UU)(this.transport,c,{eagerlyConnect:!1,connectOnInvoke:!1})),this.transport.addEventListener("sessionTransition",function(e){if(!n.is("closed","error")){if("Connected"===e.state){var t;n.session.set(null!==(t=n.transport.sessions.values().next().value)&&void 0!==t?t:null),(0,a._)(n,E).set("connected")}else n.session.set(null),n.transport.reconnectOnConnectionDrop?(0,a._)(n,E).set("connecting"):(0,a._)(n,E).set("disconnected")}}),this.transport.addEventListener("sessionStatus",function(e){n.is("closed","error")||"disconnect"!==e.status||(n.session.set(null),n.transport.reconnectOnConnectionDrop?n.status.set("connecting"):n.status.set("disconnected"))}),this.transport.addEventListener("protocolError",function(e){var t,r;e.type===m.bd.HandshakeFailed&&(null===(t=n.log)||void 0===t||t.call(n,"river handshake failed",{clientId:l},"error")),e.type===m.bd.RetriesExceeded?(null===(r=n.log)||void 0===r||r.call(n,"river retry limit exceeded",{clientId:l},"error"),n.close(),null==C||C(e)):(n.error(),null==y||y(e))});var _=function(){return!n.is("closed","error")&&"visible"===document.visibilityState&&window.navigator.onLine},Z=function(){var e=n.transport.reconnectOnConnectionDrop,t=_();n.transport.reconnectOnConnectionDrop=t,e&&!t&&!n.session.current&&n.is("connecting")&&(0,a._)(n,E).set("disconnected"),t&&n.is("disconnected")&&n.connect()};this.transport.reconnectOnConnectionDrop=_(),document.addEventListener("visibilitychange",Z),window.addEventListener("online",Z),window.addEventListener("offline",Z),this.dispose=function(){document.removeEventListener("visibilitychange",Z),window.removeEventListener("online",Z),window.removeEventListener("offline",Z)},_()&&!1!==u&&this.connect(),!0===u&&this.connect()}var t=e.prototype;return t.is=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.includes((0,a._)(this,E).current)},t.connect=function(){if(this.is("closed","error"))throw Error("Cannot connect to a ".concat((0,a._)(this,E).current," ChatConnection"));this.is("connected","connecting")||((0,a._)(this,E).set("connecting"),this.transport.connect(this.serverId))},t.error=function(){if(!this.is("closed","error")){var e;(0,a._)(this,E).set("error"),this.transport.close(),null===(e=this.dispose)||void 0===e||e.call(this),this.dispose=null}},t.close=function(){if(!this.is("closed","error")){var e;(0,a._)(this,E).set("closed"),this.transport.close(),null===(e=this.dispose)||void 0===e||e.call(this),this.dispose=null}},(0,l._)(e,[{key:"status",get:function(){return(0,a._)(this,E)}},{key:"service",get:function(){return(0,a._)(this,S).chatService}}]),e}();function _(e){var t=e.currentUserId;return"chat-client-".concat(t,"-").concat((0,p.Ak)())}},84321:(e,t,n)=>{n.d(t,{HkE:()=>J,jhd:()=>v,g32:()=>l,O3q:()=>u,B73:()=>U,b4s:()=>en,Rq4:()=>aw,fDX:()=>I,pSr:()=>ei,fqQ:()=>z,qOk:()=>D,u5I:()=>_,wIV:()=>tM,Z1T:()=>P,VMq:()=>W,qRv:()=>G,e3q:()=>A,E_:()=>iz.E_,z91:()=>eg,IJl:()=>aD,jIS:()=>iz.jI,dF3:()=>F,MOh:()=>el,Hnw:()=>x,FeH:()=>K,UPK:()=>S,utd:()=>M,PbA:()=>ig,eGc:()=>od,bAT:()=>i8,Jrs:()=>aa,hVx:()=>iz.hV,mMy:()=>i5,kT_:()=>iW,vSB:()=>iG,jwg:()=>ae,ApO:()=>ai,S0f:()=>an,ucN:()=>at,laq:()=>ar,kjF:()=>ot,VFn:()=>iC,GJE:()=>aE,QNh:()=>iU,hT8:()=>iS});var r=n(20837),i=n(13454),a=n(5482),o=n(40174),s=n(52627),l=function(e){return e[e.AGENT_STATE_UNKNOWN=0]="AGENT_STATE_UNKNOWN",e[e.AGENT_STATE_RUNNING=1]="AGENT_STATE_RUNNING",e[e.AGENT_STATE_PAUSING=2]="AGENT_STATE_PAUSING",e[e.AGENT_STATE_PAUSED=3]="AGENT_STATE_PAUSED",e[e.AGENT_STATE_NOT_STARTED=4]="AGENT_STATE_NOT_STARTED",e}({}),c=o.ZU.Enum(l),u=function(e){return e[e.AGENT_FEEDBACK_UNKNOWN=0]="AGENT_FEEDBACK_UNKNOWN",e[e.AGENT_FEEDBACK_THUMB_UP=1]="AGENT_FEEDBACK_THUMB_UP",e[e.AGENT_FEEDBACK_THUMB_DOWN=2]="AGENT_FEEDBACK_THUMB_DOWN",e}({}),d=o.ZU.Enum(u),p=function(e){return e[e.SECRET_UNKNOWN=0]="SECRET_UNKNOWN",e[e.SECRET_COMPLETED=1]="SECRET_COMPLETED",e[e.SECRET_IGNORED=2]="SECRET_IGNORED",e}({}),f=o.ZU.Enum(p),v=function(e){return e[e.STEP_UNKNOWN=0]="STEP_UNKNOWN",e[e.STEP_NOT_STARTED=1]="STEP_NOT_STARTED",e[e.STEP_IN_PROGRESS=2]="STEP_IN_PROGRESS",e[e.STEP_COMPLETE=3]="STEP_COMPLETE",e[e.STEP_FAILED=4]="STEP_FAILED",e[e.STEP_ABORTED=5]="STEP_ABORTED",e}({}),g=o.ZU.Enum(v),m=function(e){return e[e.BLUEPRINT_CATEGORY_UNSPECIFIED=0]="BLUEPRINT_CATEGORY_UNSPECIFIED",e[e.FEATURE=1]="FEATURE",e[e.STACK=2]="STACK",e[e.STYLING=3]="STYLING",e}({}),h=o.ZU.Enum(m),b=function(e){return e[e.BENCHMARK_CONCLUSION_REASON_UNKNOWN=0]="BENCHMARK_CONCLUSION_REASON_UNKNOWN",e[e.SUCCESSFUL=1]="SUCCESSFUL",e[e.RECURSION_LIMIT_REACHED=2]="RECURSION_LIMIT_REACHED",e[e.EXCEPTION=3]="EXCEPTION",e}({}),y=o.ZU.Enum(b),U=function(e){return e[e.ATTACHED_FORM_TYPE_UNKNOWN=0]="ATTACHED_FORM_TYPE_UNKNOWN",e[e.ATTACHED_FORM_TYPE_REPL_CREATION_V1=1]="ATTACHED_FORM_TYPE_REPL_CREATION_V1",e}({}),E=o.ZU.Enum(U),S=function(e){return e[e.URL_INTENT_UNSPECIFIED=0]="URL_INTENT_UNSPECIFIED",e[e.URL_SCREENSHOT=1]="URL_SCREENSHOT",e[e.URL_CRAWL_CONTENT=2]="URL_CRAWL_CONTENT",e[e.URL_AS_PROMPT=3]="URL_AS_PROMPT",e[e.URL_CRAWL_HTML=4]="URL_CRAWL_HTML",e}({}),C=o.ZU.Enum(S),_=function(e){return e[e.GENERATION_STATE_UNKNOWN=0]="GENERATION_STATE_UNKNOWN",e[e.GENERATION_IN_PROGRESS=1]="GENERATION_IN_PROGRESS",e[e.GENERATION_REGENERATING=2]="GENERATION_REGENERATING",e[e.GENERATION_COMPLETE=3]="GENERATION_COMPLETE",e[e.GENERATION_ERROR=4]="GENERATION_ERROR",e}({}),Z=o.ZU.Enum(_),x=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.ENGLISH=1]="ENGLISH",e[e.CRON=2]="CRON",e}({}),w=o.ZU.Enum(x),A=function(e){return e[e.MODEL_TYPE_UNKNOWN=0]="MODEL_TYPE_UNKNOWN",e[e.BASIC=1]="BASIC",e[e.ADVANCED=2]="ADVANCED",e[e.OVERRIDE=3]="OVERRIDE",e}({}),k=o.ZU.Enum(A),I=function(e){return e[e.CODE_REFERENCE_TYPE_UNKNOWN=0]="CODE_REFERENCE_TYPE_UNKNOWN",e[e.FILE=1]="FILE",e[e.INLINE=2]="INLINE",e}({}),T=o.ZU.Enum(I),O=function(e){return e[e.DEBUG_ERROR_SOURCE_UNKNOWN=0]="DEBUG_ERROR_SOURCE_UNKNOWN",e[e.CONSOLE=1]="CONSOLE",e[e.LSP=2]="LSP",e}({}),R=o.ZU.Enum(O),D=function(e){return e[e.EVENT_STATE_UNKNOWN=0]="EVENT_STATE_UNKNOWN",e[e.IN_PROGRESS=1]="IN_PROGRESS",e[e.COMPLETE=2]="COMPLETE",e}({}),N=o.ZU.Enum(D),P=function(e){return e[e.INLINE_MESSAGE_TYPE_UNKNOWN=0]="INLINE_MESSAGE_TYPE_UNKNOWN",e[e.EXPLAIN_CODE=1]="EXPLAIN_CODE",e[e.DEBUGGER=2]="DEBUGGER",e[e.GENERATE_CODE=3]="GENERATE_CODE",e[e.TRANSFORM_CODE=4]="TRANSFORM_CODE",e}({}),L=o.ZU.Enum(P),M=function(e){return e[e.USER_TYPE_UNKNOWN=0]="USER_TYPE_UNKNOWN",e[e.USER=1]="USER",e[e.AI=2]="AI",e[e.SERVICE=3]="SERVICE",e}({}),j=o.ZU.Enum(M),F=function(e){return e[e.SESSION_TYPE_UNKNOWN=0]="SESSION_TYPE_UNKNOWN",e[e.CHAT=1]="CHAT",e[e.INLINE_CHAT=2]="INLINE_CHAT",e[e.SINGLE_USE_SESSION=3]="SINGLE_USE_SESSION",e[e.REPL_CREATION=4]="REPL_CREATION",e[e.AGENT_SESSION=5]="AGENT_SESSION",e[e.HOSTING_DEBUG_SUMMARY=6]="HOSTING_DEBUG_SUMMARY",e[e.REPL_CREATION_V2=7]="REPL_CREATION_V2",e[e.REPL_CREATION_V3=8]="REPL_CREATION_V3",e[e.AGENT_REPLAY_SESSION=9]="AGENT_REPLAY_SESSION",e}({}),Y=o.ZU.Enum(F),$=function(e){return e[e.MESSAGE_STOP_REASON_UNKNOWN=0]="MESSAGE_STOP_REASON_UNKNOWN",e[e.MAX_TOKENS=1]="MAX_TOKENS",e[e.STOP_TOKEN=2]="STOP_TOKEN",e[e.SAFETY=3]="SAFETY",e[e.RECITATION=4]="RECITATION",e[e.TOOL_CALLS=5]="TOOL_CALLS",e[e.CONTENT_FILTER=6]="CONTENT_FILTER",e}({}),H=o.ZU.Enum($),G=function(e){return e[e.MESSAGE_ACTION_UNKNOWN=0]="MESSAGE_ACTION_UNKNOWN",e[e.NONE=1]="NONE",e[e.REPLIT_DOCS=2]="REPLIT_DOCS",e[e.GENERATE=3]="GENERATE",e[e.EXPLAIN=4]="EXPLAIN",e[e.TRANSFORM=5]="TRANSFORM",e[e.DEBUG=6]="DEBUG",e[e.FIND_INTENT=7]="FIND_INTENT",e[e.AGENT=8]="AGENT",e[e.ITERATIVE_AGENT=9]="ITERATIVE_AGENT",e}({}),B=o.ZU.Enum(G),W=function(e){return e[e.MEMBERSHIP_TYPE_UNKNOWN=0]="MEMBERSHIP_TYPE_UNKNOWN",e[e.FREE=1]="FREE",e[e.CORE=2]="CORE",e[e.TEAMS=3]="TEAMS",e}({}),q=o.ZU.Enum(W),z=function(e){return e[e.EVENT_ERROR_TYPE_UNKNOWN=0]="EVENT_ERROR_TYPE_UNKNOWN",e[e.MANUALLY_ABORTED=1]="MANUALLY_ABORTED",e[e.INCOMPLETE_UPDATE=2]="INCOMPLETE_UPDATE",e[e.INTERNAL_SERVER_ERROR=3]="INTERNAL_SERVER_ERROR",e[e.USAGE_LIMIT=4]="USAGE_LIMIT",e[e.TEST_ERROR=5]="TEST_ERROR",e[e.INVALID_INPUT=6]="INVALID_INPUT",e[e.UNAUTHORIZED=7]="UNAUTHORIZED",e[e.AGENT_EXECUTION_ERROR=8]="AGENT_EXECUTION_ERROR",e[e.AI_QUOTA_ERROR_UNKNOWN=9]="AI_QUOTA_ERROR_UNKNOWN",e[e.AI_QUOTA_INSUFFICIENT_BUDGET=10]="AI_QUOTA_INSUFFICIENT_BUDGET",e[e.AI_QUOTA_REQUIRES_PAYMENT_METHOD=11]="AI_QUOTA_REQUIRES_PAYMENT_METHOD",e[e.AI_QUOTA_REQUIRES_ACTIVE_SUBSCRIPTION=12]="AI_QUOTA_REQUIRES_ACTIVE_SUBSCRIPTION",e}({}),V=o.ZU.Enum(z),K=function(e){return e[e.SET=0]="SET",e[e.ADD=1]="ADD",e[e.CLEAR=2]="CLEAR",e[e.APPEND=3]="APPEND",e}({}),Q=o.ZU.Enum(K),J=function(e){return e[e.AGENT_AUTHORIZATION_FAILED_CODE_UNSPECIFIED=0]="AGENT_AUTHORIZATION_FAILED_CODE_UNSPECIFIED",e[e.INSUFFICIENT_BUDGET=1]="INSUFFICIENT_BUDGET",e[e.REQUIRES_PAYMENT_METHOD=2]="REQUIRES_PAYMENT_METHOD",e[e.REQUIRES_ACTIVE_SUBSCRIPTION=3]="REQUIRES_ACTIVE_SUBSCRIPTION",e[e.AGENT_UNKNOWN_AUTHORIZATION_ERROR=4]="AGENT_UNKNOWN_AUTHORIZATION_ERROR",e[e.INSUFFICIENT_PERMISSIONS=5]="INSUFFICIENT_PERMISSIONS",e[e.INSUFFICIENT_QUOTA=6]="INSUFFICIENT_QUOTA",e}({}),X=o.ZU.Enum(J),ee=function(e){return e[e.NULL_VALUE=0]="NULL_VALUE",e}({}),et=o.ZU.Enum(ee),en=function(e){return e[e.STRING=0]="STRING",e[e.INTEGER=1]="INTEGER",e}({}),er=o.ZU.Enum(en),ei=function(e){return e[e.COMMIT_BILLING_RATE_UNSPECIFIED=0]="COMMIT_BILLING_RATE_UNSPECIFIED",e[e.ZERO_RATED=1]="ZERO_RATED",e[e.NORMAL=2]="NORMAL",e}({}),ea=o.ZU.Enum(ei),eo=function(e){return e[e.REVERT_DATA_STAGE_UNKNOWN=0]="REVERT_DATA_STAGE_UNKNOWN",e[e.REVERT_DATA_STAGE_LOADING_PREVIOUS_STATE=1]="REVERT_DATA_STAGE_LOADING_PREVIOUS_STATE",e[e.REVERT_DATA_STAGE_SHUTTING_DOWN_WORKFLOWS=2]="REVERT_DATA_STAGE_SHUTTING_DOWN_WORKFLOWS",e[e.REVERT_DATA_STAGE_REVERTING_COMMIT=3]="REVERT_DATA_STAGE_REVERTING_COMMIT",e[e.REVERT_DATA_STAGE_RESTARTING_WORKFLOWS=4]="REVERT_DATA_STAGE_RESTARTING_WORKFLOWS",e[e.REVERT_DATA_STAGE_COMPLETE=5]="REVERT_DATA_STAGE_COMPLETE",e}({}),es=o.ZU.Enum(eo),el=function(e){return e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.PENDING=1]="PENDING",e[e.ACKNOWLEDGED_CONTINUE_CURRENT_STEP=2]="ACKNOWLEDGED_CONTINUE_CURRENT_STEP",e[e.ACKNOWLEDGED_ABORT_CURRENT_STEP=3]="ACKNOWLEDGED_ABORT_CURRENT_STEP",e}({}),ec=o.ZU.Enum(el),eu=o.ZU.Object({sessionId:o.ZU.String(),newReplId:o.ZU.String(),SessionType:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("sessionType"),sessionType:Y})]))}),ed=o.ZU.Object({clonedSessionId:o.ZU.String()}),ep=o.ZU.Object({}),ef=o.ZU.Object({}),ev=o.ZU.Object({}),eg=o.ZU.Object({indexFrom:o.ZU.Integer(),indexTo:o.ZU.Integer(),lineFrom:o.ZU.Integer(),lineTo:o.ZU.Integer()}),em=o.ZU.Object({code:o.ZU.String(),filePath:o.ZU.String(),fileVersion:o.ZU.Integer(),fileContent:o.ZU.String(),range:eg,language:o.ZU.String(),referenceType:T}),eh=o.ZU.Object({identifier:o.ZU.String(),url:o.ZU.String(),mimeType:o.ZU.String()}),eb=o.ZU.Object({type:k,overrideModelName:o.ZU.String()}),ey=o.ZU.Object({url:o.ZU.String(),contents:o.ZU.String(),lineNumber:o.ZU.Integer(),id:o.ZU.String()}),eU=o.ZU.Object({name:o.ZU.String(),replId:o.ZU.String(),description:o.ZU.String(),icon:o.ZU.String(),language:o.ZU.String(),id:o.ZU.String(),ownerUsername:o.ZU.String(),slug:o.ZU.String()}),eE=o.ZU.Object({suggestedTemplates:o.ZU.Array(eU)}),eS=o.ZU.Object({filePath:o.ZU.String(),content:o.ZU.String(),changeSummary:o.ZU.String(),state:Z,messageContentsOffset:o.ZU.Integer(),diff:o.ZU.String()}),eC=o.ZU.Object({changes:o.ZU.Array(eS),commitId:o.ZU.String(),summary:o.ZU.String()}),e_=o.ZU.Object({datasetId:o.ZU.String(),instanceId:o.ZU.String(),runId:o.ZU.String(),replDescription:o.ZU.String()}),eZ=o.ZU.Object({name:o.ZU.String(),description:o.ZU.String(),responseText:o.ZU.String()}),ex=o.ZU.Object({buttons:o.ZU.Array(eZ)}),ew=o.ZU.Object({description:o.ZU.String(),key:o.ZU.String()}),eA=o.ZU.Object({secrets:o.ZU.Array(ew)}),ek=o.ZU.Object({}),eI=o.ZU.Object({optionType:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("messageButtonAction"),messageButtonAction:ex}),o.ZU.Object({$kind:o.ZU.Literal("secretRequestAction"),secretRequestAction:eA}),o.ZU.Object({$kind:o.ZU.Literal("deployRequestAction"),deployRequestAction:ek})]))}),eT=o.ZU.Object({path:o.ZU.String(),mimeType:o.ZU.String()}),eO=o.ZU.Object({url:o.ZU.String(),intent:C}),eR=o.ZU.Object({messageContentsOffset:o.ZU.Integer(),command:o.ZU.String(),workingDirectory:o.ZU.String(),isDangerous:o.ZU.Boolean()}),eD=o.ZU.Object({messageContentsOffset:o.ZU.Integer(),toolName:o.ZU.String(),reason:o.ZU.String(),description:o.ZU.String()}),eN=o.ZU.Object({messageContentsOffset:o.ZU.Integer(),language:o.ZU.String(),packageList:o.ZU.Array(o.ZU.String())}),eP=o.ZU.Object({messageContentsOffset:o.ZU.Integer(),workflowName:o.ZU.String(),setRunButton:o.ZU.Boolean(),oldCommand:o.ZU.String(),newCommand:o.ZU.String()}),eL=o.ZU.Object({messageContentsOffset:o.ZU.Integer(),buildCommand:o.ZU.String(),runCommand:o.ZU.String()}),eM=o.ZU.Object({summary:o.ZU.String(),commitId:o.ZU.String(),shellCommands:o.ZU.Array(eR),fileChanges:o.ZU.Array(eS),workspaceToolNudges:o.ZU.Array(eD),packageInstalls:o.ZU.Array(eN),didCreateCheckpoint:o.ZU.Boolean(),didCountEditRequest:o.ZU.Boolean(),runConfigurations:o.ZU.Array(eP),deploymentConfigurations:o.ZU.Array(eL)}),ej=o.ZU.Object({replitDocumentationQuery:o.ZU.String(),fileSearchQuery:o.ZU.String(),selectedFiles:o.ZU.String(),selectedClasses:o.ZU.String()}),eF=o.ZU.Object({value:o.ZU.String()}),eY=o.ZU.Object({name:o.ZU.String(),url:o.ZU.String(),mimeType:o.ZU.String()}),e$=o.ZU.Object({files:o.ZU.Array(eY)}),eH=o.ZU.Object({path:o.ZU.String(),formType:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("string"),string:eF}),o.ZU.Object({$kind:o.ZU.Literal("files"),files:e$})]))}),eG=o.ZU.Object({formType:E,fields:o.ZU.Array(eH)}),eB=o.ZU.Object({filePath:o.ZU.String(),lineNumber:o.ZU.Integer(),componentName:o.ZU.String()}),eW=o.ZU.Object({content:o.ZU.String(),intent:B,stopReason:H,debugFullPrompt:o.ZU.String(),codeReference:em,debugErrorSource:R,media:o.ZU.Array(eh),usedModelSelector:eb,sources:o.ZU.Array(ey),benchmarkMode:o.ZU.Boolean(),benchmarkParameters:e_,agentAction:eI,uploadedFiles:o.ZU.Array(eT),attachedUrls:o.ZU.Array(eO),commitId:o.ZU.String(),lastSeenWebviewLogTimestamp:o.ZU.Number(),assistantProposedActions:eM,ragContext:ej,attachedForm:eG,enableDeepThinking:o.ZU.Boolean(),targetedElement:eB,extraActions:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("suggestedTemplates"),suggestedTemplates:eE}),o.ZU.Object({$kind:o.ZU.Literal("proposedFileChanges"),proposedFileChanges:eC})]))}),eq=o.ZU.Object({messageType:L,debugErrorSource:R,content:o.ZU.String(),codeReference:em,usedModelSelector:eb,media:o.ZU.Array(eh),sources:o.ZU.Array(ey)}),ez=o.ZU.Object({command:o.ZU.String(),result:o.ZU.String(),eventId:o.ZU.String(),index:o.ZU.Integer(),exitCode:o.ZU.Integer(),channelName:o.ZU.String(),executed:o.ZU.Boolean()}),eV=o.ZU.Object({content:o.ZU.String()}),eK=o.ZU.Object({inputTarget:w,outputTarget:w,content:o.ZU.String()}),eQ=o.ZU.Object({role:o.ZU.String(),content:o.ZU.String()}),eJ=o.ZU.Object({name:o.ZU.String(),required:o.ZU.Boolean(),parameterType:er,description:o.ZU.String(),enums:o.ZU.Array(o.ZU.String())}),eX=o.ZU.Object({historicalPrompt:o.ZU.String(),messages:o.ZU.Array(eQ),parameters:o.ZU.Array(eJ),result:o.ZU.Object({type:o.ZU.String(),fields:o.ZU.Array(o.ZU.Object({key:o.ZU.String(),value:o.ZU.Unknown()}))}),jsonResult:o.ZU.String(),forceJson:o.ZU.Boolean(),promptName:o.ZU.String()}),e0=o.ZU.Object({description:o.ZU.String()}),e1=o.ZU.Object({linesAdded:o.ZU.Integer(),linesRemoved:o.ZU.Integer(),commitId:o.ZU.String()}),e2=o.ZU.Object({category:h,displayName:o.ZU.String(),name:o.ZU.String(),secrets:o.ZU.Array(ew)}),e5=o.ZU.Recursive(function(e){return o.ZU.Object({id:o.ZU.String(),name:o.ZU.String(),status:g,message:o.ZU.String(),timelineEventId:o.ZU.String(),subSteps:o.ZU.Array(e),blueprints:o.ZU.Array(o.ZU.String()),blueprintData:o.ZU.Array(e2),mode:o.ZU.String(),commitId:o.ZU.String(),metadata:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("codeChangeStats"),codeChangeStats:e1})]))})},{$id:"AgentPlanStepSchema"}),e4=o.ZU.Object({type:j,id:o.ZU.String(),username:o.ZU.String(),membership:q,roles:o.ZU.Array(o.ZU.String()),isTeam:o.ZU.Boolean(),orgId:o.ZU.String()}),e3=o.ZU.Object({planId:o.ZU.String(),objective:e0,step:e5,requiresApproval:o.ZU.Boolean(),initialCommitId:o.ZU.String(),Approver:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("approver"),approver:e4})]))}),e7=o.ZU.Object({command:o.ZU.String(),shellId:o.ZU.String(),stdout:o.ZU.String(),stderr:o.ZU.String(),exitCode:o.ZU.Integer(),processId:o.ZU.String(),isExecuting:o.ZU.Boolean(),output:o.ZU.String()}),e6=o.ZU.Object({filePath:o.ZU.String(),diff:o.ZU.String()}),e8=o.ZU.Object({filePath:o.ZU.String(),content:o.ZU.String()}),e9=o.ZU.Object({filePath:o.ZU.String(),content:o.ZU.String(),startLine:o.ZU.Integer(),endLine:o.ZU.Integer()}),te=o.ZU.Object({inputLanguage:o.ZU.String(),inputPackages:o.ZU.Array(o.ZU.String()),output:o.ZU.String(),processId:o.ZU.String(),isExecuting:o.ZU.Boolean()}),tt=o.ZU.Object({queryDescription:o.ZU.String(),filePaths:o.ZU.Array(o.ZU.String()),classNames:o.ZU.Array(o.ZU.String()),functionNames:o.ZU.Array(o.ZU.String()),resultFileNames:o.ZU.Array(o.ZU.String()),resultFileSummaries:o.ZU.Array(o.ZU.String())}),tn=o.ZU.Object({inputLanguage:o.ZU.String(),inputPackages:o.ZU.Array(o.ZU.String())}),tr=o.ZU.Object({port:o.ZU.Integer(),path:o.ZU.String(),imageUrl:o.ZU.String()}),ti=o.ZU.Object({modules:o.ZU.Array(o.ZU.String())}),ta=o.ZU.Object({name:o.ZU.String(),output:o.ZU.String()}),to=o.ZU.Object({name:o.ZU.String()}),ts=o.ZU.Object({name:o.ZU.String()}),tl=o.ZU.Object({name:o.ZU.String(),command:o.ZU.String()}),tc=o.ZU.Object({name:o.ZU.String()}),tu=o.ZU.Object({name:o.ZU.String()}),td=o.ZU.Object({updatedPlanStep:e5}),tp=o.ZU.Object({summarizedObjective:o.ZU.String()}),tf=o.ZU.Object({resultType:o.ZU.String(),shellCommand:o.ZU.String(),websitePort:o.ZU.Integer(),shellCommandWorkflowName:o.ZU.String(),websiteRoute:o.ZU.String()}),tv=o.ZU.Object({filePath:o.ZU.String(),query:o.ZU.String()}),tg=o.ZU.Object({deps:o.ZU.Array(o.ZU.String())}),tm=o.ZU.Object({deps:o.ZU.Array(o.ZU.String())}),th=o.ZU.Object({}),tb=o.ZU.Object({eventIdBeforeRevert:o.ZU.String(),status:es,CheckpointCommit:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("checkpointCommit"),checkpointCommit:o.ZU.String()})]))}),ty=o.ZU.Object({deploymentTarget:o.ZU.String(),run:o.ZU.Array(o.ZU.String()),build:o.ZU.Array(o.ZU.String()),publicDir:o.ZU.String(),ignorePorts:o.ZU.Boolean()}),tU=o.ZU.Object({planStep:e5,starts:o.ZU.Date()}),tE=o.ZU.Object({eventIds:o.ZU.Array(o.ZU.String())}),tS=o.ZU.Object({}),tC=o.ZU.Object({command:o.ZU.String(),output:o.ZU.String(),status:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("isExecuting"),isExecuting:o.ZU.Boolean()}),o.ZU.Object({$kind:o.ZU.Literal("exitCode"),exitCode:o.ZU.Integer()})]))}),t_=o.ZU.Object({}),tZ=o.ZU.Object({commitId:o.ZU.String(),screenshotUrl:o.ZU.String(),description:o.ZU.String(),billingRate:ea}),tx=o.ZU.Object({path:o.ZU.String(),paths:o.ZU.Array(o.ZU.String())}),tw=o.ZU.Object({index:o.ZU.Integer()}),tA=o.ZU.Object({thoughts:o.ZU.String(),redactedThoughtsMarkers:o.ZU.Array(tw)}),tk=o.ZU.Object({toolName:o.ZU.String(),planStepId:o.ZU.String(),message:o.ZU.String(),toolData:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("shellExecutionData"),shellExecutionData:e7}),o.ZU.Object({$kind:o.ZU.Literal("fileEditData"),fileEditData:e6}),o.ZU.Object({$kind:o.ZU.Literal("createFileData"),createFileData:e8}),o.ZU.Object({$kind:o.ZU.Literal("readFileData"),readFileData:e9}),o.ZU.Object({$kind:o.ZU.Literal("packagerInstallData"),packagerInstallData:te}),o.ZU.Object({$kind:o.ZU.Literal("searchFilesystemData"),searchFilesystemData:tt}),o.ZU.Object({$kind:o.ZU.Literal("messageData"),messageData:eW}),o.ZU.Object({$kind:o.ZU.Literal("packagerUninstallData"),packagerUninstallData:tn}),o.ZU.Object({$kind:o.ZU.Literal("screenshotData"),screenshotData:tr}),o.ZU.Object({$kind:o.ZU.Literal("toolchainInstallData"),toolchainInstallData:ti}),o.ZU.Object({$kind:o.ZU.Literal("workflowsGetOutputToolData"),workflowsGetOutputToolData:ta}),o.ZU.Object({$kind:o.ZU.Literal("workflowsRemoveRunConfigToolData"),workflowsRemoveRunConfigToolData:to}),o.ZU.Object({$kind:o.ZU.Literal("workflowsRestartToolData"),workflowsRestartToolData:ts}),o.ZU.Object({$kind:o.ZU.Literal("workflowsSetRunConfigToolData"),workflowsSetRunConfigToolData:tl}),o.ZU.Object({$kind:o.ZU.Literal("workflowsStartToolData"),workflowsStartToolData:tc}),o.ZU.Object({$kind:o.ZU.Literal("workflowsStopToolData"),workflowsStopToolData:tu}),o.ZU.Object({$kind:o.ZU.Literal("planProgressData"),planProgressData:td}),o.ZU.Object({$kind:o.ZU.Literal("summarizeObjectiveData"),summarizeObjectiveData:tp}),o.ZU.Object({$kind:o.ZU.Literal("presentResultsToolData"),presentResultsToolData:tf}),o.ZU.Object({$kind:o.ZU.Literal("searchFileData"),searchFileData:tv}),o.ZU.Object({$kind:o.ZU.Literal("systemDependencyInstallData"),systemDependencyInstallData:tg}),o.ZU.Object({$kind:o.ZU.Literal("systemDependencyUninstallData"),systemDependencyUninstallData:tm}),o.ZU.Object({$kind:o.ZU.Literal("deployData"),deployData:th}),o.ZU.Object({$kind:o.ZU.Literal("revertData"),revertData:tb}),o.ZU.Object({$kind:o.ZU.Literal("deployConfigData"),deployConfigData:ty}),o.ZU.Object({$kind:o.ZU.Literal("agentPlanStepBegin"),agentPlanStepBegin:tU}),o.ZU.Object({$kind:o.ZU.Literal("acknowledgeUserMessage"),acknowledgeUserMessage:tE}),o.ZU.Object({$kind:o.ZU.Literal("createPostgresqlDatabaseData"),createPostgresqlDatabaseData:tS}),o.ZU.Object({$kind:o.ZU.Literal("sqlExecutionData"),sqlExecutionData:tC}),o.ZU.Object({$kind:o.ZU.Literal("newSessionNudge"),newSessionNudge:t_}),o.ZU.Object({$kind:o.ZU.Literal("commitData"),commitData:tZ}),o.ZU.Object({$kind:o.ZU.Literal("readDirData"),readDirData:tx}),o.ZU.Object({$kind:o.ZU.Literal("thoughts"),thoughts:tA})]))}),tI=o.ZU.Object({tags:o.ZU.Array(o.ZU.String()),values:o.ZU.Array(o.ZU.Number())}),tT=o.ZU.Object({name:o.ZU.String(),metrics:o.ZU.Array(tI)}),tO=o.ZU.Object({increment:o.ZU.Array(tT),decrement:o.ZU.Array(tT),gauge:o.ZU.Array(tT),histogram:o.ZU.Array(tT),distribution:o.ZU.Array(tT),timing:o.ZU.Array(tT)}),tR=o.ZU.Object({completionReason:y,steps:o.ZU.Integer(),exception:o.ZU.String(),datasetId:o.ZU.String(),instanceId:o.ZU.String(),runId:o.ZU.String(),metrics:tO}),tD=o.ZU.Object({commitId:o.ZU.String(),message:o.ZU.String(),eventIdBeforeRevert:o.ZU.String()}),tN=o.ZU.Object({exposeLocalhost:o.ZU.Boolean(),localPort:o.ZU.String(),externalPort:o.ZU.String()}),tP=o.ZU.Object({provider:o.ZU.String(),buildCommand:o.ZU.String(),runCommand:o.ZU.String(),logs:o.ZU.Array(o.ZU.String()),envKeys:o.ZU.Array(o.ZU.String()),ports:o.ZU.Array(tN),PublicDir:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("publicDir"),publicDir:o.ZU.String()})])),AppType:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("appType"),appType:o.ZU.String()})])),EntrypointFilePath:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("entrypointFilePath"),entrypointFilePath:o.ZU.String()})]))}),tL=o.ZU.Object({name:o.ZU.String(),type:o.ZU.String(),description:o.ZU.String(),before:o.ZU.String(),after:o.ZU.String(),File:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("file"),file:o.ZU.String()})]))}),tM=o.ZU.Object({errors:o.ZU.Array(o.ZU.String()),suggestions:o.ZU.Array(tL)}),tj=o.ZU.Object({error:tP,result:tM,usedModelSelector:eb}),tF=o.ZU.Object({}),tY=o.ZU.Object({key:o.ZU.String(),status:f}),t$=o.ZU.Object({response:o.ZU.Array(tY)}),tH=o.ZU.Object({errors:o.ZU.Array(o.ZU.String()),generatedReplName:o.ZU.String(),isAgentRecommended:o.ZU.Boolean(),bestTemplate:eU,matchedPlanNames:o.ZU.Array(o.ZU.String()),scaffoldTemplateName:o.ZU.String()}),tG=o.ZU.Object({filePath:o.ZU.String(),linesAdded:o.ZU.Integer(),linesRemoved:o.ZU.Integer(),changeSummary:o.ZU.String()}),tB=o.ZU.Object({eventWhichProposedChanges:o.ZU.String(),appliedChanges:o.ZU.Array(tG),commitHash:o.ZU.String()}),tW=o.ZU.Object({filePath:o.ZU.String(),changeSummary:o.ZU.String()}),tq=o.ZU.Object({eventWhichProposedChanges:o.ZU.String(),eventWhichAppliedChanges:o.ZU.String(),revertedChanges:o.ZU.Array(tW)}),tz=o.ZU.Object({eventWhichProposedPackageInstall:o.ZU.String(),messageContentsOffset:o.ZU.Integer(),processId:o.ZU.String()}),tV=o.ZU.Object({eventWhichProposedPackageInstall:o.ZU.String(),messageContentsOffset:o.ZU.Integer(),installationOutput:o.ZU.String(),processId:o.ZU.String(),exitCode:o.ZU.Integer()}),tK=o.ZU.Object({eventWhichProposedShellExecution:o.ZU.String(),messageContentsOffset:o.ZU.Integer(),processId:o.ZU.String()}),tQ=o.ZU.Object({eventWhichProposedShellExecution:o.ZU.String(),messageContentsOffset:o.ZU.Integer(),processId:o.ZU.String(),commandOutput:o.ZU.String(),exitCode:o.ZU.Integer()}),tJ=o.ZU.Object({eventWhichProposedRunConfiguration:o.ZU.String(),messageContentsOffset:o.ZU.Integer()}),tX=o.ZU.Object({eventWhichProposedDeploymentConfiguration:o.ZU.String(),messageContentsOffset:o.ZU.Integer()}),t0=o.ZU.Object({contents:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("appliedFileChanges"),appliedFileChanges:tB}),o.ZU.Object({$kind:o.ZU.Literal("revertedFileChanges"),revertedFileChanges:tq}),o.ZU.Object({$kind:o.ZU.Literal("installingPackages"),installingPackages:tz}),o.ZU.Object({$kind:o.ZU.Literal("installedPackages"),installedPackages:tV}),o.ZU.Object({$kind:o.ZU.Literal("startedShellExecution"),startedShellExecution:tK}),o.ZU.Object({$kind:o.ZU.Literal("finishedShellExecution"),finishedShellExecution:tQ}),o.ZU.Object({$kind:o.ZU.Literal("appliedRunConfiguration"),appliedRunConfiguration:tJ}),o.ZU.Object({$kind:o.ZU.Literal("appliedDeploymentConfiguration"),appliedDeploymentConfiguration:tX})]))}),t1=o.ZU.Object({stepId:o.ZU.String(),state:ec}),t2=o.ZU.Object({cancelCurrentStep:o.ZU.Boolean()}),t5=o.ZU.Object({enabled:o.ZU.Boolean(),isSelected:o.ZU.Boolean()}),t4=o.ZU.Object({enabled:o.ZU.Boolean(),isSelected:o.ZU.Boolean()}),t3=o.ZU.Object({featureName:o.ZU.String(),id:o.ZU.Integer(),isSelected:o.ZU.Boolean()}),t7=o.ZU.Object({debugRequest:t5,keepWorkingRequest:t4,newFeatureRequests:o.ZU.Array(t3)}),t6=o.ZU.Object({secrets:o.ZU.Array(ew),message:o.ZU.String()}),t8=o.ZU.Object({}),t9=o.ZU.Object({message:o.ZU.String(),request:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("nextStepRequest"),nextStepRequest:t7}),o.ZU.Object({$kind:o.ZU.Literal("userSecretsRequest"),userSecretsRequest:t6}),o.ZU.Object({$kind:o.ZU.Literal("deployRequest"),deployRequest:t8})]))}),ne=o.ZU.Object({accepted:o.ZU.Boolean()}),nt=o.ZU.Object({accepted:o.ZU.Boolean()}),nn=o.ZU.Object({content:o.ZU.String(),uploadedFiles:o.ZU.Array(eT),attachedUrls:o.ZU.Array(eO)}),nr=o.ZU.Object({selectedFeatureId:o.ZU.Integer(),featureName:o.ZU.String(),userMessage:nn}),ni=o.ZU.Object({response:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("debugResponse"),debugResponse:ne}),o.ZU.Object({$kind:o.ZU.Literal("keepWorkingResponse"),keepWorkingResponse:nt}),o.ZU.Object({$kind:o.ZU.Literal("newFeatureResponse"),newFeatureResponse:nr})]))}),na=o.ZU.Object({providedSecrets:o.ZU.Array(tY)}),no=o.ZU.Object({}),ns=o.ZU.Object({requestEventId:o.ZU.String(),response:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("nextStepResponse"),nextStepResponse:ni}),o.ZU.Object({$kind:o.ZU.Literal("userSecretsResponse"),userSecretsResponse:na}),o.ZU.Object({$kind:o.ZU.Literal("deployResponse"),deployResponse:no})]))}),nl=o.ZU.Object({expectedResponseString:o.ZU.String(),streamedResponse:o.ZU.Boolean(),timeBetweenChunks:o.ZU.Number()}),nc=o.ZU.Object({fullness:o.ZU.Number()}),nu=o.ZU.Object({}),nd=o.ZU.Object({fileName:o.ZU.String(),downloadUrl:o.ZU.String()}),np=o.ZU.Object({mvpObjective:o.ZU.String(),stack:o.ZU.String(),followupSteps:o.ZU.Array(o.ZU.String()),uploadedFiles:o.ZU.Array(nd),extraDetails:o.ZU.String(),techStack:o.ZU.String()}),nf=o.ZU.Object({}),nv=o.ZU.Object({benchmarkParameters:e_,contents:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("sessionCreationEventContents"),sessionCreationEventContents:ev}),o.ZU.Object({$kind:o.ZU.Literal("messageEventContents"),messageEventContents:eW}),o.ZU.Object({$kind:o.ZU.Literal("inlineActionEventContents"),inlineActionEventContents:eq}),o.ZU.Object({$kind:o.ZU.Literal("localShellExecutionEventContents"),localShellExecutionEventContents:ez}),o.ZU.Object({$kind:o.ZU.Literal("shellSuggestionEventContents"),shellSuggestionEventContents:eV}),o.ZU.Object({$kind:o.ZU.Literal("translateEventContents"),translateEventContents:eK}),o.ZU.Object({$kind:o.ZU.Literal("byoPromptEventContents"),byoPromptEventContents:eX}),o.ZU.Object({$kind:o.ZU.Literal("agentPlanEventContents"),agentPlanEventContents:e3}),o.ZU.Object({$kind:o.ZU.Literal("agentTimelineEventContents"),agentTimelineEventContents:tk}),o.ZU.Object({$kind:o.ZU.Literal("benchmarkConclusion"),benchmarkConclusion:tR}),o.ZU.Object({$kind:o.ZU.Literal("revertEventContents"),revertEventContents:tD}),o.ZU.Object({$kind:o.ZU.Literal("hostingDebugSummaryEventContents"),hostingDebugSummaryEventContents:tj}),o.ZU.Object({$kind:o.ZU.Literal("approvePlanEventContents"),approvePlanEventContents:tF}),o.ZU.Object({$kind:o.ZU.Literal("userSecretsResponseEventContents"),userSecretsResponseEventContents:t$}),o.ZU.Object({$kind:o.ZU.Literal("replCreationEventContents"),replCreationEventContents:tH}),o.ZU.Object({$kind:o.ZU.Literal("iterativeAgentEventContents"),iterativeAgentEventContents:t0}),o.ZU.Object({$kind:o.ZU.Literal("stepTooComplexEventContents"),stepTooComplexEventContents:t1}),o.ZU.Object({$kind:o.ZU.Literal("stepTooComplexAcknowledgementEventContents"),stepTooComplexAcknowledgementEventContents:t2}),o.ZU.Object({$kind:o.ZU.Literal("agentAskUserForActionRequest"),agentAskUserForActionRequest:t9}),o.ZU.Object({$kind:o.ZU.Literal("agentAskUserForActionResponse"),agentAskUserForActionResponse:ns}),o.ZU.Object({$kind:o.ZU.Literal("integrationTestEventContents"),integrationTestEventContents:nl}),o.ZU.Object({$kind:o.ZU.Literal("contextComplexityEventContents"),contextComplexityEventContents:nc}),o.ZU.Object({$kind:o.ZU.Literal("eventTooLargeEventContents"),eventTooLargeEventContents:nu}),o.ZU.Object({$kind:o.ZU.Literal("startRapidBuildEventContents"),startRapidBuildEventContents:np}),o.ZU.Object({$kind:o.ZU.Literal("databaseNudgeEventContents"),databaseNudgeEventContents:nf})]))}),ng=o.ZU.Object({}),nm=o.ZU.Object({maxSteps:o.ZU.Integer(),enablePlanMode:o.ZU.Optional(o.ZU.Boolean()),enableHumanInLoop:o.ZU.Optional(o.ZU.Boolean())}),nh=o.ZU.Object({mostRecentFile:o.ZU.String(),fileContext:o.ZU.Array(em),modelSelector:eb,intent:B,extraResources:o.ZU.Array(o.ZU.String()),useRag:o.ZU.Boolean(),agentConfig:nm}),nb=o.ZU.Object({mostRecentFile:o.ZU.String(),fileContext:o.ZU.Array(em),modelSelector:eb,extraResources:o.ZU.Array(o.ZU.String()),useRag:o.ZU.Boolean()}),ny=o.ZU.Object({}),nU=o.ZU.Object({modelSelector:eb}),nE=o.ZU.Object({modelSelector:eb}),nS=o.ZU.Object({modelSelector:eb}),nC=o.ZU.Object({}),n_=o.ZU.Object({}),nZ=o.ZU.Object({modelSelector:eb}),nx=o.ZU.Object({modelSelector:eb}),nw=o.ZU.Object({}),nA=o.ZU.Object({}),nk=o.ZU.Object({}),nI=o.ZU.Object({}),nT=o.ZU.Object({metadata:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("sessionCreationEventContext"),sessionCreationEventContext:ng}),o.ZU.Object({$kind:o.ZU.Literal("messageEventContext"),messageEventContext:nh}),o.ZU.Object({$kind:o.ZU.Literal("inlineActionEventContext"),inlineActionEventContext:nb}),o.ZU.Object({$kind:o.ZU.Literal("localShellExecutionEventContext"),localShellExecutionEventContext:ny}),o.ZU.Object({$kind:o.ZU.Literal("shellSuggestionEventContext"),shellSuggestionEventContext:nU}),o.ZU.Object({$kind:o.ZU.Literal("translateEventContext"),translateEventContext:nE}),o.ZU.Object({$kind:o.ZU.Literal("byoPromptEventContext"),byoPromptEventContext:nS}),o.ZU.Object({$kind:o.ZU.Literal("agentPlanEventContext"),agentPlanEventContext:nC}),o.ZU.Object({$kind:o.ZU.Literal("agentTimelineEventContext"),agentTimelineEventContext:n_}),o.ZU.Object({$kind:o.ZU.Literal("hostingDebugSummaryEventContext"),hostingDebugSummaryEventContext:nZ}),o.ZU.Object({$kind:o.ZU.Literal("replCreationEventContext"),replCreationEventContext:nx}),o.ZU.Object({$kind:o.ZU.Literal("userSecretsResponseEventContext"),userSecretsResponseEventContext:nw}),o.ZU.Object({$kind:o.ZU.Literal("revertEventContext"),revertEventContext:nA}),o.ZU.Object({$kind:o.ZU.Literal("iterativeAgentEventContext"),iterativeAgentEventContext:nk}),o.ZU.Object({$kind:o.ZU.Literal("integrationTestEventContext"),integrationTestEventContext:nI})]))}),nO=o.ZU.Object({typeUrl:o.ZU.String(),value:o.ZU.Uint8Array()}),nR=o.ZU.Object({id:o.ZU.String(),operationType:Q,key:o.ZU.String(),value:o.ZU.String(),intValue:o.ZU.Integer(),boolValue:o.ZU.Boolean(),protobufValue:nO,structValue:o.ZU.Object({type:o.ZU.String(),fields:o.ZU.Array(o.ZU.Object({key:o.ZU.String(),value:o.ZU.Unknown()}))})}),nD=o.ZU.Object({content:o.ZU.String()}),nN=o.ZU.Object({content:o.ZU.String()}),nP=o.ZU.Object({sources:o.ZU.Array(ey)}),nL=o.ZU.Object({templates:o.ZU.Array(eU)}),nM=o.ZU.Object({jsonResult:o.ZU.String()}),nj=o.ZU.Object({content:o.ZU.String()}),nF=o.ZU.Object({contents:tk}),nY=o.ZU.Object({contents:tj}),n$=o.ZU.Object({contents:tH}),nH=o.ZU.Object({contents:ez}),nG=o.ZU.Object({content:o.ZU.String()}),nB=o.ZU.Object({change:eS,commitId:o.ZU.String()}),nW=o.ZU.Object({Update:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("update"),update:eS})])),Replacement:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("replacement"),replacement:eS})]))}),nq=o.ZU.Object({summary:o.ZU.String()}),nz=o.ZU.Object({command:eR}),nV=o.ZU.Object({summary:o.ZU.String(),commitId:o.ZU.String(),didCreateCheckpoint:o.ZU.Optional(o.ZU.Boolean()),didCountEditRequest:o.ZU.Boolean()}),nK=o.ZU.Object({request:t9}),nQ=o.ZU.Object({newContext:ej}),nJ=o.ZU.Object({nudge:eD}),nX=o.ZU.Object({content:o.ZU.String()}),n0=o.ZU.Object({packageInstalls:eN}),n1=o.ZU.Object({newStatus:es}),n2=o.ZU.Object({path:o.ZU.String(),value:o.ZU.String()}),n5=o.ZU.Object({path:o.ZU.String(),value:o.ZU.String()}),n4=o.ZU.Object({runConfiguration:eP}),n3=o.ZU.Object({deploymentConfiguration:eL}),n7=o.ZU.Object({content:o.ZU.String()}),n6=o.ZU.Object({content:o.ZU.String()}),n8=o.ZU.Object({marker:tw}),n9=o.ZU.Object({id:o.ZU.String(),operation:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("messageContentsUpdate"),messageContentsUpdate:nD}),o.ZU.Object({$kind:o.ZU.Literal("shellSuggestionContentsUpdate"),shellSuggestionContentsUpdate:nN}),o.ZU.Object({$kind:o.ZU.Literal("addSourcesUpdate"),addSourcesUpdate:nP}),o.ZU.Object({$kind:o.ZU.Literal("addSuggestedTemplatesUpdate"),addSuggestedTemplatesUpdate:nL}),o.ZU.Object({$kind:o.ZU.Literal("byoPromptResultUpdate"),byoPromptResultUpdate:nM}),o.ZU.Object({$kind:o.ZU.Literal("messageContentsSet"),messageContentsSet:nj}),o.ZU.Object({$kind:o.ZU.Literal("agentTimelineEventSet"),agentTimelineEventSet:nF}),o.ZU.Object({$kind:o.ZU.Literal("hostingDebugSummaryEventSet"),hostingDebugSummaryEventSet:nY}),o.ZU.Object({$kind:o.ZU.Literal("replCreationEventSet"),replCreationEventSet:n$}),o.ZU.Object({$kind:o.ZU.Literal("localShellExecutionEventSet"),localShellExecutionEventSet:nH}),o.ZU.Object({$kind:o.ZU.Literal("agentTimelineEventCreateFileAddContent"),agentTimelineEventCreateFileAddContent:nG}),o.ZU.Object({$kind:o.ZU.Literal("addProposedFileChange"),addProposedFileChange:nB}),o.ZU.Object({$kind:o.ZU.Literal("updateProposedFileChange"),updateProposedFileChange:nW}),o.ZU.Object({$kind:o.ZU.Literal("addProposedFileChangesMetadata"),addProposedFileChangesMetadata:nq}),o.ZU.Object({$kind:o.ZU.Literal("addProposedShellCommand"),addProposedShellCommand:nz}),o.ZU.Object({$kind:o.ZU.Literal("addProposedActionsMetadata"),addProposedActionsMetadata:nV}),o.ZU.Object({$kind:o.ZU.Literal("agentAskUserForActionRequestSet"),agentAskUserForActionRequestSet:nK}),o.ZU.Object({$kind:o.ZU.Literal("addRagContext"),addRagContext:nQ}),o.ZU.Object({$kind:o.ZU.Literal("addProposedWorkspaceToolNudge"),addProposedWorkspaceToolNudge:nJ}),o.ZU.Object({$kind:o.ZU.Literal("integrationTestEventContents"),integrationTestEventContents:nX}),o.ZU.Object({$kind:o.ZU.Literal("addProposedPackageInstall"),addProposedPackageInstall:n0}),o.ZU.Object({$kind:o.ZU.Literal("updateRevertStatus"),updateRevertStatus:n1}),o.ZU.Object({$kind:o.ZU.Literal("updateAttachedFormStringFieldSet"),updateAttachedFormStringFieldSet:n2}),o.ZU.Object({$kind:o.ZU.Literal("updateAttachedFormStringFieldAppend"),updateAttachedFormStringFieldAppend:n5}),o.ZU.Object({$kind:o.ZU.Literal("addProposedRunConfiguration"),addProposedRunConfiguration:n4}),o.ZU.Object({$kind:o.ZU.Literal("addProposedDeploymentConfiguration"),addProposedDeploymentConfiguration:n3}),o.ZU.Object({$kind:o.ZU.Literal("appendTimelineMessageContentsUpdate"),appendTimelineMessageContentsUpdate:n7}),o.ZU.Object({$kind:o.ZU.Literal("appendThoughtContentsUpdate"),appendThoughtContentsUpdate:n6}),o.ZU.Object({$kind:o.ZU.Literal("appendRedactedThoughtsMarker"),appendRedactedThoughtsMarker:n8})]))}),re=o.ZU.Object({type:V,message:o.ZU.String()}),rt=o.ZU.Object({id:o.ZU.String(),parentEventId:o.ZU.String(),contents:nv,context:nT,state:N,created:o.ZU.Date(),updated:o.ZU.Date(),sender:e4,sessionId:o.ZU.String(),updateEventOperations:o.ZU.Array(nR),typedUpdateEventOperations:o.ZU.Array(n9),error:re,agentStepId:o.ZU.String()}),rn=o.ZU.Object({type:d,comment:o.ZU.String()}),rr=o.ZU.Object({sessionId:o.ZU.String(),sourceEventId:o.ZU.String(),feedback:rn,sessionType:Y}),ri=o.ZU.Object({}),ra=o.ZU.Object({activeAgentSessionId:o.ZU.String()}),ro=o.ZU.Object({id:o.ZU.String(),title:o.ZU.String(),sessionType:Y,replId:o.ZU.String(),events:o.ZU.Array(rt),sessionCreationEventId:o.ZU.String(),archived:o.ZU.Boolean(),lastEventTime:o.ZU.Date(),created:o.ZU.Date(),updated:o.ZU.Date(),activeEventId:o.ZU.String(),readOnly:o.ZU.Boolean()});o.ZU.Object({}),o.ZU.Object({success:o.ZU.Boolean()});var rs=o.ZU.Object({token:o.ZU.String(),gurl:o.ZU.String()});o.ZU.Object({user:e4,replIds:o.ZU.Array(o.ZU.String()),issuer:o.ZU.String(),overrideGovalToken:rs,forkReplId:o.ZU.String()});var rl=o.ZU.Object({parentEventId:o.ZU.String(),sessionId:o.ZU.String(),state:N,contents:nv,context:nT,eventId:o.ZU.String(),error:re,isActive:o.ZU.Optional(o.ZU.Boolean()),addToChild:o.ZU.Boolean()}),rc=o.ZU.Object({eventId:o.ZU.String(),parentEventId:o.ZU.String()}),ru=o.ZU.Object({request:rl,user:e4}),rd=o.ZU.Object({events:o.ZU.Array(ru)}),rp=o.ZU.Object({eventIds:o.ZU.Array(o.ZU.String())}),rf=o.ZU.Object({eventId:o.ZU.String(),operations:o.ZU.Array(nR),typedOperations:o.ZU.Array(n9),state:N,error:re,requireCompletion:o.ZU.Optional(o.ZU.Boolean())}),rv=o.ZU.Object({}),rg=o.ZU.Object({}),rm=o.ZU.Object({maxSteps:o.ZU.Integer()}),rh=o.ZU.Object({timeWhenReset:o.ZU.String()}),rb=o.ZU.Object({}),ry=o.ZU.Object({}),rU=o.ZU.Object({}),rE=o.ZU.Object({}),rS=o.ZU.Object({}),rC=o.ZU.Object({}),r_=o.ZU.Object({}),rZ=o.ZU.Object({code:X,message:o.ZU.String()}),rx=o.ZU.Object({}),rw=o.ZU.Object({reasons:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("userPaused"),userPaused:rg}),o.ZU.Object({$kind:o.ZU.Literal("stepLimitExceeded"),stepLimitExceeded:rm}),o.ZU.Object({$kind:o.ZU.Literal("rateLimited"),rateLimited:rh}),o.ZU.Object({$kind:o.ZU.Literal("waitingOnUserResponse"),waitingOnUserResponse:rb}),o.ZU.Object({$kind:o.ZU.Literal("waitingOnPlanApproval"),waitingOnPlanApproval:ry}),o.ZU.Object({$kind:o.ZU.Literal("requestedSecrets"),requestedSecrets:rU}),o.ZU.Object({$kind:o.ZU.Literal("testConcluded"),testConcluded:rE}),o.ZU.Object({$kind:o.ZU.Literal("error"),error:rS}),o.ZU.Object({$kind:o.ZU.Literal("planConcluded"),planConcluded:rC}),o.ZU.Object({$kind:o.ZU.Literal("reverted"),reverted:r_}),o.ZU.Object({$kind:o.ZU.Literal("authorizationFailed"),authorizationFailed:rZ}),o.ZU.Object({$kind:o.ZU.Literal("stepTooComplex"),stepTooComplex:rx})]))}),rA=o.ZU.Object({replId:o.ZU.String(),sessionId:o.ZU.String(),runState:c,transitionReason:rw}),rk=o.ZU.Object({replId:o.ZU.String(),sessionId:o.ZU.String()}),rI=o.ZU.Object({runState:c,transitionReason:rw}),rT=o.ZU.Object({runState:c,transitionReason:rw}),rO=o.ZU.Object({replId:o.ZU.String(),sessionId:o.ZU.String(),runState:c,transitionReason:rw}),rR=o.ZU.Object({replId:o.ZU.String(),sessionId:o.ZU.String(),runState:c,transitionReason:rw}),rD=o.ZU.Object({}),rN=o.ZU.Object({eventId:o.ZU.String(),context:nT}),rP=o.ZU.Object({}),rL=o.ZU.Object({mimeType:o.ZU.String()}),rM=o.ZU.Object({uploadUrl:o.ZU.String(),downloadUrl:o.ZU.String(),identifier:o.ZU.String()}),rj=o.ZU.Object({eventId:o.ZU.String()}),rF=o.ZU.Object({eventId:o.ZU.String()}),rY=o.ZU.Object({beforeTimestamp:o.ZU.Date(),limit:o.ZU.Integer(),includeFirstSessionEvents:o.ZU.Boolean(),firstSessionEventsLimit:o.ZU.Integer(),replId:o.ZU.String(),sessionTypes:o.ZU.Array(Y),archived:o.ZU.Optional(o.ZU.Boolean())}),r$=o.ZU.Object({hasMore:o.ZU.Boolean(),sessions:o.ZU.Array(ro),replAgentState:ra}),rH=o.ZU.Object({userPrompt:o.ZU.String(),uploadedFiles:o.ZU.Array(eT),attachedUrls:o.ZU.Array(eO)}),rG=o.ZU.Object({enhancedPrompt:o.ZU.String()}),rB=o.ZU.Object({sessionId:o.ZU.String(),limit:o.ZU.Integer(),excludeContents:o.ZU.Boolean()}),rW=o.ZU.Object({events:o.ZU.Array(rt),session:ro}),rq=o.ZU.Object({sessionId:o.ZU.String(),eventIds:o.ZU.Array(o.ZU.String())}),rz=o.ZU.Object({events:o.ZU.Array(rt)}),rV=o.ZU.Object({replId:o.ZU.String(),sessionType:Y,title:o.ZU.String(),SeededAiFirstEventContents:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("seededAiFirstEventContents"),seededAiFirstEventContents:nv})]))}),rK=o.ZU.Object({sessionId:o.ZU.String(),sessionCreationEventId:o.ZU.String(),seededAiFirstEventId:o.ZU.String()}),rQ=o.ZU.Object({replId:o.ZU.String()}),rJ=o.ZU.Object({}),rX=o.ZU.Object({eventId:o.ZU.String(),parentEventId:o.ZU.String(),sessionId:o.ZU.String(),state:N,contents:nv,sender:e4,error:re,isActive:o.ZU.Optional(o.ZU.Boolean())}),r0=o.ZU.Object({sessionId:o.ZU.String(),title:o.ZU.String(),replId:o.ZU.String(),sessionCreationEventId:o.ZU.String(),sessionType:Y,archived:o.ZU.Optional(o.ZU.Boolean())}),r1=o.ZU.Object({sessionId:o.ZU.String(),eventId:o.ZU.String(),operations:o.ZU.Array(nR),typedOperations:o.ZU.Array(n9),state:N,error:re}),r2=o.ZU.Object({sessionId:o.ZU.String(),title:o.ZU.String(),sessionType:Y,archived:o.ZU.Optional(o.ZU.Boolean()),replId:o.ZU.String(),activeEventId:o.ZU.String(),isActiveAgentSession:o.ZU.Optional(o.ZU.Boolean()),readOnly:o.ZU.Optional(o.ZU.Boolean())}),r5=o.ZU.Object({replId:o.ZU.String(),sessionId:o.ZU.String(),eventId:o.ZU.String()}),r4=o.ZU.Object({sender:e4,seqno:o.ZU.Integer(),message:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("subscriptionStatusMessage"),subscriptionStatusMessage:rJ}),o.ZU.Object({$kind:o.ZU.Literal("createEventMessage"),createEventMessage:rX}),o.ZU.Object({$kind:o.ZU.Literal("createSessionMessage"),createSessionMessage:r0}),o.ZU.Object({$kind:o.ZU.Literal("updateEventMessage"),updateEventMessage:r1}),o.ZU.Object({$kind:o.ZU.Literal("updateSessionMessage"),updateSessionMessage:r2}),o.ZU.Object({$kind:o.ZU.Literal("abortEventMessage"),abortEventMessage:r5}),o.ZU.Object({$kind:o.ZU.Literal("updateAgentStateMessage"),updateAgentStateMessage:rO})]))}),r3=o.ZU.Object({limit:o.ZU.Integer(),usage:o.ZU.Integer(),resetTime:o.ZU.Date()}),r7=o.ZU.Object({basicModelLimits:r3,advancedModelLimits:r3,agentLimits:r3}),r6=o.ZU.Object({user:e4}),r8=o.ZU.Object({limits:r7}),r9=o.ZU.Object({overrideModel:o.ZU.String()}),ie=o.ZU.Object({readable:o.ZU.String(),qualified:o.ZU.String()}),it=o.ZU.Object({basicModel:o.ZU.Array(ie),advancedModel:o.ZU.Array(ie),overrideModel:ie}),ir=o.ZU.Object({id:o.ZU.String(),title:o.ZU.String(),sessionType:Y,archived:o.ZU.Optional(o.ZU.Boolean()),replId:o.ZU.String(),activeEventId:o.ZU.String(),isActiveAgentSession:o.ZU.Optional(o.ZU.Boolean()),readOnly:o.ZU.Optional(o.ZU.Boolean())}),ii=o.ZU.Object({}),ia=o.ZU.Object({replId:o.ZU.String(),contents:nv,context:nT,sessionId:o.ZU.String()}),io=o.ZU.Object({rootId:o.ZU.String()}),is=o.ZU.Object({message:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("startMessage"),startMessage:io}),o.ZU.Object({$kind:o.ZU.Literal("createEventMessage"),createEventMessage:rX}),o.ZU.Object({$kind:o.ZU.Literal("updateEventMessage"),updateEventMessage:r1})]))}),il=o.ZU.Object({replId:o.ZU.String(),prompt:o.ZU.String()}),ic=o.ZU.Object({replName:o.ZU.String()}),iu=o.ZU.Object({replId:o.ZU.String(),prompt:o.ZU.String()}),id=o.ZU.Object({imageUrl:o.ZU.String()}),ip=o.ZU.Object({key:o.ZU.String(),value:o.ZU.Unknown()});o.ZU.Object({fields:o.ZU.Array(ip),type:o.ZU.String()});var iv=o.ZU.Object({values:o.ZU.Array(o.ZU.Unknown())}),ig=o.ZU.Object({kind:o.ZU.Optional(o.ZU.Union([o.ZU.Object({$kind:o.ZU.Literal("nullValue"),nullValue:et}),o.ZU.Object({$kind:o.ZU.Literal("numberValue"),numberValue:o.ZU.Number()}),o.ZU.Object({$kind:o.ZU.Literal("stringValue"),stringValue:o.ZU.String()}),o.ZU.Object({$kind:o.ZU.Literal("boolValue"),boolValue:o.ZU.Boolean()}),o.ZU.Object({$kind:o.ZU.Literal("structValue"),structValue:o.ZU.Object({type:o.ZU.String(),fields:o.ZU.Array(o.ZU.Object({key:o.ZU.String(),value:o.ZU.Unknown()}))})}),o.ZU.Object({$kind:o.ZU.Literal("listValue"),listValue:iv})]))}),im=(s.dx.define({abortEvent:s._z.rpc({input:rj,output:rF,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),createEvent:s._z.rpc({input:rl,output:rc,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),batchCreateEvents:s._z.rpc({input:rd,output:rp,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),createSession:s._z.rpc({input:rV,output:rK,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),enhanceAgentPrompt:s._z.rpc({input:rH,output:rG,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),getReplSessions:s._z.rpc({input:rY,output:r$,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),getSessionEvents:s._z.rpc({input:rB,output:rW,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),batchGetEvents:s._z.rpc({input:rq,output:rz,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),getUsageLimits:s._z.rpc({input:r6,output:r8,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),getAvailableModels:s._z.rpc({input:r9,output:it,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),processEvent:s._z.subscription({input:ia,output:is,handler:function(e,t,n){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),reprocessEvent:s._z.rpc({input:rN,output:rP,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),subscribeToReplEvents:s._z.subscription({input:rQ,output:r4,handler:function(e,t,n){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),updateEvent:s._z.upload({input:rf,output:rv,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),updateSession:s._z.rpc({input:ir,output:ii,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),pingPong:s._z.rpc({input:ep,output:ef,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),getAgentState:s._z.rpc({input:rk,output:rI,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),updateAgentState:s._z.rpc({input:rA,output:rT,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),broadcastAgentState:s._z.rpc({input:rR,output:rD,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),generateReplName:s._z.rpc({input:il,output:ic,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),generateIcon:s._z.rpc({input:iu,output:id,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),submitAgentUserFeedback:s._z.rpc({input:rr,output:ri,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),cloneSession:s._z.rpc({input:eu,output:ed,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}}),getResourceUploadUrl:s._z.rpc({input:rL,output:rM,handler:function(e,t){return(0,i._)(function(){return(0,a.YH)(this,function(e){throw Error("unimplemented")})})()}})}),n(49711)),ih=n(51297),ib=n(72275),iy=n(60762);function iU(e){if(!e.$kind)throw Error("Object has an empty or undefined $kind property");if(!Object.prototype.hasOwnProperty.call(e,e.$kind))throw Error("Object has a $kind property that does not match the object");return e[e.$kind]}function iE(e){var t=iU(e);if((void 0===t?"undefined":(0,iy._)(t))!=="object"||null===t)throw Error("Contents is not an object");if("$kind"in t)throw Error("Contents has an unexpected $kind property");return(0,r._)({$kind:e.$kind},t)}function iS(e,t){return(0,ib._)({$kind:e},e,t)}function iC(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e&&n.includes(e.$kind)}var i_=n(3274);function iZ(e){return(void 0===e?"undefined":(0,iy._)(e))==="object"?e:"string"==typeof e?{type:A.OVERRIDE,overrideModelName:e}:{type:e,overrideModelName:""}}var ix=(0,ih.CN)(im.WT.Create(rt),!0);function iw(e){var t=e.session,n=e.parent,r=e.sender,i=e.contents,a=e.context,o=e.benchmark,s=(0,i_.A)(),l=new Date,c="localShellExecutionEventContents"===i.$kind?D.IN_PROGRESS:D.COMPLETE,u={type:z.EVENT_ERROR_TYPE_UNKNOWN,message:""},d=Object.assign({},ix);return d.id=s,d.parentEventId=n,d.sessionId=t,d.created=l,d.updated=l,d.state=c,d.error=u,d.sender=r,d.contents={benchmarkParameters:null!=o?o:{datasetId:"",instanceId:"",runId:"",replDescription:""},contents:i},d.context={metadata:a||void 0},d}var iA={contents:(0,ih.CN)(im.WT.Create(t9),!0)},ik={contents:(0,ih.CN)(im.WT.Create(ns),!0)},iI={contents:(0,ih.CN)(im.WT.Create(e3),!0),context:(0,ih.CN)(im.WT.Create(nC),!0)},iT={contents:(0,ih.CN)(im.WT.Create(eX),!0),context:(0,ih.CN)(im.WT.Create(nS),!0)},iO={contents:(0,ih.CN)(im.WT.Create(eq),!0),context:(0,ih.CN)(im.WT.Create(nb),!0),reference:(0,ih.CN)(im.WT.Create(em),!0)},iR=n(43952),iD=n(16530),iN={applied:(0,ih.CN)(im.WT.Create(tB),!0),reverted:(0,ih.CN)(im.WT.Create(tq),!0),contents:(0,ih.CN)(im.WT.Create(t0),!0),context:(0,ih.CN)(im.WT.Create(nk),!0)},iP={contents:(0,ih.CN)(im.WT.Create(ez),!0),context:(0,ih.CN)(im.WT.Create(ny),!0)},iL={contents:(0,ih.CN)(im.WT.Create(eW),!0),context:(0,ih.CN)(im.WT.Create(nh),!0),reference:(0,ih.CN)(im.WT.Create(em),!0),proposedFileChanges:(0,ih.CN)(iS("proposedFileChanges",{changes:[],commitId:"",summary:""}),!0)},iM={contents:(0,ih.CN)(im.WT.Create(tD),!0),context:(0,ih.CN)(im.WT.Create(nA),!0)},ij={contents:(0,ih.CN)(im.WT.Create(eV),!0),context:(0,ih.CN)(im.WT.Create(nU),!0)},iF={contents:(0,ih.CN)(im.WT.Create(np),!0)},iY={contents:(0,ih.CN)(im.WT.Create(t1),!0)},i$={contents:(0,ih.CN)(im.WT.Create(eK),!0),context:(0,ih.CN)(im.WT.Create(nE),!0)},iH={create:(0,ih.CN)(im.WT.Create(rl),!0),messageContext:(0,ih.CN)(im.WT.Create(nh),!0),inlineContext:(0,ih.CN)(im.WT.Create(nb),!0)};function iG(e,t){var n=(0,i_.A)(),r=iZ(t.model),i=(0,ih.jM)(e,function(e){if(e.id=n,!e.context.metadata)switch(null===(u=e.contents.contents)||void 0===u?void 0:u.$kind){case"messageEventContents":var i=Object.assign({},iH.messageContext);e.context.metadata=iS("messageEventContext",i);break;case"inlineActionEventContents":var a=Object.assign({},iH.inlineContext);e.context.metadata=iS("inlineActionEventContext",a);break;default:throw Error("Unsupported event contents")}if((null===(o=e.contents.contents)||void 0===o?void 0:o.$kind)==="messageEventContents"&&(null===(s=e.context.metadata)||void 0===s?void 0:s.$kind)==="messageEventContext"){var o,s,l,c,u,d,p,f=e.contents.contents.messageEventContents,v=e.context.metadata.messageEventContext;v.modelSelector=r,"intent"in t&&(f.intent=t.intent,v.intent=t.intent),(null===(d=t.fileContext)||void 0===d?void 0:d.mostRecentFile)&&(v.mostRecentFile=t.fileContext.mostRecentFile),(null===(p=t.fileContext)||void 0===p?void 0:p.fileContext)&&(v.fileContext=t.fileContext.fileContext)}if((null===(l=e.contents.contents)||void 0===l?void 0:l.$kind)==="inlineActionEventContents"&&(null===(c=e.context.metadata)||void 0===c?void 0:c.$kind)==="inlineActionEventContext"){var g,m,h=e.contents.contents.inlineActionEventContents,b=e.context.metadata.inlineActionEventContext;b.modelSelector=r,"type"in t&&(h.messageType=t.type),(null===(g=t.fileContext)||void 0===g?void 0:g.mostRecentFile)&&(b.mostRecentFile=t.fileContext.mostRecentFile),(null===(m=t.fileContext)||void 0===m?void 0:m.fileContext)&&(b.fileContext=t.fileContext.fileContext)}}),a=Object.assign({},iH.create);return a.state=i.state,a.sessionId=i.sessionId,a.parentEventId=i.parentEventId,a.eventId=i.id,a.context=i.context,a.contents=i.contents,{event:i,request:a}}var iB=(0,ih.CN)(im.WT.Create(rl),!0);function iW(e){var t=function(e){var t,n,i,a,o,s,l,c,u,d,p,f,v,g,m,h,b,y,E,S,C,_,Z,x,w,A,k,I,T,O,R,D,N,P,L,j,F,Y=e.session,$=e.parent,H=e.sender,G=e.model,B=e.data,W=e.benchmark;"type"in H||(H={id:H.id.toString(),type:M.USER,isTeam:!1,roles:[],membership:H.membership,orgId:"",username:""});var q=(0,r._)({session:Y,parent:$,sender:H,model:G,benchmark:W},B);switch(q.kind){case"agentPlan":return(t=Object.assign({},iI.contents)).planId=q.planId,t.objective=q.objective,t.step=q.step,t.requiresApproval=q.requiresApproval,t.Approver=q.approved?iS("approver",q.sender):void 0,iw({session:q.session,parent:q.parent,sender:q.sender,contents:iS("agentPlanEventContents",t),context:iS("agentPlanEventContext",iI.context)});case"byoPrompt":return n=Object.assign({},iT.contents),i=Object.assign({},iT.context),a=iZ(q.model),n.messages=q.messages,n.parameters=q.parameters,n.forceJson=!1,i.modelSelector=a,iw({session:q.session,parent:q.parent,sender:q.sender,contents:iS("byoPromptEventContents",n),context:iS("byoPromptEventContext",i)});case"inlineAction":return u=Object.assign({},iO.contents),d=Object.assign({},iO.context),p=iZ(q.model),u.content=q.message,u.messageType=q.messageType,u.codeReference=null!==(o=q.codeReference)&&void 0!==o?o:iO.reference,u.usedModelSelector=p,d.mostRecentFile=null!==(s=q.mostRecentFile)&&void 0!==s?s:"",d.fileContext=null!==(l=q.fileContext)&&void 0!==l?l:[],d.modelSelector=p,d.useRag=null!==(c=q.useRag)&&void 0!==c&&c,iw({session:q.session,parent:q.parent,sender:q.sender,contents:iS("inlineActionEventContents",u),context:iS("inlineActionEventContext",d)});case"iterativeAgent":return function(e){var t=Object.assign({},iN.contents);if("appliedChanges"in e.action){var n=Object.assign({},iN.applied);n.eventWhichProposedChanges=e.action.eventIdWhichProposedChanges,n.appliedChanges=e.action.appliedChanges,n.commitHash=e.action.commitHash,t.contents=iS("appliedFileChanges",n)}else if("revertedChanges"in e.action){var i=Object.assign({},iN.reverted);i.eventWhichProposedChanges=e.action.eventIdWhichProposedChanges,i.eventWhichAppliedChanges=e.action.eventIdWhichAppliedChanges,i.revertedChanges=e.action.revertedChanges,t.contents=iS("revertedFileChanges",i)}else if("eventIdWhichProposedPackageInstall"in e.action){if("installationOutput"in e.action){var a=e.action,o=a.eventIdWhichProposedPackageInstall,s=(0,iD._)(a,["eventIdWhichProposedPackageInstall"]);t.contents=iS("installedPackages",(0,iR._)((0,r._)({},s),{eventWhichProposedPackageInstall:o}))}else{var l=e.action,c=l.eventIdWhichProposedPackageInstall,u=(0,iD._)(l,["eventIdWhichProposedPackageInstall"]);t.contents=iS("installingPackages",(0,iR._)((0,r._)({},u),{eventWhichProposedPackageInstall:c}))}}else if("eventIdWhichProposedShellExecution"in e.action){if("commandOutput"in e.action){var d=e.action,p=d.eventIdWhichProposedShellExecution,f=(0,iD._)(d,["eventIdWhichProposedShellExecution"]);t.contents=iS("finishedShellExecution",(0,iR._)((0,r._)({},f),{eventWhichProposedShellExecution:p}))}else{var v=e.action,g=v.eventIdWhichProposedShellExecution,m=(0,iD._)(v,["eventIdWhichProposedShellExecution"]);t.contents=iS("startedShellExecution",(0,iR._)((0,r._)({},m),{eventWhichProposedShellExecution:g}))}}else if("eventIdWhichProposedRunConfiguration"in e.action){var h=e.action,b=h.eventIdWhichProposedRunConfiguration,y=(0,iD._)(h,["eventIdWhichProposedRunConfiguration"]);t.contents=iS("appliedRunConfiguration",(0,iR._)((0,r._)({},y),{eventWhichProposedRunConfiguration:b}))}else if("eventIdWhichProposedDeploymentConfiguration"in e.action){var U=e.action,E=U.eventIdWhichProposedDeploymentConfiguration,S=(0,iD._)(U,["eventIdWhichProposedDeploymentConfiguration"]);t.contents=iS("appliedDeploymentConfiguration",(0,iR._)((0,r._)({},S),{eventWhichProposedDeploymentConfiguration:E}))}return iw({session:e.session,parent:e.parent,sender:e.sender,contents:iS("iterativeAgentEventContents",t),context:iS("iterativeAgentEventContext",iN.context)})}(q);case"localShellExecution":return(f=Object.assign({},iP.contents)).command=q.command,f.channelName=q.channelName,f.eventId=q.event,f.index=0,f.result="",f.exitCode=0,f.executed=!1,iw({session:q.session,parent:q.parent,sender:q.sender,contents:iS("localShellExecutionEventContents",f),context:iS("localShellExecutionEventContext",iP.context)});case"message":return A=Object.assign({},iL.contents),k=Object.assign({},iL.context),I=iZ(q.model),A.content=q.message,A.intent=q.intent,A.media=null!==(v=q.media)&&void 0!==v?v:[],A.codeReference=null!==(g=q.codeReference)&&void 0!==g?g:iL.reference,A.usedModelSelector=I,A.sources=null!==(m=q.sources)&&void 0!==m?m:[],A.extraActions=null!==(h=q.extraActions)&&void 0!==h?h:iL.proposedFileChanges,A.agentAction=null!==(b=q.agentAction)&&void 0!==b?b:{},A.uploadedFiles=null!==(y=q.uploadedFiles)&&void 0!==y?y:[],A.attachedUrls=null!==(E=q.attachedUrls)&&void 0!==E?E:[],A.attachedForm=null!==(S=q.attachedForm)&&void 0!==S?S:{formType:U.ATTACHED_FORM_TYPE_UNKNOWN,fields:[]},A.enableDeepThinking=null!==(C=q.enableDeepThinking)&&void 0!==C&&C,k.intent=q.intent,k.mostRecentFile=null!==(_=q.mostRecentFile)&&void 0!==_?_:"",k.fileContext=null!==(Z=q.fileContext)&&void 0!==Z?Z:[],k.modelSelector=I,k.useRag=null!==(x=q.useRag)&&void 0!==x&&x,k.extraResources=null!==(w=q.extraResources)&&void 0!==w?w:[],k.agentConfig={maxSteps:0},iw({session:q.session,parent:q.parent,sender:q.sender,contents:iS("messageEventContents",A),context:iS("messageEventContext",k)});case"revert":return(T=Object.assign({},iM.contents)).eventIdBeforeRevert=q.eventIdBeforeRevert,T.commitId=q.commitHash,T.message=q.commitMessage,iw({session:q.session,parent:q.parent,sender:q.sender,contents:iS("revertEventContents",T),context:iS("revertEventContext",iM.context)});case"shellSuggestion":return O=Object.assign({},ij.contents),R=Object.assign({},ij.context),D=iZ(q.model),O.content=q.message,R.modelSelector=D,iw({session:q.session,parent:q.parent,sender:q.sender,contents:iS("shellSuggestionEventContents",O),context:iS("shellSuggestionEventContext",R)});case"translate":return(N=Object.assign({},i$.contents)).content=q.content,N.inputTarget=q.inputTarget,N.outputTarget=q.outputTarget,iw({session:q.session,parent:q.parent,sender:q.sender,contents:iS("translateEventContents",N),context:iS("translateEventContext",i$.context)});case"stepTooComplex":return(P=Object.assign({},iY.contents)).state=q.state,P.stepId=q.stepId,iw({session:q.session,parent:q.parent,sender:q.sender,contents:iS("stepTooComplexEventContents",P),context:null});case"agentAskUserForActionResponse":return(L=Object.assign({},ik.contents)).response=q.response,iw({session:q.session,parent:q.parent,sender:q.sender,contents:iS("agentAskUserForActionResponse",L),context:null});case"agentAskUserForActionRequest":return(j=Object.assign({},iA.contents)).request=q.request,iw({session:q.session,parent:q.parent,sender:q.sender,contents:iS("agentAskUserForActionRequest",j),context:null});case"startRapidBuildEvent":return(F=Object.assign({},iF.contents)).mvpObjective=q.mvpObjective,F.stack=q.stack,F.followupSteps=q.followupSteps,F.uploadedFiles=q.uploadedFiles,F.extraDetails=q.extraDetails,F.techStack=q.techStack,iw({session:q.session,parent:q.parent,sender:q.sender,contents:iS("startRapidBuildEventContents",F),context:null})}}(e),n=Object.assign({},iB);return n.addToChild=e.addToChild,n.state=t.state,n.sessionId=t.sessionId,n.parentEventId=t.parentEventId,n.eventId=t.id,n.context=t.context,n.contents=t.contents,{event:t,request:n}}var iq=(0,ih.CN)(im.WT.Create(r1),!0),iz=n(60409),iV={messageEventContents:{$kind:"messageEventContext",messageEventContext:im.WT.Create(nh)},inlineActionEventContents:{$kind:"inlineActionEventContext",inlineActionEventContext:im.WT.Create(nb)},shellSuggestionEventContents:{$kind:"shellSuggestionEventContext",shellSuggestionEventContext:im.WT.Create(nU)},sessionCreationEventContents:{$kind:"sessionCreationEventContext",sessionCreationEventContext:im.WT.Create(ng)},localShellExecutionEventContents:{$kind:"localShellExecutionEventContext",localShellExecutionEventContext:im.WT.Create(ny)},translateEventContents:{$kind:"translateEventContext",translateEventContext:im.WT.Create(nE)},byoPromptEventContents:{$kind:"byoPromptEventContext",byoPromptEventContext:im.WT.Create(nS)},agentPlanEventContents:{$kind:"agentPlanEventContext",agentPlanEventContext:im.WT.Create(nC)},agentTimelineEventContents:{$kind:"agentTimelineEventContext",agentTimelineEventContext:im.WT.Create(n_)},iterativeAgentEventContents:{$kind:"iterativeAgentEventContext",iterativeAgentEventContext:im.WT.Create(nk)}},iK=!0,iQ=!1,iJ=void 0;try{for(var iX,i0=Object.values(iV)[Symbol.iterator]();!(iK=(iX=i0.next()).done);iK=!0){var i1=iX.value;(0,ih.CN)(i1,!0)}}catch(e){iQ=!0,iJ=e}finally{try{iK||null==i0.return||i0.return()}finally{if(iQ)throw iJ}}var i2=(0,ih.CN)(im.WT.Create(rt),!0);function i5(e){var t,n=Object.assign({},i2);n.id=e.eventId,n.parentEventId=e.parentEventId,n.sessionId=e.sessionId,n.state=e.state,n.error=e.error,n.sender=e.sender,n.contents=e.contents,n.created=new Date;var r=null===(t=e.contents.contents)||void 0===t?void 0:t.$kind;return r&&iV[r]&&(n.context={metadata:iV[r]}),n}var i4=n(27189),i3={messageEventContents:{messageContentsUpdate:function(e,t){e.content+=t.content},messageContentsSet:function(e,t){e.content=t.content},addSourcesUpdate:function(e,t){var n;(n=e.sources).push.apply(n,(0,i4._)(t.sources))},updateProposedFileChange:function(e,t){if(iC(e.extraActions,"proposedFileChanges")){var n=iU(e.extraActions).changes,r=t.Update,i=t.Replacement;if(null!=r){var a=r.update,o=a.filePath,s=a.content,l=a.changeSummary,c=a.messageContentsOffset,u=a.state,d=n.find(function(e){return e.filePath===o});null!=d&&(d.content+=s,d.state=u,d.messageContentsOffset=c,l&&(d.changeSummary=l))}else if(null!=i){var p=i.replacement,f=p.filePath,v=p.content,g=p.changeSummary,m=p.state,h=p.messageContentsOffset,b=n.find(function(e){return e.filePath===f});null!=b&&(b.content=v,b.state=m,b.messageContentsOffset=h,g&&(b.changeSummary=g))}}},addProposedFileChange:function(e,t){iC(e.extraActions,"proposedFileChanges")||(e.extraActions=iS("proposedFileChanges",{changes:[],commitId:"",summary:""})),e.extraActions.proposedFileChanges.commitId=t.commitId,e.extraActions.proposedFileChanges.changes.push(t.change)},addProposedFileChangesMetadata:function(e,t){iC(e.extraActions,"proposedFileChanges")&&(e.extraActions.proposedFileChanges.summary=t.summary)},addProposedShellCommand:function(e,t){e.assistantProposedActions.shellCommands.push(t.command)},addProposedPackageInstall:function(e,t){e.assistantProposedActions.packageInstalls.push(t.packageInstalls)},addProposedWorkspaceToolNudge:function(e,t){e.assistantProposedActions.workspaceToolNudges.push(t.nudge)},addProposedActionsMetadata:function(e,t){t.commitId&&(e.assistantProposedActions.commitId=t.commitId),t.summary&&(e.assistantProposedActions.summary=t.summary),void 0!==t.didCreateCheckpoint&&(e.assistantProposedActions.didCreateCheckpoint=t.didCreateCheckpoint),t.didCountEditRequest&&(e.assistantProposedActions.didCountEditRequest=!0),iC(e.extraActions,"proposedFileChanges")&&(e.extraActions.proposedFileChanges.commitId=t.commitId,e.extraActions.proposedFileChanges.summary=t.summary)},addProposedRunConfiguration:function(e,t){e.assistantProposedActions.runConfigurations.push(t.runConfiguration)},addProposedDeploymentConfiguration:function(e,t){e.assistantProposedActions.deploymentConfigurations.push(t.deploymentConfiguration)},updateAttachedFormStringFieldAppend:function(e,t){i7(e,t,!0)},updateAttachedFormStringFieldSet:function(e,t){i7(e,t,!1)},addRagContext:function(e,t){e.ragContext=t.newContext}},inlineActionEventContents:{messageContentsUpdate:function(e,t){e.content+=t.content},messageContentsSet:function(e,t){e.content=t.content},addSourcesUpdate:function(e,t){var n;(n=e.sources).push.apply(n,(0,i4._)(t.sources))}},localShellExecutionEventContents:{localShellExecutionEventSet:function(e,t){return t.contents}},shellSuggestionEventContents:{shellSuggestionContentsUpdate:function(e,t){e.content+=t.content}},byoPromptEventContents:{byoPromptResultUpdate:function(e,t){e.jsonResult=t.jsonResult}},agentTimelineEventContents:{agentTimelineEventSet:function(e,t){return t.contents},agentTimelineEventCreateFileAddContent:function(e,t){var n;(null===(n=e.toolData)||void 0===n?void 0:n.$kind)==="createFileData"&&(e.toolData.createFileData.content+=t.content)},updateRevertStatus:function(e,t){var n;(null===(n=e.toolData)||void 0===n?void 0:n.$kind)==="revertData"&&(e.toolData.revertData.status=t.newStatus)},appendTimelineMessageContentsUpdate:function(e,t){var n;(null===(n=e.toolData)||void 0===n?void 0:n.$kind)==="messageData"&&(e.toolData.messageData.content+=t.content)},appendThoughtContentsUpdate:function(e,t){var n;(null===(n=e.toolData)||void 0===n?void 0:n.$kind)==="thoughts"&&(e.toolData.thoughts.thoughts+=t.content)},appendRedactedThoughtsMarker:function(e,t){var n;(null===(n=e.toolData)||void 0===n?void 0:n.$kind)==="thoughts"&&e.toolData.thoughts.redactedThoughtsMarkers.push(t.marker)}},hostingDebugSummaryEventContents:{hostingDebugSummaryEventSet:function(e,t){return t.contents}},agentAskUserForActionRequest:{agentAskUserForActionRequestSet:function(e,t){return t.request}},integrationTestEventContents:{integrationTestEventContents:function(e,t){e.expectedResponseString+=t.content}}};function i7(e,t,n){if((null===(r=e.attachedForm)||void 0===r?void 0:r.formType)&&e.attachedForm.formType!==U.ATTACHED_FORM_TYPE_UNKNOWN){var r,i,a=e.attachedForm.fields.find(function(e){return e.path===t.path});a||(a={path:t.path,formType:{$kind:"string",string:{value:""}}},e.attachedForm.fields.push(a)),(null===(i=a.formType)||void 0===i?void 0:i.$kind)==="string"&&(a.formType.string.value=n?a.formType.string.value+t.value:t.value)}}function i6(e,t){var n=new Set,r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l,c,u=o.value;if(!(!u.operation||n.has(u.id))){n.add(u.id);var d=null===(c=i3[e.$kind])||void 0===c?void 0:null===(l=c[u.operation.$kind])||void 0===l?void 0:l.call(c,iU(e),iU(u.operation));d&&(e[e.$kind]=d)}}}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}}function i8(e,t){var n=null;if(t.state!==e.state&&(null!=n||(n=Object.assign({},e)),n.state=t.state),(t.error.type!==e.error.type||t.error.message!==e.error.message)&&(null!=n||(n=Object.assign({},e)),n.error=t.error),!t.typedOperations.length||!e.contents.contents)return null!=n?n:e;var r=(0,ih.mq)(e.contents.contents);i6(r,t.typedOperations);var i=(0,ih.vD)(r);return i!==e.contents.contents&&(null!=n||(n=Object.assign({},e)),n.contents={benchmarkParameters:{datasetId:"",instanceId:"",runId:"",replDescription:""},contents:i}),null!=n?n:e}var i9={session:(0,ih.CN)(im.WT.Create(ro),!0),create:(0,ih.CN)(im.WT.Create(rV),!0),update:(0,ih.CN)(im.WT.Create(ir),!0)};function ae(e){var t,n,r,i,a=null!==(t=e.created)&&void 0!==t?t:new Date;return Object.assign({},i9.session,e,{created:null!==(n=e.created)&&void 0!==n?n:a,updated:null!==(r=e.updated)&&void 0!==r?r:a,lastEventTime:null!==(i=e.lastEventTime)&&void 0!==i?i:a})}function at(e){var t,n=Object.assign({},i9.create);return n.title=null!==(t=e.title)&&void 0!==t?t:"",n.sessionType=e.sessionType,n.replId=e.replId,n.SeededAiFirstEventContents=e.seededEvent?iS("seededAiFirstEventContents",e.seededEvent):void 0,n}function an(e,t,n){return ae({id:e,sessionCreationEventId:t,title:n.title,sessionType:n.sessionType,replId:n.replId})}function ar(e,t){var n=(0,ih.jM)(e,function(e){var n,r,i,a;e.title=null!==(n=t.title)&&void 0!==n?n:e.title,e.sessionType=null!==(r=t.sessionType)&&void 0!==r?r:e.sessionType,e.archived=null!==(i=t.archived)&&void 0!==i?i:e.archived,e.readOnly=null!==(a=t.readOnly)&&void 0!==a?a:e.readOnly}),r=Object.assign({},i9.update);return r.id=n.id,r.title=n.title,r.sessionType=n.sessionType,r.replId=n.replId,r.activeEventId=n.activeEventId,void 0!==t.archived&&n.archived!==e.archived&&(r.archived=n.archived),void 0!==t.readOnly&&n.readOnly!==e.readOnly&&(r.readOnly=n.readOnly),void 0!==t.isActiveAgentSession&&(r.isActiveAgentSession=t.isActiveAgentSession,n===e&&(n=Object.assign({},n))),{session:n,request:r}}function ai(e){var t=Object.assign({},i9.session),n=new Date;return t.id=e.sessionId,t.title=e.title,t.sessionType=e.sessionType,t.replId=e.replId,t.sessionCreationEventId=e.sessionCreationEventId,t.archived=!!e.archived,t.lastEventTime=n,t.created=n,t.updated=n,t}function aa(e,t){return(0,ih.jM)(e,function(e){var n,r;e.title=t.title,e.sessionType=t.sessionType,e.archived=null!==(n=t.archived)&&void 0!==n?n:e.archived,e.activeEventId=t.activeEventId,e.readOnly=null!==(r=t.readOnly)&&void 0!==r?r:e.readOnly})}var ao=n(78542),as=n(75362),al=n(75895),ac=n(62640),au=n(95766),ad=n(15711),ap=n(39487),af=n(66622),av=n(99465);function ag(e,t){var n,r;return(null===(r=e.contents)||void 0===r?void 0:null===(n=r.contents)||void 0===n?void 0:n.$kind)===t}function am(e,t){var n,r,i,a,o,s;return(null===(r=e.contents)||void 0===r?void 0:null===(n=r.contents)||void 0===n?void 0:n.$kind)==="agentTimelineEventContents"&&(null===(s=e.contents)||void 0===s?void 0:null===(o=s.contents)||void 0===o?void 0:null===(a=o.agentTimelineEventContents)||void 0===a?void 0:null===(i=a.toolData)||void 0===i?void 0:i.$kind)===t}function ah(e,t){return am(e,t)?iU(e.contents.contents.agentTimelineEventContents.toolData):null}function ab(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";if(t<32)return[e];var r=Math.floor(t/32),i=Math.ceil(e.length/r);if(r<1)return[e];var a=[];if(n){for(var o=e.split(n),s="",l=0,c=0;c<o.length;c++){var u=o[c],d=c===o.length-1?u:u+n;s+=d,(l+=d.length)>i&&(a.push(s),l=0)}return l>0&&a.push(s),a}for(var p=0;p<e.length;p+=i)a.push(e.slice(0,p+i));return a[a.length-1].length<e.length&&a.push(e),a}var ay={datasetId:"",instanceId:"",replDescription:"",runId:""},aU={type:z.EVENT_ERROR_TYPE_UNKNOWN,message:""};function aE(e,t){return!(t&&ag(e,"messageEventContents")&&ag(t,"sessionCreationEventContents"))&&(am(e,"commitData")||ag(e,"agentAskUserForActionRequest")||ag(e,"messageEventContents")||am(e,"messageData")||am(e,"screenshotData")||am(e,"presentResultsToolData")||am(e,"workflowsRestartToolData")||am(e,"workflowsStartToolData")||am(e,"workflowsStopToolData")||am(e,"deployData")||ag(e,"contextComplexityEventContents")||am(e,"newSessionNudge")||ag(e,"databaseNudgeEventContents"))}var aS=function(){"use strict";function e(t,n,r){(0,ao._)(this,e),this.source=t,this.budget=n,this.gap=r,this.createMessage=null,this.updateMessages=null}var t=e.prototype;return t.create=function(e){if(null!==this.createMessage)throw Error("Cannot create two events");return this.createMessage={eventId:this.source.id,parentEventId:this.source.parentEventId,state:D.EVENT_STATE_UNKNOWN,sessionId:this.source.sessionId,sender:this.source.sender,error:this.source.error,isActive:!0,contents:{benchmarkParameters:ay,contents:e}},this},t.update=function(){for(var e,t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!this.createMessage)throw Error("Cannot update an event before creating it");return null!==(e=this.updateMessages)&&void 0!==e||(this.updateMessages=[]),this.updateMessages.push({sessionId:this.source.sessionId,eventId:this.source.id,state:D.EVENT_STATE_UNKNOWN,error:aU,operations:[],typedOperations:n.map(function(e,t){return{id:String(t),operation:e}})}),this},t.finish=function(){if(!this.createMessage)throw Error("Cannot finish without creating an event");var e=[],t=this.budget,n=t?this.gap:0,r=t?32:0;if(!this.updateMessages)return this.createMessage.state=D.COMPLETE,e.push({sleepBefore:t,sleepAfter:n,completedEventMessage:this.source,eventMessage:{sender:this.source.sender,seqno:0,message:iS("createEventMessage",this.createMessage)}}),e;this.createMessage.state=D.IN_PROGRESS;var i=i5(this.createMessage);e.push({sleepBefore:r,sleepAfter:r,completedEventMessage:i,eventMessage:{sender:this.source.sender,seqno:0,message:iS("createEventMessage",this.createMessage)}});for(var a=0;a<this.updateMessages.length;a++){var o=a===this.updateMessages.length-1,s=this.updateMessages[a];s.state=o?D.COMPLETE:D.IN_PROGRESS,i=i8(i,s),e.push({sleepBefore:0,sleepAfter:o?n:r,completedEventMessage:o?this.source:i,eventMessage:{sender:this.source.sender,seqno:0,message:iS("updateEventMessage",s)}})}return e},e}(),aC=[function(e){var t,n,r,i,a;return!!(e.sender.type===M.USER||!e.contents.contents||ag(e,"agentPlanEventContents")||am(e,"acknowledgeUserMessage")||am(e,"agentPlanStepBegin")||(null===(n=e.contents)||void 0===n?void 0:null===(t=n.contents)||void 0===t?void 0:t.$kind)==="agentTimelineEventContents"&&(null===(a=e.contents)||void 0===a?void 0:null===(i=a.contents)||void 0===i?void 0:null===(r=i.agentTimelineEventContents)||void 0===r?void 0:r.toolName)==="propose_new_mvp_plan"||am(e,"presentResultsToolData")||aE(e))&&0},function(e){return!!aE(e)&&0},function(e){var t=ah(e,"createFileData");return!!t&&0!==t.content.length&&(t.content.length||1)},function(e){var t=ah(e,"fileEditData");return!!t&&0!==t.diff.length&&(t.diff.length||1)},function(e){var t=ah(e,"packagerInstallData");return!!t&&0!==t.output.length&&(t.output.length||1)},function(e){var t=ah(e,"shellExecutionData");return!!t&&0!==t.output.length&&(t.output.length||1)},function(e){var t;switch(null===(t=e.contents.contents)||void 0===t?void 0:t.$kind){case"agentTimelineEventContents":return e.contents.contents.agentTimelineEventContents.message.length||1;case"agentAskUserForActionRequest":return e.contents.contents.agentAskUserForActionRequest.message.length||1}return!1},function(){return 1}],a_=[function(e,t,n){var r=ah(e,"createFileData");if(!r||0===r.content.length)return!1;var i=new aS(e,t,n),a=ab(r.content,t);i.create(iS("agentTimelineEventContents",{message:"",planStepId:"",toolName:"write_to_file",toolData:iS("createFileData",{content:a[0],filePath:r.filePath})}));for(var o=1;o<a.length;o++)i.update(iS("agentTimelineEventCreateFileAddContent",{content:a[o].slice(a[o-1].length)}));return i.finish()},function(e,t,n){var i=ah(e,"packagerInstallData");if(!i||0===i.output.length)return!1;var a=new aS(e,t,n),o=ab(i.output,t,"\n");a.create(iS("agentTimelineEventContents",{message:"",planStepId:"",toolName:"packager_install_tool",toolData:iS("packagerInstallData",(0,iR._)((0,r._)({},i),{isExecuting:!1,processId:"",output:o[0]}))}));for(var s=1;s<o.length;s++)a.update(iS("agentTimelineEventSet",{contents:{message:"",planStepId:"",toolName:"packager_install_tool",toolData:iS("packagerInstallData",(0,iR._)((0,r._)({},i),{isExecuting:!1,processId:"",output:o[s]}))}}));return a.finish()},function(e,t,n){var i=ah(e,"shellExecutionData");if(!i||0===i.output.length)return!1;var a=new aS(e,t,n),o=ab(i.output,t,"\n");a.create(iS("agentTimelineEventContents",{message:"",planStepId:"",toolName:"execute_command",toolData:iS("shellExecutionData",(0,iR._)((0,r._)({},i),{isExecuting:!1,processId:"",output:o[0]}))}));for(var s=1;s<o.length;s++)a.update(iS("agentTimelineEventSet",{contents:{message:"",planStepId:"",toolName:"execute_command",toolData:iS("shellExecutionData",(0,iR._)((0,r._)({},i),{isExecuting:!1,processId:"",output:o[s]}))}}));return a.finish()},function(e,t,n){return new aS(e,t,n).create(e.contents.contents).finish()}];function aZ(e){var t=e.replId,n=e.sessionId,r=e.sender,i=e.runState,a=e.transitionReason;return{sleepBefore:0,sleepAfter:0,completedEventMessage:null,eventMessage:{sender:r,seqno:0,message:iS("updateAgentStateMessage",{replId:t,sessionId:n,runState:i,transitionReason:void 0===a?{}:a})}}}var ax=n(65640),aw=function(e){return e[e.NOT_READY=0]="NOT_READY",e[e.GATHERING_EVENTS=1]="GATHERING_EVENTS",e[e.REPLAYING=2]="REPLAYING",e[e.PASSTHROUGH=3]="PASSTHROUGH",e[e.ERROR=4]="ERROR",e}({});function aA(e){return ak.apply(this,arguments)}function ak(){return(ak=(0,i._)(function(e){return(0,a.YH)(this,function(t){return[2,new Promise(function(t){setTimeout(t,e)})]})})).apply(this,arguments)}var aI=function(e){var t,n,r,o,s,c,u,d,p=e.connection,f=e.minDuration,v=e.maxDuration,g=function(){},m=function(){},h=new Promise(function(e){g=e}),b=new Promise(function(e){m=e}),y=new as.do,U={state:0,eventsGathered:h},E=null,S=(t=(0,i._)(function(e){var t,n,r,o,s,c,u,d,b,S,_,Z,x,w;return(0,a.YH)(this,function(A){switch(A.label){case 0:return U={state:1,replId:e,eventsGathered:h},y.notify(),[4,p.service.getReplSessions.rpc({replId:e,includeFirstSessionEvents:!0,firstSessionEventsLimit:1,limit:1e3,beforeTimestamp:new Date("2099-01-01"),archived:!1,sessionTypes:[F.AGENT_REPLAY_SESSION]})];case 1:if(!(t=A.sent()).ok)return ax.error("subscribeToReplEvents failed gathering sessions",t),U={state:4},y.notify(),g(),m(),[2,p.service.subscribeToReplEvents.subscribe({replId:e})];if(!(E=null!==(n=t.payload.sessions[0])&&void 0!==n?n:null))return U={state:3},y.notify(),g(),m(),[2,p.service.subscribeToReplEvents.subscribe({replId:e})];return r=E.id,[4,p.service.getSessionEvents.rpc({excludeContents:!1,limit:0,sessionId:r})];case 2:if(!(o=A.sent()).ok||(E=o.payload.session,y.notify(),1!==(s=o.payload.events.filter(function(e){return e.id===o.payload.session.sessionCreationEventId})).length))return ax.error("subscribeToReplEvents failed gathering events",o),U={state:4},y.notify(),g(),m(),[2,p.service.subscribeToReplEvents.subscribe({replId:e})];return c=s[0],d=(u=function(e){var t=e.events,n=e.sessionCreationEvent,r=e.minDuration,i=e.maxDuration,a=new Map;a.set(n.id,n);var o=new Map,s=!0,l=!1,c=void 0;try{for(var u,d=t[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var p=u.value,f=o.get(p.parentEventId);void 0===f&&(f=[],o.set(p.parentEventId,f)),f.push(p)}}catch(e){l=!0,c=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}for(var v=[],g=[],m=n,h=!1;;){var b,y=o.get(m.id);if(!(null==y?void 0:y.length))break;y.sort(function(e,t){return e.created.getTime()-t.created.getTime()});var U=y[y.length-1];if(m=U,!h){a.set(U.id,U),h=U.sender.type===M.USER&&(null===(b=ag(U,"agentPlanEventContents")?iU(U.contents.contents):null)||void 0===b?void 0:b.requiresApproval)===!1;continue}v.push(U),g.push(function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=aC[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=(0,i.value)(e);if(!1!==o)return o?o+100:0}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}throw Error("No weighter found")}(U))}if(0===v.length)return{completedEvents:a,timeline:[]};for(var E=function(e,t,n,r,i,a){var o=e.length,s=e.reduce(function(e,t){return e+(t>0?1:0)},0);if(0===o)return{budgets:[],gap:0,total:0};var l=e.map(function(e){return 4*e}),c=l.reduce(function(e,t){return e+t},0),u=1e3*(s-1),d=c+u;if(d>=t&&d<=n)return{budgets:l,gap:1e3,total:d};function p(e){if(0===c&&0===u)return{budgets:l,gap:0};if(0===c)return{budgets:l,gap:e/u*1e3};if(0===u){var t=e/c;return{budgets:l.map(function(e){return e*t}),gap:0}}var n=e/c*.2;return{budgets:l.map(function(e){return e*n}),gap:e/(1.25*u)*i}}if(d<t){var f=p(t),v=f.budgets,g=f.gap,m=v.reduce(function(e,t){return e+t},0);return{budgets:v,gap:g,total:m+g*(s-1)}}if(d>n){var h=p(n),b=h.budgets,y=h.gap,U=b.reduce(function(e,t){return e+t},0);return{budgets:b,gap:y,total:U+y*(s-1)}}return{budgets:l,gap:i,total:d}}(g,r,i,0,1e3,.25),S=E.budgets,C=E.gap,_=[],Z=0;Z<v.length;Z++){var x=v[Z],w=S[Z];_.push.apply(_,(0,i4._)(function(e,t,n){var r=!0,i=!1,a=void 0;try{for(var o,s=a_[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=(0,o.value)(e,t,n);if(!1!==l)return l}}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}throw Error("No transformer found")}(x,w,C)))}return _.length>0&&(_[0].sleepBefore+=2500,_[_.length-1].sleepAfter=0),{completedEvents:a,timeline:_}}({events:o.payload.events,sessionCreationEvent:c,minDuration:f,maxDuration:v})).completedEvents,(b=u.timeline).unshift(aZ({replId:e,sessionId:r,sender:c.sender,runState:l.AGENT_STATE_RUNNING})),b.push(aZ({replId:e,sessionId:r,sender:c.sender,runState:l.AGENT_STATE_PAUSED,transitionReason:{reasons:{$kind:"planConcluded",planConcluded:{}}}})),E.lastEventTime=c.created,E.updated=c.created,S=new Set,U={state:2,replId:e,sessionId:r,replEventListeners:S,completedEvents:d,session:E},y.notify(),g(),_=C(S),[4,p.service.subscribeToReplEvents.subscribe({replId:e})];case 3:return x=(Z=af._.apply(void 0,[A.sent(),2]))[0],w=Z[1],(0,i._)(function(){var e,t,n,r,i,o,s,l,c,u,p,f,v,g,h,C,_,Z,A,k,I,T,O,R,D,N,P,L,M;return(0,a.YH)(this,function(a){switch(a.label){case 0:e=!0,t=!1,n=void 0,a.label=1;case 1:a.trys.push([1,8,9,10]),r=b[Symbol.iterator](),a.label=2;case 2:if(e=(i=r.next()).done)return[3,7];if(!(o=i.value).sleepBefore)return[3,4];return[4,aA(o.sleepBefore)];case 3:a.sent(),a.label=4;case 4:o.completedEventMessage&&(E.lastEventTime=o.completedEventMessage.created,E.updated=o.completedEventMessage.created,d.set(o.completedEventMessage.id,o.completedEventMessage)),s=!0,l=!1,c=void 0;try{for(u=S[Symbol.iterator]();!(s=(p=u.next()).done);s=!0)p.value.push({ok:!0,payload:o.eventMessage})}catch(e){l=!0,c=e}finally{try{s||null==u.return||u.return()}finally{if(l)throw c}}if(!o.sleepAfter)return[3,6];return[4,aA(o.sleepAfter)];case 5:a.sent(),a.label=6;case 6:return e=!0,[3,2];case 7:return[3,10];case 8:return f=a.sent(),t=!0,n=f,[3,10];case 9:try{e||null==r.return||r.return()}finally{if(t)throw n}return[7];case 10:U={state:3},y.notify(),m(),v=!1,g=!1,a.label=11;case 11:a.trys.push([11,16,17,22]),C=(0,al._)(x),a.label=12;case 12:return[4,C.next()];case 13:if(!(v=!(_=a.sent()).done))return[3,15];Z=_.value,A=!0,k=!1,I=void 0;try{for(T=S[Symbol.iterator]();!(A=(O=T.next()).done);A=!0)O.value.push(Z)}catch(e){k=!0,I=e}finally{try{A||null==T.return||T.return()}finally{if(k)throw I}}a.label=14;case 14:return v=!1,[3,12];case 15:return[3,22];case 16:return R=a.sent(),g=!0,h=R,[3,22];case 17:if(a.trys.push([17,,20,21]),!(v&&null!=C.return))return[3,19];return[4,C.return()];case 18:a.sent(),a.label=19;case 19:return[3,21];case 20:if(g)throw h;return[7];case 21:return[7];case 22:D=!0,N=!1,P=void 0;try{for(L=S[Symbol.iterator]();!(D=(M=L.next()).done);D=!0)M.value.end()}catch(e){N=!0,P=e}finally{try{D||null==L.return||L.return()}finally{if(N)throw P}}return w(),[2]}})})(),[2,_]}})}),function(e){return t.apply(this,arguments)}),C=function(e){var t=(0,av.Ny)({objectMode:!0}),n=!1,r=function(){n||(n=!0,t.end())};return e.add(t),[t,function(){r(),e.delete(t)}]};return{service:(u=p.service,d={batchGetEvents:{rpc:(n=(0,i._)(function(e){var t,n,r;return(0,a.YH)(this,function(i){switch(i.label){case 0:if(t=e.sessionId,n=e.eventIds,!(0===U.state||1===U.state))return[3,2];return[4,U.eventsGathered];case 1:i.sent(),i.label=2;case 2:if(2===U.state&&t===U.sessionId)return r=U.completedEvents,[2,{ok:!0,payload:{events:n.map(function(e){var t=r.get(e);if(!t)throw Error("Event not found");return t})}}];return[4,p.service.batchGetEvents.rpc(e)];case 3:return[2,i.sent()]}})}),function(e){return n.apply(this,arguments)})},getSessionEvents:{rpc:(r=(0,i._)(function(e){var t,n,r;return(0,a.YH)(this,function(i){switch(i.label){case 0:if(t=e.sessionId,n=e.limit,r=e.excludeContents,!(0===U.state||1===U.state))return[3,2];return[4,U.eventsGathered];case 1:i.sent(),i.label=2;case 2:if(2===U.state&&t===U.sessionId)return[2,{ok:!0,payload:{events:Array.from(U.completedEvents.values()),session:U.session}}];return[4,p.service.getSessionEvents.rpc({sessionId:t,limit:n,excludeContents:r})];case 3:return[2,i.sent()]}})}),function(e){return r.apply(this,arguments)})},subscribeToReplEvents:{subscribe:(o=(0,i._)(function(e){var t;return(0,a.YH)(this,function(n){switch(n.label){case 0:if(t=e.replId,1!==U.state)return[3,2];return[4,U.eventsGathered];case 1:n.sent(),n.label=2;case 2:if(0!==U.state)return[3,4];return[4,S(t)];case 3:return[2,n.sent()];case 4:if(2===U.state&&U.replId===t)return[2,C(U.replEventListeners)];if(3===U.state||4===U.state)return[2,p.service.subscribeToReplEvents.subscribe(e)];throw Error("Invalid state: ".concat(U.state));case 5:return[2]}})}),function(e){return o.apply(this,arguments)})},getReplSessions:{rpc:(s=(0,i._)(function(e){var t;return(0,a.YH)(this,function(n){switch(n.label){case 0:return[4,p.service.getReplSessions.rpc(e)];case 1:if(!(t=n.sent()).ok)return[2,t];if(!(0===U.state||1===U.state))return[3,3];return[4,U.eventsGathered];case 2:n.sent(),n.label=3;case 3:return 2===U.state&&U.replId===e.replId&&(t.payload.replAgentState.activeAgentSessionId=U.sessionId),[2,t]}})}),function(e){return s.apply(this,arguments)})},getAgentState:{rpc:(c=(0,i._)(function(e){return(0,a.YH)(this,function(t){switch(t.label){case 0:if(!(0===U.state||1===U.state))return[3,2];return[4,U.eventsGathered];case 1:t.sent(),t.label=2;case 2:if(2===U.state&&U.sessionId===e.sessionId)return[2,{ok:!0,payload:{runState:l.AGENT_STATE_RUNNING,transitionReason:{}}}];return[4,p.service.getAgentState.rpc(e)];case 3:return[2,t.sent()]}})}),function(e){return c.apply(this,arguments)})},updateAgentState:{rpc:(0,i._)(function(){var e,t,n,r,i=arguments;return(0,a.YH)(this,function(a){switch(a.label){case 0:for(t=Array(e=i.length),n=0;n<e;n++)t[n]=i[n];return[4,b];case 1:return a.sent(),[2,(r=p.service.updateAgentState).rpc.apply(r,(0,i4._)(t))]}})})},broadcastAgentState:{rpc:(0,i._)(function(){var e,t,n,r,i=arguments;return(0,a.YH)(this,function(a){switch(a.label){case 0:for(t=Array(e=i.length),n=0;n<e;n++)t[n]=i[n];return[4,b];case 1:return a.sent(),[2,(r=p.service.broadcastAgentState).rpc.apply(r,(0,i4._)(t))]}})})}},new Proxy(u,{get:function(e,t,n){if(Object.prototype.hasOwnProperty.call(d,t)){var r=d[t];return"function"==typeof r?r.bind(u):r}return Reflect.get(e,t,n)}})),getState:function(){return U.state},getSession:function(){return E},onStateChange:function(e){return y.add(e)}}},aT=new WeakMap,aO=new WeakMap,aR=new WeakMap,aD=function(){"use strict";function e(t){var n=this;(0,ao._)(this,e),(0,au._)(this,aT,{writable:!0,value:void 0}),(0,au._)(this,aO,{writable:!0,value:void 0}),(0,au._)(this,aR,{writable:!0,value:void 0}),(0,ad._)(this,aT,t.connection),(0,ad._)(this,aO,t.connection.status),(0,ad._)(this,aR,aI(t));var r=new as.N(0);this.replayState=r;var i=new as.N(null);this.replaySession=i,(0,ac._)(this,aR).onStateChange(function(){r.set((0,ac._)(n,aR).getState()),i.set((0,ac._)(n,aR).getSession())})}return e.prototype.close=function(){(0,ac._)(this,aT).close()},(0,ap._)(e,[{key:"status",get:function(){return(0,ac._)(this,aO)}},{key:"service",get:function(){return(0,ac._)(this,aR).service}}]),e}(),aN=function e(t){"use strict";var n=this;(0,ao._)(this,e),this.api=t,this.sessions={query:function(e){return n.api.createSessionsQuery(e)},create:function(e){return n.api.createSession(e)},get:function(e){return n.api.getSessionObservableById(e)},chat:this.api.createSessionsQuery({types:[F.CHAT]}),agent:this.api.currentAgentSession,replay:this.api.replaySession,readonly:{agent:this.api.createSessionsQuery({types:[F.AGENT_SESSION,F.AGENT_REPLAY_SESSION],readonly:!0})},archived:{chat:this.api.createSessionsQuery({types:[F.CHAT],archived:!0})}},this.api.connection instanceof aD?this.replay={state:this.api.connection.replayState,session:this.api.connection.replaySession,playing:this.api.connection.replayState.map(function(e){return null!==e&&e!==aw.PASSTHROUGH&&e!==aw.ERROR})}:this.replay={state:new as.N(null),session:new as.N(null),playing:new as.N(!1)}},aP=n(17642);function aL(e){return{state:e.runState,reason:e.transitionReason.reasons?iE(e.transitionReason.reasons):null}}var aM=n(78910),aj=n(88708),aF=n(54013),aY=function e(t){"use strict";(0,ao._)(this,e),this.ok=!0,this.payload=t},a$=o.ZU.Object({code:o.ZU.String(),message:o.ZU.Optional(o.ZU.String()),extras:o.ZU.Optional(o.ZU.Unknown())}),aH=o.ZU.Object({ok:o.ZU.Literal(!1),payload:a$}),aG=function(e){"use strict";function t(e){(0,ao._)(this,t);var n,r,i={code:"UNCAUGHT_ERROR",message:"An unexpected error occurred"};if(e instanceof as.Rx)i.code="UNEXPECTED_DISCONNECT",i.message="Unexpected disconnect",r=e.stack;else if(e instanceof Error)i.message=e.message,r=e.stack;else if("UNEXPECTED_DISCONNECT"===e)i.code="UNEXPECTED_DISCONNECT",i.message="Unexpected disconnect";else if("UNCAUGHT_ERROR"===e)i.code="UNCAUGHT_ERROR",i.message="An unexpected error occurred";else if("string"==typeof e)i.message=e;else if(e&&(void 0===e?"undefined":(0,iy._)(e))==="object"){var a=null;im.WT.Check(a$,e)?a=e:im.WT.Check(aH,e)&&(a=e.payload),a&&(i.code=a.code,i.message=a.message,i.extras=a.extras)}return(n=(0,aM._)(this,t,[i.message])).ok=!1,n.payload=i,n.input=e,r&&(n.stack=r),n}return(0,aj._)(t,e),t}((0,aF._)(Error));function aB(e){return new aY(e)}function aW(e){return e instanceof aG?e:new aG(e)}function aq(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.length?!e.ok&&n.includes(e.payload.code):!e.ok}function az(e){if("function"==typeof e)try{var t,n=e();if(n instanceof Promise)return n.then(function(e){return aB(e)}).catch(function(e){return aW(e)});return aB(n)}catch(e){return aW(e)}if(e instanceof Promise)return e.then(function(e){return aB(e)}).catch(function(e){return aW(e)});if(Array.isArray(e)){if(0===e.length)throw Error("At least one observable is required");return(t=as.cP).combine.apply(t,(0,i4._)(e)).once().then(function(e){return aB(e)}).catch(function(e){return aW(e)})}return as.cP.from(e).once().then(function(e){return aB(e)}).catch(function(e){return aW(e)})}var aV=function(){"use strict";function e(t,n){var r=this;(0,ao._)(this,e),this.active=new as.V_(function(e){return r.api.currentAgentSession.select(function(e){return!!e&&e.id===r.session.id}).subscribe(e)}),this.branch=new as.V_(function(e){return as.cP.combine(r.session.branches,r.session.type).select(function(e){var t,n=(0,af._)(e,2),r=n[0],i=n[1];return i!==F.AGENT_SESSION&&i!==F.AGENT_REPLAY_SESSION?null:null!==(t=r.values().next().value)&&void 0!==t?t:null}).subscribe(e)}),this.state=new as.V_(function(e){var t,n=r.api.state.create(null,{snapshot:function(e){return e},next:function(t){e.next(t)},update:function(e){if("agent-state-modified"===e.kind)return e.session!==r.session.id?null:e.state}}),o=r.api.connected.lift(e,(t=(0,i._)(function(t){var i,o,s;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,az(r.active)];case 1:if(i=a.sent(),t.aborted||aq(i,"UNEXPECTED_DISCONNECT"))return[2];if(!i.ok)return[2,r.api.error(i,e)];if(!i.payload)return null!==n.confirmed&&(n.confirmed=null),[2];return[4,r.api.service.getAgentState.rpc({replId:r.api.replId,sessionId:r.session.id})];case 2:if(o=a.sent(),t.aborted||aq(o,"UNEXPECTED_DISCONNECT"))return[2];if(!o.ok)return[2,r.api.error(o,e)];return s=aL(o.payload),n.confirmed=s,[2]}})}),function(e){return t.apply(this,arguments)}));return function(){n.unsubscribe(),o.unsubscribe()}}),this.api=t,this.session=n}return e.prototype.update=function(e){var t=this;return(0,i._)(function(){var n,r,i,o,s,l;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,az(t.state)];case 1:if(!(n=a.sent()).ok)return[2,t.api.error(n)];if(!n.payload)return[2,t.api.error("session is not an agent session")];if(r=(0,aP.vt)(n.payload,function(t){t.state=e}),n.payload===r)return[2,aB(n.payload)];return o=(i=(0,af._)(t.api.state.stage({kind:"agent-state-modified",session:t.session.id,state:{state:e,reason:null}}),2))[0],s=i[1],[4,t.api.service.updateAgentState.rpc({replId:t.api.replId,sessionId:t.session.id,runState:e,transitionReason:{}})];case 2:if(!(l=a.sent()).ok)return s(),[2,t.api.error(l)];if(l.payload.runState!==e)return s(),[2,aB(aL(l.payload))];return o(),[2,aB(r)]}})})()},e}(),aK=n(96131),aQ=function(){"use strict";function e(t){if((0,ao._)(this,e),this.forward=new Map,this.reverse=new Map,t){var n=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=(0,af._)(a.value,2),l=s[0],c=s[1];this.set(l,c)}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}}var t=e.prototype;return t.keys=function(){return this.forward.keys()},t.values=function(){return this.reverse.keys()},t.entries=function(){return this.forward.entries()},t.hasKey=function(e){return this.forward.has(e)},t.hasValue=function(e){return this.reverse.has(e)},t.getValue=function(e){var t=this.forward.get(e);if(void 0===t)throw Error("key does not exist");return t},t.getKey=function(e){var t=this.reverse.get(e);if(void 0===t)throw Error("value does not exist");return t},t.set=function(e,t){var n=this.reverse.get(t),r=this.forward.get(e);this.forward.set(e,t),this.reverse.set(t,e),void 0!==n&&n!==e&&this.forward.delete(n),void 0!==r&&r!==t&&this.reverse.delete(r)},t.deleteKey=function(e){var t=this.forward.get(e);void 0!==t&&(this.forward.delete(e),this.reverse.delete(t))},t.deleteValue=function(e){var t=this.reverse.get(e);void 0!==t&&(this.reverse.delete(e),this.forward.delete(t))},t.clear=function(){this.forward.clear(),this.reverse.clear()},t[Symbol.iterator]=function(){return this.forward.entries()},(0,ap._)(e,[{key:"size",get:function(){return this.forward.size}}]),e}(),aJ=function(){"use strict";function e(t){if((0,ao._)(this,e),this.map=new aQ,this.offset=0,this.length=0,t){for(var n=0;n<t.length;n++)this.map.set(n,t[n]);this.length=t.length}}var t=e.prototype;return t.peek=function(e){return -1===e?this.first:this.last},t.has=function(e){return"number"==typeof e?this.map.hasKey(e-this.offset):this.map.hasValue(e)},t.index=function(e){return this.map.getKey(e)-this.offset},t.id=function(e){return this.map.getValue(e+this.offset)},t.dir=function(e,t){var n=this.map.getKey(e),r=this.map.getKey(t);return n<r?1:n>r?-1:0},t.append=function(e){for(var t=0;t<e.length;t++)this.map.set(this.map.size+this.offset,e[t]);this.length=this.map.size},t.prepend=function(e){for(var t=e.length-1;t>=0;t--)this.offset--,this.map.set(0+this.offset,e[t]);this.length=this.map.size},t.pop=function(){if(!this.last)return null;var e=this.last;return this.map.deleteValue(e),this.length=this.map.size,this.offset=this.map.size?this.offset:0,e},t.shift=function(){if(!this.first)return null;var e=this.first;return this.map.deleteValue(e),this.length=this.map.size,this.offset=this.map.size?this.offset+1:0,e},t.parent=function(e){var t=this.map.getKey(e);return t!==0+this.offset?this.map.getValue(t-1):null},t.child=function(e){var t=this.map.getKey(e);return t!==this.map.size-1+this.offset?this.map.getValue(t+1):null},t.adjacent=function(e,t){return -1===t?this.parent(e):this.child(e)},t.slice=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length-1;if(0===this.length)return[];var r=0+this.offset,i=this.map.size-1+this.offset,a="number"==typeof t?Math.min(Math.max(t+this.offset,r),i):this.map.getKey(t),o="number"==typeof n?Math.max(Math.min(n+this.offset,i),r):this.map.getKey(n),s=a>o;s&&(a=(e=[o,a])[0],o=e[1]);for(var l=[],c=a;c<=o;c++)l.push(this.map.getValue(c));return s?l.reverse():l},t.patch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.first,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.last;if(t&&!e.has(t)||n&&!e.has(n))throw Error("invalid merge");if(this.first===t&&this.last===n)return null;if(!t||!n){if(this.map.size){var r=Array.from(this.map.values());return this.clear(),{removed:r,added:[]}}return null}var i={removed:[],added:[]};if(this.first!==t&&this.has(t)){var a=0+this.offset,o=this.map.getKey(t);this.offset=o;for(var s=a;s<o;s++)i.removed.push(this.map.getValue(s)),this.map.deleteKey(s)}if(this.last!==n&&this.has(n))for(var l=this.map.getKey(n)+1,c=this.map.size-1+this.offset,u=l;u<=c;u++)i.removed.push(this.map.getValue(u)),this.map.deleteKey(u);for(;this.first&&this.first!==t&&(!e.has(this.first)||1===e.dir(this.first,t));)i.removed.push(this.first),this.shift();for(;this.last&&this.last!==n&&(!e.has(this.last)||-1===e.dir(this.last,n));)i.removed.push(this.last),this.pop();if(!this.first||!this.last){for(var d=e.map.getKey(t),p=e.map.getKey(n),f=d;f<=p;f++){var v=e.map.getValue(f);i.added.push(v),this.map.set(f-d,v)}return this.offset=0,this.length=this.map.size,i}if(this.last!==n)for(var g=e.map.getKey(this.last)+1,m=e.map.getKey(n),h=g;h<=m;h++){var b=e.map.getValue(h);i.added.push(b),this.map.set(this.map.size+this.offset,b)}if(this.first!==t)for(var y=e.map.getKey(t),U=e.map.getKey(this.first)-1,E=U;E>=y;E--){var S=e.map.getValue(E);i.added.push(S),this.offset--,this.map.set(0+this.offset,S)}return this.length=this.map.size,i},t.clear=function(){this.map.clear(),this.offset=0,this.length=0},t.clone=function(){var t=new e;return t.map=new aQ(this.map),t.offset=this.offset,t.length=this.length,t},(0,ap._)(e,[{key:"first",get:function(){return this.length?this.map.getValue(0+this.offset):null}},{key:"last",get:function(){return this.length?this.map.getValue(this.map.size-1+this.offset):null}}]),e}(),aX=function(){"use strict";function e(t){(0,ao._)(this,e),this.ids=new aJ,this.events=new Map,this.length=0,t&&this.append(t)}var t=e.prototype;return t.peek=function(e){return -1===e?this.first:this.last},t.index=function(e){return this.ids.index(e)},t.id=function(e){return this.ids.id(e)},t.dir=function(e,t){return this.ids.dir(e,t)},t.has=function(e){return this.ids.has(e)},t.get=function(e){e="number"==typeof e?this.id(e):e;var t=this.events.get(e);if(!t)throw Error("event does not exist");return t},t.append=function(e){this.ids.append(e.map(function(e){return e.id})),this.length=this.ids.length;var t=!0,n=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this.events.set(o.id,o)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}},t.prepend=function(e){this.ids.prepend(e.map(function(e){return e.id})),this.length=this.ids.length;var t=!0,n=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;this.events.set(o.id,o)}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}},t.pop=function(){var e,t=this.ids.pop(),n=t&&null!==(e=this.events.get(t))&&void 0!==e?e:null;if(t&&!n)throw Error("Unexpected null for popped event");return t&&n&&(this.events.delete(t),this.length--),n},t.shift=function(){var e,t=this.ids.shift(),n=t&&null!==(e=this.events.get(t))&&void 0!==e?e:null;if(t&&!n)throw Error("Unexpected null for shifted event");return t&&n&&(this.events.delete(t),this.length--),n},t.parent=function(e){var t=this.index(e);return t>0?this.get(t-1):null},t.child=function(e){var t=this.index(e);return t<this.length-1?this.get(t+1):null},t.adjacent=function(e,t){return -1===t?this.parent(e):this.child(e)},t.slice=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.length-1;return this.ids.slice(t,n).map(function(t){return e.get(t)})},t.patch=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.ids.first,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.ids.last,r=this.ids.patch(e.ids,t,n);this.length=this.ids.length;var i=!this.events.size,a=null,o=null;if(r){null!=a||(a={removed:[],added:[],changed:[]});var s=!0,l=!1,c=void 0;try{for(var u,d=r.removed[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var p=u.value;a.removed.push(this.get(p)),this.events.delete(p)}}catch(e){l=!0,c=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}var f=!0,v=!1,g=void 0;try{for(var m,h=r.added[Symbol.iterator]();!(f=(m=h.next()).done);f=!0){var b=m.value,y=e.get(b);a.added.push(y),this.events.set(b,y),i||(null!=o||(o=new Set),o.add(b))}}catch(e){v=!0,g=e}finally{try{f||null==h.return||h.return()}finally{if(v)throw g}}}if(i)return a;for(var U=this.length-1;U>=0;U--){var E=this.ids.id(U);if(null==o||!o.has(E)){var S=e.events.get(E);if(S&&S!==this.events.get(E)){null!=a||(a={removed:[],added:[],changed:[]}),a.changed.push(S),this.events.set(S.id,S);continue}if(S&&S.state===D.COMPLETE)break}}return a},t.adopt=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.first,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.last;if(this.ids.first===n&&this.ids.last===r){if(!(null==t?void 0:t.size)||!this.length)return null;var i=null,a=!0,o=!1,s=void 0;try{for(var l,c=t.values()[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value,d=this.events.get(u.id);d&&d!==u&&(null!=i||(i=[]),i.push(u),this.events.set(u.id,u))}}catch(e){o=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return i?{removed:[],added:[],changed:i,missing:[]}:null}if(!n||!r){if(!this.length)return null;var p=Array.from(this.events.values());return this.clear(),{removed:p,added:[],changed:[],missing:[]}}if(!(null==t?void 0:t.size)&&!this.length)return{removed:[],added:[],changed:[],missing:e.slice(n,r)};for(var f=[],v=[],g=null,m=null,h=e.index(n),b=e.index(r),y=b;y>=h;y--){var U=e.id(y);if(!(null==t?void 0:t.has(U))&&!this.events.has(U)){f.push(U),m&&!g&&(g=e.child(U));continue}if(null!=m||(m=U),g){f.push(U);continue}if((null==t?void 0:t.has(U))&&this.events.has(U)){var E=null==t?void 0:t.get(U);E&&this.events.get(U)!==E&&(v.push(E),this.events.set(U,E))}}if(!m&&!g){if(!this.length&&!f.length)return null;var S=Array.from(this.events.values());return this.clear(),{removed:S,added:[],changed:[],missing:f}}g||(g=n),m||(m=r);var C=this.ids.patch(e,g,m);if(this.length=this.ids.length,!C)return f.length||v.length?{removed:[],added:[],changed:v,missing:f}:null;var _=[],Z=[],x=!0,w=!1,A=void 0;try{for(var k,I=C.removed[Symbol.iterator]();!(x=(k=I.next()).done);x=!0){var T=k.value;_.push(this.get(T)),this.events.delete(T)}}catch(e){w=!0,A=e}finally{try{x||null==I.return||I.return()}finally{if(w)throw A}}var O=!0,R=!1,D=void 0;try{for(var N,P=C.added[Symbol.iterator]();!(O=(N=P.next()).done);O=!0){var L=N.value,M=null==t?void 0:t.get(L);if(!M)throw Error("unexpected null");Z.push(M),this.events.set(L,M)}}catch(e){R=!0,D=e}finally{try{O||null==P.return||P.return()}finally{if(R)throw D}}return{removed:_,added:Z,changed:v,missing:f}},t.clear=function(){this.ids.clear(),this.events.clear(),this.length=0},t.clone=function(){var t=new e;return t.ids=this.ids.clone(),t.events=new Map(this.events),t},(0,ap._)(e,[{key:"first",get:function(){return this.ids.first?this.get(this.ids.first):null}},{key:"last",get:function(){return this.ids.last?this.get(this.ids.last):null}}]),e}(),a0=function(){"use strict";function e(t){var n=t.api,r=t.branch,i=t.direction,a=t.initial,o=t.transducer;if((0,ao._)(this,e),this.api=n,this.branch=r,this.direction=i,this.initial=a,this.transducer=o,!(0,aP.a6)(a))throw Error("state must be draftable")}var t=e.prototype;return t.compute=function(e,t,n){var r=(0,af._)((0,aP.vt)([t,void 0]),2),i=r[0],a=r[1];i[1]=this.transducer(e,i[0]);var o=a();return o[0]!==t&&n&&(0,aK.j)(o[0],n)&&(o[0]=n),o},t.step=function(e,t,n){var r=n.id,i=-this.direction,a=e.peek(i);a&&(a=r===a||n===a?a:e.adjacent(r,i)),a&&(a="string"!=typeof a?a.id:a);var o=r===a?this.initial:a&&t.get(a),s=t.get(r);if(!o)throw Error("starting state not found");var l=(0,af._)(this.compute(n,o,s),2),c=l[0],u=l[1],d=c!==o||!s||c!==s;return d&&t.set(r,c),{ret:u,recomputing:d}},t.indexed=function(e,t){for(var n=this,r=Array(t.length),i=0;i<t.length;i++){var a=t[i],o="string"==typeof a?a:a.id;r[i]=e.index(o)}return r.sort(function(e,t){return(e-t)*n.direction}),r},e}(),a1=function(e){"use strict";function t(e,n,r){var o;return(0,ao._)(this,t),(o=(0,aM._)(this,t,[{api:e,branch:n,direction:"forward"===r.direction?1:-1,initial:r.state,transducer:r.reducer}])).result=new as.V_(function(e){var t,n=new aJ,r=new Set,s=new Map,l=null,c=null,u=null,d=(t=(0,i._)(function(){var t,i,d,p,f,v,g,m,h,b,y,U,E,S,C,_,Z;return(0,a.YH)(this,function(a){switch(a.label){case 0:if(u)return[2];if(!r.size)return[3,7];if(t=(u=new AbortController).signal,i=Array.from(r),d=o.indexed(n,i),p=new Map,!(v=(f=c)?i.filter(function(e){return e===f||n.dir(e,f)===o.direction}):i).length)return[3,2];return[4,o.materialize(p,v)];case 1:a.sent(),a.label=2;case 2:if(t.aborted)return[2];g=d[0],m=1,a.label=3;case 3:if(!(g>=0&&g<n.length)||(h=n.id(g),b=g===d[0],c&&c!==h&&n.dir(h,c)!==o.direction))return[3,6];if(!(!(y=p.get(h))&&!b))return[3,5];return U=n.slice(h,n.index(h)+m*o.direction).filter(function(e){return!p.has(e)}),[4,o.materialize(p,U)];case 4:if(y=a.sent()[0],m=Math.min(2*m,50),t.aborted)return[2];a.label=5;case 5:if(!y)throw Error("unexpected null");if(b&&(d.shift(),r.delete(h)),p.delete(h),S=(E=o.step(n,s,y)).ret,C=E.recomputing,!1===S)return c=y.id,[3,6];if(y.id===c&&(c=null),C||d.length)return g=C?g+o.direction:d[0],[3,3];return[3,6];case 6:u=null,a.label=7;case 7:if(void 0===(_=n.length?(Z=null!=c?c:n.peek(o.direction))?s.get(Z):void 0:o.initial))throw Error("unexpected undefined");return l!==_&&(l=_,e.next(o.resultFn(_))),[2]}})}),function(){return t.apply(this,arguments)}),p=o.api.state.updates.filter(function(e){return"event-modified"===e.kind}).filter(function(e){return n.has(e.event.id)}).lift(e,function(e){r.add(e.event.id),null==u||u.abort(),u=null,d()}),f=o.branch.ids.lift(e,function(e){var t=n.patch(e);if(t){null==u||u.abort(),u=null;var i=!0,a=!1,o=void 0;try{for(var l,c=t.removed[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var p=l.value;s.delete(p),r.delete(p)}}catch(e){a=!0,o=e}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}var f=!0,v=!1,g=void 0;try{for(var m,h=t.added[Symbol.iterator]();!(f=(m=h.next()).done);f=!0){var b=m.value;r.add(b)}}catch(e){v=!0,g=e}finally{try{f||null==h.return||h.return()}finally{if(v)throw g}}d()}});return function(){p.unsubscribe(),f.unsubscribe(),null==u||u.abort()}}),o.subscribe=o.result.subscribe.bind(o.result),o.resultFn=r.result,o}(0,aj._)(t,e);var n=t.prototype;return n.materialize=function(e,t){var n=this;return(0,i._)(function(){var r,i,o,s,l,c,u;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,n.api.materializer.materialize(n.branch.session.id,t)];case 1:r=a.sent(),i=!0,o=!1,s=void 0;try{for(l=r[Symbol.iterator]();!(i=(c=l.next()).done);i=!0)u=c.value,e.set(u.id,u)}catch(e){o=!0,s=e}finally{try{i||null==l.return||l.return()}finally{if(o)throw s}}return[2,r]}})})()},n[Symbol.observable]=function(){return this.result},t}(a0),a2=function(e){"use strict";function t(e,n,r){var i;return(0,ao._)(this,t),(i=(0,aM._)(this,t,[{api:e,branch:n,direction:"forward"===r.direction?1:-1,initial:r.state,transducer:r.reducer}])).result=new as.V_(function(e){var t=new aX,n=null,r=null,a=new Map,o=new Set,s=function(){if(o.size)for(var s=i.indexed(t,Array.from(o)),l=s[0];l>=0&&l<t.length;){var c=t.get(l),u=c.id,d=l===s[0];if(r&&r!==u&&t.dir(u,r)!==i.direction)break;d&&(s.shift(),o.delete(c.id));var p=i.step(t,a,c),f=p.ret,v=p.recomputing;if(!1===f){r=c.id;break}if(u===r&&(r=null),v||s.length){l=v?l+i.direction:s[0];continue}break}if(t.length){var g,m,h=null!=r?r:null===(m=t.peek(i.direction))||void 0===m?void 0:m.id;g=h?a.get(h):void 0}else g=i.initial;if(void 0===g)throw Error("unexpected undefined");n!==g&&(n=g,e.next(i.resultFn(g)))},l=i.window.events.lift(e,function(e){var n=t.patch(e);if(n){var i=!0,l=!1,c=void 0;try{for(var u,d=n.removed[Symbol.iterator]();!(i=(u=d.next()).done);i=!0){var p=u.value;a.delete(p.id),o.delete(p.id),p.id===r&&(r=null)}}catch(e){l=!0,c=e}finally{try{i||null==d.return||d.return()}finally{if(l)throw c}}var f=!0,v=!1,g=void 0;try{for(var m,h=n.added[Symbol.iterator]();!(f=(m=h.next()).done);f=!0){var b=m.value;o.add(b.id)}}catch(e){v=!0,g=e}finally{try{f||null==h.return||h.return()}finally{if(v)throw g}}var y=!0,U=!1,E=void 0;try{for(var S,C=n.changed[Symbol.iterator]();!(y=(S=C.next()).done);y=!0){var _=S.value;o.add(_.id)}}catch(e){U=!0,E=e}finally{try{y||null==C.return||C.return()}finally{if(U)throw E}}s()}});return function(){l.unsubscribe()}}),i.subscribe=i.result.subscribe.bind(i.result),i.window=i.branch.window(r.size),i.resultFn=r.result,i}return(0,aj._)(t,e),t.prototype[Symbol.observable]=function(){return this.result},(0,ap._)(t,[{key:"size",get:function(){return this.window.size}}]),t}(a0),a5=function(){"use strict";function e(t,n,r){var i=this;(0,ao._)(this,e),this.events=new as.V_(function(e){var t=null,n=i.api.state.create({events:new aX,map:new Map},{snapshot:function(e){var t=e.events,n=e.map;return{events:t.clone(),map:new Map(n)}},next:function(n){var r=n.events,a=n.map;if(!(null==t?void 0:t.length)){r.length&&(r.clear(),e.next(r));return}var o=t.length?t.id(Math.max(0,t.length-i.size.current)):null,s=r.adopt(t,a,o);a.clear(),s&&(s.missing.length&&i.api.materializer.enqueue(i.branch.session.id,s.missing),e.next(r))},update:function(e,n){var r=n.events,a=n.map;switch(e.kind){case"events-materialized":var o=!1,s=!0,l=!1,c=void 0;try{for(var u,d=e.events[Symbol.iterator]();!(s=(u=d.next()).done);s=!0){var p=u.value;(r.has(p.id)||(null==t?void 0:t.has(p.id)))&&(a.set(p.id,p),o=!0)}}catch(e){l=!0,c=e}finally{try{s||null==d.return||d.return()}finally{if(l)throw c}}if(!o)return;return{events:r,map:a};case"event-modified":if(e.event.sessionId!==i.branch.session.id)return;if(a.set(e.event.id,e.event),null==t?void 0:t.has(e.event.id))return{events:r,map:a}}}}),r=i.size.subscribe(function(){return n.next()}),a=i.branch.ids.lift(e,function(e){t=e,n.next()});return function(){n.unsubscribe(),r.unsubscribe(),a.unsubscribe()}}),this.subscribe=this.events.subscribe.bind(this.events),this.api=t,this.branch=n,this.size=new as.N(r)}return e.prototype[Symbol.observable]=function(){return this.events},e}(),a4=function(e){"use strict";function t(e,n,r){var i;return(0,ao._)(this,t),(i=(0,aM._)(this,t,[{api:e,branch:n,direction:"forward"===r.direction?1:-1,initial:r.state,transducer:r.transformer}])).state=new as.V_(function(e){var t=new aX,n=new Map,r=new Map;return i.window.events.lift(e,function(a){var o=t.patch(a);if(o){var s=!1,l=!1;if(!t.length){s||(s=!!(n.size||r.size)),l||(l=s),s&&(n.clear(),r.clear(),e.next({events:t,transformed:r,scaled:s}));return}var c=!0,u=!1,d=void 0;try{for(var p,f=o.removed[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var v=p.value;s||(s=r.has(v.id)),l||(l=s),n.delete(v.id),r.delete(v.id)}}catch(e){u=!0,d=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw d}}if(o.added.length||o.changed.length)for(var g=i.indexed(t,o.added.concat(o.changed)),m=g[0];m>=0&&m<t.length;){var h=m===g[0];h&&g.shift();var b=t.get(m),y=r.get(b.id),U=i.step(t,n,b),E=U.ret,S=U.recomputing;if((S||h)&&(void 0!==E?r.set(b.id,E):void 0!==y&&r.delete(b.id)),s||(s=!!y!=!!E),l||(l=S||h||s),S||g.length){m=S?m+i.direction:g[0];continue}break}(s||l)&&e.next({events:t,transformed:r,scaled:s})}})}),i.tuples=new as.V_(function(e){var t=new Map,n=!0;return i.state.lift(e,function(r){if(r.scaled||n){n=!1;for(var a=[],o=0;o<r.events.length;o++){var s=r.events.get(o);if(s&&r.transformed.has(s.id)){var l,c=null!==(l=t.get(s.id))&&void 0!==l?l:i.create(s.id);t.set(s.id,c),a.push([s.id,c])}}e.next(a)}})}),i.flat=new as.V_(function(e){return i.state.lift(e,function(t){for(var n=[],r=0;r<t.events.length;r++){var i=t.events.get(r),a=i&&t.transformed.get(i.id);void 0!==a&&n.push(a)}e.next(n)})}),i.map=i.tuples.map(function(e){return new Map(e)}),i.subscribe=i.tuples.subscribe.bind(i.tuples),i.window=new a5(e,n,r.size),i}(0,aj._)(t,e);var n=t.prototype;return n.create=function(e){var t=this;return new as.V_(function(n){var r=as.NV;return t.state.lift(n,function(t){var i=t.transformed.get(e);if(void 0===i)return n.complete();r!==i&&(r=i,n.next(i))})})},n.chunked=function(e){var t=this;return new as.V_(function(n){var r=null;return as.cP.combine(t.map,t.state).lift(n,function(t){for(var i=(0,af._)(t,2),a=i[0],o=i[1],s=[],l=function(e){if(e<0||e>=o.events.length)return null;var t=o.events.get(e),n=o.transformed.get(t.id);return a.has(t.id)&&n?{event:t,transformed:n}:null},c=[],u=0;u<o.events.length;u++){var d=l(u);if(d)switch(e(d,l(u-1),l(u+1))){case"continue":c.push(d.event.id);break;case"break":c.length&&(s.push(c),c=[]),c.push(d.event.id);break;case"isolate":c.length&&(s.push(c),c=[]),s.push([d.event.id])}}c.length&&s.push(c),(0,aK.j)(s,r)||(r=s,n.next(s.map(function(e){return e.map(function(e){return[e,a.get(e)]})})))})})},n[Symbol.observable]=function(){return this.tuples},(0,ap._)(t,[{key:"size",get:function(){return this.window.size}}]),t}(a0),a3=function(){"use strict";function e(t,n,r){var i=this;(0,ao._)(this,e),this.ids=new as.V_(function(e){var t=new aJ;return i.session.graph.lift(e,function(n){var r=n.getFrontierNode(i.frontier);if(r!==t.last){for(var a=!1;t.last&&!n.has(t.last);)a=!0,t.pop();for(;t.first&&!n.has(t.first);)a=!0,t.shift();if(t.last!==r){a=!0;for(var o=[],s=r;s&&t.last!==s;)o.unshift(s),s=n.parent(s);t.append(o)}if(!t.first||!t.last)throw Error("unexpected empty list");if(null!==n.parent(t.first)){a=!0;for(var l=[],c=n.parent(t.first);c;)l.unshift(c),c=n.parent(c);t.prepend(l)}a&&e.next(t)}})}),this.api=t,this.session=n,this.frontier=r,this.leaf=this.session.graph.select(function(e){return e.getFrontierNode(i.frontier)})}var t=e.prototype;return t.append=function(e,t){var n=this;return(0,i._)(function(){var r,i,o,s,l,c,u,d,p,f,v,g;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,az([n.leaf,n.api.model])];case 1:if(!(r=a.sent()).ok)return[2,n.api.error(r)];return o=(i=(0,af._)(r.payload,2))[0],s=i[1],c=(l=iW({session:n.session.id,sender:n.api.user.current,addToChild:!0,parent:o,model:s.selector,data:e,benchmark:t})).event,u=l.request,p=(d=(0,af._)(n.api.state.stage({kind:"event-modified",type:"created",event:c}),2))[0],f=d[1],[4,n.api.service.createEvent.rpc(u)];case 2:if(!(v=a.sent()).ok)return f(),[2,n.api.error(v)];if(!(v.payload.eventId!==c.id||v.payload.parentEventId!==c.parentEventId))return[3,4];return[4,az(n.api.materializer.materialize(n.session.id,[v.payload.eventId]))];case 3:if(!(g=a.sent()).ok)return[2,n.api.error(g)];return f(),[2,aB(g.payload[0])];case 4:return p(),[2,aB(c)]}})})()},t.window=function(e){return new a5(this.api,this,e)},t.reduce=function(e){return"global"in e?new a1(this.api,this,e):new a2(this.api,this,e)},t.transform=function(e){return new a4(this.api,this,e)},t.update=function(e){var t=this;return(0,i._)(function(){var n,r,i,o,s,l,c,u,d,p,f,v;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,az(t.ids.map(function(t){return t.has(e.id)}))];case 1:if(!(n=a.sent()).ok)return[2,t.api.error(n)];if(!n.payload)return[2,t.api.error("Event does not exist in the branch")];return[4,az(t.api.materializer.materialize(t.session.id,[e.id]))];case 2:var g,m,h;if(!(r=a.sent()).ok)return[2,t.api.error(r)];if(i=(0,af._)(r.payload,1)[0],(h=Object.assign({},iq)).eventId=e.id,h.state=null!==(g=e.state)&&void 0!==g?g:D.COMPLETE,h.typedOperations=null!==(m=e.typedOperations)&&void 0!==m?m:[],(s=i8(i,o=h))===i)return[2,aB(s)];return c=(l=(0,af._)(t.api.state.stage({kind:"event-modified",type:"updated",event:s}),2))[0],u=l[1],[4,t.api.service.updateEvent.upload()];case 3:return p=(d=af._.apply(void 0,[a.sent(),2]))[0],f=d[1],p.push(o),p.end(),[4,f];case 4:if(!(v=a.sent()).ok)return u(),[2,t.api.error(v)];return c(),[2,aB(s)]}})})()},t.abortLast=function(){var e=this;return(0,i._)(function(){var t,n;return(0,a.YH)(this,function(r){switch(r.label){case 0:return[4,az(e.leaf)];case 1:if(!(t=r.sent()).ok)return[2,e.api.error(t)];return[4,e.api.service.abortEvent.rpc({eventId:t.payload})];case 2:if(!(n=r.sent()).ok)return[2,e.api.error(n)];return[2,aB(null)]}})})()},t.reprocess=function(e){var t=this;return(0,i._)(function(){var n,i,o,s,l,c,u,d,p,f,v,g,m;return(0,a.YH)(this,function(a){switch(a.label){case 0:return n=e.id,i=(0,iD._)(e,["id"]),[4,az(t.api.materializer.materialize(t.session.id,[n]))];case 1:if(!(o=a.sent()).ok)return[2,t.api.error(o)];if((s=(0,af._)(o.payload,1)[0]).state!==D.COMPLETE)return[2,t.api.error("Cannot reprocess an event that is not complete")];return[4,az(t.api.model)];case 2:if(!(l=a.sent()).ok)return[2,t.api.error(l)];return c=iG(s,(0,r._)({model:l.payload.selector},i)).request,[4,t.api.service.createEvent.rpc(c)];case 3:if(!(u=a.sent()).ok)return[2,t.api.error(u)];return[4,az([t.session.graph.filter(function(e){return e.has(u.payload.eventId)}),t.session.branches])];case 4:if(!(d=a.sent()).ok)return[2,t.api.error(d)];if(f=(p=(0,af._)(d.payload,2))[0],v=p[1],!(m=(g=f.frontiersFor(u.payload.eventId)).length?v.get(g[0].frontier):null))return[2,t.api.error("Failed to find the frontier for the new event")];return[2,aB({id:u.payload.eventId,branch:m})]}})})()},e}(),a7=0,a6=function(){"use strict";function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if((0,ao._)(this,e),this.nodes=new Set,this.up=new Map,this.down=new Map,this.leafs=new aQ,this.priorities=new Map,this.size=0,t){var n=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,l=s.frontier,c=s.priority,u=s.node;this.leafs.set(l,u),this.priorities.set(l,c)}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}}}var t=e.prototype;return t.ids=function(){return new Set(this.nodes.keys())},t.has=function(e){return this.nodes.has(e)},t.parent=function(e){var t;return null!==(t=this.up.get(e))&&void 0!==t?t:null},t.children=function(e){var t;return null!==(t=this.down.get(e))&&void 0!==t?t:null},t.siblings=function(e){var t=this.parent(e);return t?this.children(t):null},t.hierarchy=function(e){for(var t=[e],n=e;this.up.has(n);)t.unshift(n=this.up.get(n));return t},t.walk=function(e,t){if(!this.nodes.has(e))throw Error("node not in graph");if(!1!==t(e,this.leafs.hasValue(e))){for(var n=this.children(e);(null==n?void 0:n.size)===1;){if(!1===t(e=n.values().next().value,this.leafs.hasValue(e)))return;n=this.children(e)}if(null==n?void 0:n.size){var r=!0,i=!1,a=void 0;try{for(var o,s=n[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var l=o.value;this.walk(l,t)}}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}}}},t.append=function(e){var t=this.nodes.size,n=new Map,r=new Set,i=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;if(!r.has(c.id)&&this.nodes.has(c.id)){var u=this.up.get(c.id);if(u&&u!==c.parent)throw Error("parent mismatch");continue}if(this.nodes.add(c.id),r.add(c.id),this.down.has(c.id)||n.set(c.id,c.priority),c.parent){n.delete(c.parent);var d=this.down.get(c.parent);d||(d=new Set,this.down.set(c.parent,d),this.nodes.add(c.parent),r.add(c.parent)),this.up.set(c.id,c.parent),d.add(c.id)}}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}if(this.nodes.size===t)return!1;if(!n.size)throw Error("unexpected no leafs after append");this.size=this.nodes.size;var p=Array.from(n).sort(function(e,t){return t[1]-e[1]}).map(function(e){return e[0]}),f=new Set,v=!0,g=!1,m=void 0;try{for(var h,b=p[Symbol.iterator]();!(v=(h=b.next()).done);v=!0){var y=h.value,U=y,E=!1,S=n.get(y);if(void 0===S)throw Error("priority not found");for(;U&&!f.has(U);){if(f.add(U),this.leafs.hasValue(U)){var C=this.leafs.getKey(U);this.leafs.set(C,y),this.priorities.set(C,S),E=!0;break}U=this.up.get(U)}if(!E){var _="frontier-".concat(a7++);this.leafs.set(_,y),this.priorities.set(_,S)}}}catch(e){g=!0,m=e}finally{try{v||null==b.return||b.return()}finally{if(g)throw m}}return!0},t.getFrontierNode=function(e){return this.leafs.getValue(e)},t.frontiers=function(){var e=[],t=!0,n=!1,r=void 0;try{for(var i,a=this.leafs[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=(0,af._)(i.value,2),s=o[0],l=o[1];if(this.nodes.has(l)){var c=this.priorities.get(s);if(void 0===c)throw Error("priority not found");e.push({frontier:s,priority:c,node:l})}}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e.sort(function(e,t){return t.priority-e.priority}),e},t.frontiersFor=function(e){var t=this,n=[];return this.walk(e,function(e,r){if(r){var i=t.leafs.getKey(e),a=t.priorities.get(i);if(void 0===a)throw Error("priority not found");n.push({frontier:i,priority:a,node:e})}}),n},t.clone=function(){var t=new e;t.nodes=new Set(this.nodes),t.up=new Map(this.up),t.leafs=new aQ(this.leafs),t.priorities=new Map(this.priorities);var n=!0,r=!1,i=void 0;try{for(var a,o=this.down[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=(0,af._)(a.value,2),l=s[0],c=s[1];t.down.set(l,new Set(c))}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t},e}(),a8=function(){"use strict";function e(){var t=this;(0,ao._)(this,e),this.stockpile=new Map,this.registry=new FinalizationRegistry(function(e){t.stockpile.delete(e)}),this.listeners=new as.do}var t=e.prototype;return t.has=function(e){var t;return this.stockpile.has(e)&&(null===(t=this.stockpile.get(e))||void 0===t?void 0:t.deref())!==void 0},t.get=function(e){var t,n;return null!==(n=null===(t=this.stockpile.get(e))||void 0===t?void 0:t.deref())&&void 0!==n?n:null},t.add=function(e){var t,n=null===(t=this.stockpile.get(e.id))||void 0===t?void 0:t.deref();return n===e?n:(n&&this.registry.unregister(n),this.stockpile.set(e.id,new WeakRef(e)),this.registry.register(e,e.id,e),this.listeners.notify(e),e)},t.delete=function(e){var t=this.stockpile.get(e);if(t){this.stockpile.delete(e);var n=t.deref();n&&this.registry.unregister(n)}},t.store=function(e){var t=this;null!=e||(e=[]),"string"==typeof e&&(e=[e]);var n=new Set,r=new Map,i=!0,o=!1,s=void 0;try{for(var l,c=e[Symbol.iterator]();!(i=(l=c.next()).done);i=!0){var u=l.value;n.add(u),r.set(u,this.get(u))}}catch(e){o=!0,s=e}finally{try{i||null==c.return||c.return()}finally{if(o)throw s}}var d=!1,p=this.listeners.add(function(e){n.has(e.id)&&r.set(e.id,e)});return(0,ib._)({has:function(e){return n.has(e)},get:function(e){var t;return null!==(t=r.get(e))&&void 0!==t?t:null},track:function(e){if(d)throw Error("Store has been released");e=Array.isArray(e)?e:[e];var i=!0,a=!1,o=void 0;try{for(var s,l=e[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;n.add(c),r.set(c,t.get(c))}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}},untrack:function(e){if(d)throw Error("Store has been released");e=Array.isArray(e)?e:[e];var t=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(t=(o=s.next()).done);t=!0){var l=o.value;l="string"==typeof l?l:l.id,n.delete(l),r.delete(l)}}catch(e){i=!0,a=e}finally{try{t||null==s.return||s.return()}finally{if(i)throw a}}},release:function(){d||(d=!0,p(),n.clear(),r.clear())}},Symbol.iterator,function(){var e,t,i,o,s,l,c,u;return(0,a.YH)(this,function(a){switch(a.label){case 0:e=!0,t=!1,i=void 0,a.label=1;case 1:a.trys.push([1,6,7,8]),o=n[Symbol.iterator](),a.label=2;case 2:if(e=(s=o.next()).done)return[3,5];if(l=s.value,!(c=r.get(l)))return[3,4];return[4,c];case 3:a.sent(),a.label=4;case 4:return e=!0,[3,2];case 5:return[3,8];case 6:return u=a.sent(),t=!0,i=u,[3,8];case 7:try{e||null==o.return||o.return()}finally{if(t)throw i}return[7];case 8:return[2]}})})},t.clear=function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.stockpile.keys()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;this.delete(a)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}},(0,ap._)(e,[{key:"empty",get:function(){return 0===this.stockpile.size}}]),e}(),a9={events:new(function(e){"use strict";function t(){return(0,ao._)(this,t),(0,aM._)(this,t,arguments)}(0,aj._)(t,e);var n=t.prototype;return n.invalidate=function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.stockpile.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value.deref();a&&a.state!==D.COMPLETE&&this.delete(a.id)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}},n.create=function(e){return this.add(i5(e))},n.update=function(e){var t=this.get(e.eventId);return t?this.add(i8(t,e)):null},t}(a8)),sessions:new(function(e){"use strict";function t(){return(0,ao._)(this,t),(0,aM._)(this,t,arguments)}(0,aj._)(t,e);var n=t.prototype;return n.invalidate=function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.stockpile.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value.deref();a&&!a.archived&&this.delete(a.id)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}},n.create=function(e){return this.add(ai(e))},n.update=function(e){var t=this.get(e.sessionId);return t?this.add(aa(t,e)):null},t}(a8))},oe=function(){"use strict";function e(t,n,r){var o=this;(0,ao._)(this,e),this.frontiers=null,this.data=new as.V_(function(e){var t,n=o.api.state.create(null,{snapshot:function(e){return e},next:function(t){t&&e.next(t)},update:function(e){if("session-modified"===e.kind&&e.session.id===o.id)return e.session}}),r=o.api.connected.lift(e,(t=(0,i._)(function(t){var r,i;return(0,a.YH)(this,function(a){switch(a.label){case 0:if(r=a9.sessions.get(o.id))return[2,n.confirmed=r];return[4,o.api.service.getSessionEvents.rpc({sessionId:o.id,excludeContents:!0,limit:1})];case 1:if(i=a.sent(),t.aborted||aq(i,"UNEXPECTED_DISCONNECT"))return[2];if(!i.ok)return[2,o.api.error(i,e)];return a9.sessions.add(i.payload.session),n.confirmed=i.payload.session,[2]}})}),function(e){return t.apply(this,arguments)}));return function(){n.unsubscribe(),r.unsubscribe()}}),this.type=this.data.select(function(e){return e.sessionType}),this.graph=new as.V_(function(e){var t,n=!1,r=o.api.state.create(new a6(o.frontiers),{snapshot:function(e){return e.clone()},next:function(t){o.updateFrontierCache(t.frontiers()),e.next(t)},update:function(e,t){if(n&&"event-modified"===e.kind&&"created"===e.type&&e.event.sessionId===o.id&&t.append([{id:e.event.id,parent:e.event.parentEventId,priority:e.event.created.getTime()}]))return t}}),s=o.api.connected.lift(e,(t=(0,i._)(function(t){var i,s,l,c;return(0,a.YH)(this,function(a){switch(a.label){case 0:return i=r.confirmed.ids(),[4,o.api.service.getSessionEvents.rpc({sessionId:o.id,excludeContents:!0,limit:1e5})];case 1:if(s=a.sent(),t.aborted||aq(s,"UNEXPECTED_DISCONNECT"))return[2];if(!s.ok)return[2,o.api.error(s,e)];if(l=s.payload.events.map(function(e){return i.delete(e.id),{id:e.id,parent:e.parentEventId||null,priority:e.created.getTime()}}),i.size>0)return[2,o.api.error("unexpected deleted events",e)];return c=r.confirmed.append(l),n=!0,c&&r.next(),[2]}})}),function(e){return t.apply(this,arguments)}));return function(){r.unsubscribe(),s.unsubscribe()}}),this.branches=this.graph.map(function(e){return o.updateFrontierCache(e.frontiers())}).select(function(e){var t=new Map,n=!0,r=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){var l,c=a.value;null!==(l=c.branch)&&void 0!==l||(c.branch=new a3(o.api,o,c.frontier)),t.set(c.frontier,c.branch)}}catch(e){r=!0,i=e}finally{try{n||null==s.return||s.return()}finally{if(r)throw i}}return t},function(e,t){return e.size===t.size&&(0,aK.j)(Array.from(e.entries()),Array.from(t.entries()))}),this.latest=this.branches.select(function(e){return e.values().next().value}).filter(function(e){return void 0!==e}),this.api=t,this.agent=new aV(t,this),this.id=n,this.created=r}var t=e.prototype;return t.updateFrontierCache=function(e){var t=this.frontiers?new Map(this.frontiers.map(function(e){return[e.frontier,e]})):new Map;this.frontiers=[];var n=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(n=(o=s.next()).done);n=!0){var l=o.value,c=t.get(l.frontier);this.frontiers.push((0,iR._)((0,r._)({},l),{branch:null==c?void 0:c.branch}))}}catch(e){i=!0,a=e}finally{try{n||null==s.return||s.return()}finally{if(i)throw a}}return this.frontiers},t.update=function(e){var t=this;return(0,i._)(function(){var n,r,i,o,s,l,c,u,d;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,az(t.data)];case 1:if(!(n=a.sent()).ok)return[2,t.api.error(n)];if(o=(i=ar(r=n.payload,e)).session,s=i.request,r===o)return[2,aB(r)];return c=(l=(0,af._)(t.api.state.stage({kind:"session-modified",type:"updated",session:o}),2))[0],u=l[1],[4,t.api.service.updateSession.rpc(s)];case 2:if(!(d=a.sent()).ok)return u(),[2,t.api.error(d)];return c(),[2,aB(o)]}})})()},e.create=function(t,n,r){var i=this.sessions.get(t);i||(i=new Map,this.sessions.set(t,i));var a=i.get(n),o=null==a?void 0:a.deref();return a&&o||(a=new WeakRef(o=new e(t,n,r)),i.set(n,a)),o},e}();function ot(e){if(!e)return null;var t=null,n=!0,r=!1,i=void 0;try{for(var a,o=e.values()[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;(!t||s.created>t.created)&&(t=s)}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return t}oe.sessions=new WeakMap;var on={messageCharacters:2e3,responseTokens:1e3,fileContextCharacters:8e3,maxTotalTokens:4050},or=new Map([{models:["gpt-4","gpt-4-0613"],limits:{messageCharacters:2e3,responseTokens:1e3,fileContextCharacters:1e4,maxTotalTokens:8e3}},{models:["gpt-4-32k","gpt-4-32k-0613","gpt-4-0125-preview","gpt-4-turbo-preview","gpt-4-turbo","gpt-4-turbo-2024-04-09","gpt-4o","gpt-4o-2024-05-13","claude-3-5-sonnet@20240620","claude-3-5-sonnet-v2@20241022","claude-3-5-sonnet-20240620","claude-3-5-sonnet-20241022","claude-3-5-haiku@20241022","claude-3-5-haiku-20241022","gemini-1.5-pro-001"],limits:{messageCharacters:12e3,responseTokens:4e3,fileContextCharacters:6e4,maxTotalTokens:32e3}},{models:["gpt-3.5-turbo-16k-0613","gpt-3.5-turbo-0125","gpt-4o-mini","gemini-1.5-flash","gemini-1.5-flash-preview-0514","gemini-1.5-flash-002","gemini-2.0-flash-exp"],limits:{messageCharacters:5e3,responseTokens:4e3,fileContextCharacters:3e4,maxTotalTokens:16e3}}].flatMap(function(e){var t=e.models,n=e.limits;return t.map(function(e){return[e,n]})})),oi=function e(t){"use strict";var n,r,i=t.type,a=t.readable,o=t.qualified;switch((0,ao._)(this,e),this.type=i,this.name={readable:a,qualified:o},this.limits=null!==(n=or.get(o))&&void 0!==n?n:on,null!=r||(r=i===A.OVERRIDE?"Custom":void 0),null!=r||(r=o.startsWith("gpt")?"OpenAI":void 0),null!=r||(r=o.startsWith("claude")?"Anthropic":void 0),null!=r||(r=o.startsWith("gemini")?"Google":void 0),null!=r||(r="Unknown"),this.provider=r,this.type){case A.BASIC:this.selector={type:A.BASIC,overrideModelName:""};break;case A.ADVANCED:this.selector={type:A.ADVANCED,overrideModelName:""};break;case A.OVERRIDE:this.selector={type:A.OVERRIDE,overrideModelName:this.name.qualified};break;default:throw Error("Unknown model type is not supported")}},oa=new oi({type:A.BASIC,readable:"gpt-3.5",qualified:"gpt-3.5-turbo-0125"}),oo=new oi({type:A.ADVANCED,readable:"gpt-4",qualified:"gpt-4-0125-preview"}),os=function(){"use strict";function e(t){var n=this,o=t.connection,s=t.user,l=t.hasAdvancedModel,c=t.preferredModel,u=t.onError;(0,ao._)(this,e),this.disposed=!1,this.teardowns=new as.do,this.connected=new as.V_(function(e){var t=null,r=n.teardowns.add(function(){null==t||t.abort(),t=null,e.complete()}),i=n.status.subscribe(function(n){"connected"!==n?(null==t||t.abort(),t=null,"closed"===n?e.complete():"error"===n&&e.error(Error("Connection error"))):(t=new AbortController,e.next(t.signal))});return function(){null==t||t.abort(),t=null,r(),i.unsubscribe()}}),this.closed=new as.V_(function(e){var t=n.teardowns.add(function(){e.next(),e.complete()}),r=n.status.subscribe(function(t){("closed"===t||"error"===t)&&(e.next(),e.complete())});return function(){t(),r.unsubscribe()}}),this.models=new as.V_(function(e){var t,o=0;return as.cP.combine(n.connected,n.preferredModel).filter(function(e){return!(0,af._)(e,1)[0].aborted}).lift(e,(t=(0,i._)(function(t){var i,s,l,c,u,d,p,f,v,g;return(0,a.YH)(this,function(a){switch(a.label){case 0:return s=(i=(0,af._)(t,2))[0],l=i[1],c=++o,u="","string"==typeof l&&(u=l),[4,n.service.getAvailableModels.rpc({overrideModel:u})];case 1:if(d=a.sent(),o!==c||s.aborted||aq(d,"UNEXPECTED_DISCONNECT"))return[2];if(!d.ok)return[2,n.error(d,e)];return p=d.payload.basicModel[0],v=null!==(f=d.payload.advancedModel.find(function(e){return"claude-3-5-sonnet-v2@20241022"===e.qualified}))&&void 0!==f?f:d.payload.advancedModel[0],g=d.payload.overrideModel.qualified?d.payload.overrideModel:null,e.next({basic:p?new oi((0,iR._)((0,r._)({},p),{type:A.BASIC})):oa,advanced:v?new oi((0,iR._)((0,r._)({},v),{type:A.ADVANCED})):oo,override:g?new oi((0,iR._)((0,r._)({},g),{type:A.OVERRIDE})):null}),[2]}})}),function(e){return t.apply(this,arguments)}))}),this.model=new as.V_(function(e){return as.cP.combine(n.models,n.hasAdvancedModel,n.preferredModel).select(function(e){var t,n=(0,af._)(e,3),r=n[0],i=n[1];switch(n[2]){case A.BASIC:return r.basic;case A.ADVANCED:return i?r.advanced:r.basic;default:return null!==(t=r.override)&&void 0!==t?t:r.advanced}}).subscribe(e)}),this.connection=o,this.user=new as.N(s),this.hasAdvancedModel=new as.N(l),this.onError=u,this.preferredModel=new as.N(null!=c?c:l?A.ADVANCED:A.BASIC);var d=this.connection.status.subscribe(function(e){("closed"===e||"error"===e)&&n.dispose()});this.teardown(function(){return d.unsubscribe()})}var t=e.prototype;return t.error=function(e,t){var n=aW(e);return aq(n,"UNEXPECTED_DISCONNECT")||n.reported||(n.reported=!0,this.onError?this.onError(n,null):setTimeout(function(){throw n},0)),t&&t.error(n),n},t.teardown=function(e){return this.disposed?(e(),function(){}):this.teardowns.add(e)},t.ping=function(){var e=this;return(0,i._)(function(){var t;return(0,a.YH)(this,function(n){switch(n.label){case 0:return[4,e.service.pingPong.rpc({})];case 1:if(aq(t=n.sent(),"UNEXPECTED_DISCONNECT"))return[2,aB(!1)];if(!t.ok)return[2,e.error(t)];return[2,aB(!0)]}})})()},t.dispose=function(){this.disposed||(this.disposed=!0,this.teardowns.notify(),this.teardowns.clear())},t.enhancePrompt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=this;return(0,i._)(function(){var i;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,r.service.enhanceAgentPrompt.rpc({userPrompt:e,uploadedFiles:t,attachedUrls:n})];case 1:if(!(i=a.sent()).ok)return[2,r.error(i)];return[2,aB(i.payload.enhancedPrompt)]}})})()},t.generateReplName=function(e,t){var n=this;return(0,i._)(function(){var r;return(0,a.YH)(this,function(i){switch(i.label){case 0:return[4,n.service.generateReplName.rpc({replId:e,prompt:t})];case 1:if(!(r=i.sent()).ok)return[2,n.error(r)];return[2,aB(r.payload.replName)]}})})()},t.generateReplIcon=function(e,t){var n=this;return(0,i._)(function(){var r;return(0,a.YH)(this,function(i){switch(i.label){case 0:return[4,n.service.generateIcon.rpc({replId:e,prompt:t})];case 1:if(!(r=i.sent()).ok)return[2,n.error(r)];return[2,aB(r.payload.imageUrl)]}})})()},t.getResourceUploadUrl=function(e){var t=this;return(0,i._)(function(){var n;return(0,a.YH)(this,function(r){switch(r.label){case 0:return[4,t.service.getResourceUploadUrl.rpc({mimeType:e})];case 1:if(!(n=r.sent()).ok)return[2,t.error(n)];return[2,aB(n.payload)]}})})()},(0,ap._)(e,[{key:"service",get:function(){return this.connection.service}},{key:"status",get:function(){return this.connection.status}}]),e}(),ol=function(){"use strict";function e(t){var n=this;(0,ao._)(this,e),this.queue=new Map,this.store=a9.events.store(),this.enqueued=null,this.events=new as.jA(function(e){var t,r=!1,o=n.api.closed.subscribe(function(){e.complete()}),s=(t=(0,i._)(function(){var t,i,o,s,l,c,u,d,p,f,v,g,m,h,b,y,U,E,S,C,_,Z,x,w,A,k,I,T,O,R,D,N,P,L;return(0,a.YH)(this,function(a){switch(a.label){case 0:if(!n.queue.size)return[3,9];t=!0,i=!1,o=void 0,a.label=1;case 1:a.trys.push([1,6,7,8]),s=n.queue[Symbol.iterator](),a.label=2;case 2:if(t=(l=s.next()).done)return[3,5];if(u=(c=(0,af._)(l.value,2))[0],d=c[1],!a9.events.empty){p=[],f=!0,v=!1,g=void 0;try{for(m=d[Symbol.iterator]();!(f=(h=m.next()).done);f=!0)b=h.value,(y=a9.events.get(b))&&(p.push(y),d.delete(b))}catch(e){v=!0,g=e}finally{try{f||null==m.return||m.return()}finally{if(v)throw g}}p.length&&(n.store.untrack(p),e.next(p))}if(!d.size)return n.queue.delete(u),[3,4];return U=Array.from(d).slice(0,500),[4,n.api.service.batchGetEvents.rpc({sessionId:u,eventIds:U})];case 3:if(E=a.sent(),!r)return[2];if(aq(E,"UNEXPECTED_DISCONNECT"))return[3,4];if(!E.ok){S=!0,C=!1,_=void 0;try{for(Z=U[Symbol.iterator]();!(S=(x=Z.next()).done);S=!0)w=x.value,d.delete(w)}catch(e){C=!0,_=e}finally{try{S||null==Z.return||Z.return()}finally{if(C)throw _}}return d.size||n.queue.delete(u),n.store.untrack(U),[2,n.api.error(E,e)]}A=E.payload.events,k=[],I=!0,T=!1,O=void 0;try{for(R=A[Symbol.iterator]();!(I=(D=R.next()).done);I=!0){var M;N=D.value,(P=a9.events.get(N.id))?N=P:((M=N).contents.contents&&M.typedUpdateEventOperations.length&&(i6(M.contents.contents,M.typedUpdateEventOperations),M.typedUpdateEventOperations=[]),a9.events.add(N)),d.has(N.id)&&(k.push(N),d.delete(N.id))}}catch(e){T=!0,O=e}finally{try{I||null==R.return||R.return()}finally{if(T)throw O}}d.size||n.queue.delete(u),k.length&&(n.store.untrack(k),e.next(k)),a.label=4;case 4:return t=!0,[3,2];case 5:return[3,8];case 6:return L=a.sent(),i=!0,o=L,[3,8];case 7:try{t||null==s.return||s.return()}finally{if(i)throw o}return[7];case 8:return[3,0];case 9:return r=!1,[2]}})}),function(){return t.apply(this,arguments)});return n.enqueued=function(){r||(r=!0,s().catch(function(t){return e.error(t)}))},n.queue.size&&n.enqueued(),function(){r=!1,n.enqueued=null,o.unsubscribe()}}),this.api=t}var t=e.prototype;return t.enqueue=function(e,t){if(t.length){var n=this.queue.get(e);n||(n=new Set,this.queue.set(e,n));var r=!0,i=!1,a=void 0;try{for(var o,s,l=t[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var c=s.value;n.add(c)}}catch(e){i=!0,a=e}finally{try{r||null==l.return||l.return()}finally{if(i)throw a}}this.store.track(t),null===(o=this.enqueued)||void 0===o||o.call(this)}},t.materialize=function(e,t){var n=this;return(0,i._)(function(){var r,i,o,s,l,c,u,d,p,f,v,g,m,h,b,y;return(0,a.YH)(this,function(a){switch(a.label){case 0:r=new Set(t),i=a9.events.store(t),o=!0,s=!1,l=void 0;try{for(c=i[Symbol.iterator]();!(o=(u=c.next()).done);o=!0)d=u.value,r.delete(d.id)}catch(e){s=!0,l=e}finally{try{o||null==c.return||c.return()}finally{if(s)throw l}}if(!r.size)return[3,2];return n.enqueue(e,Array.from(r)),[4,new Promise(function(e,t){var a=n.events.subscribe({next:function(t){var n=!0,i=!1,o=void 0;try{for(var s,l=t[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var c=s.value;r.has(c.id)&&r.delete(c.id)}}catch(e){i=!0,o=e}finally{try{n||null==l.return||l.return()}finally{if(i)throw o}}r.size||(a.unsubscribe(),e())},error:function(e){i.release(),t(e)},complete:function(){i.release(),t(new as.Rx)}})})];case 1:a.sent(),a.label=2;case 2:p=[],f=!0,v=!1,g=void 0;try{for(m=t[Symbol.iterator]();!(f=(h=m.next()).done);f=!0){if(b=h.value,!(y=i.get(b)))throw i.release(),n.api.error("Unexpected missing event in store");p.push(y)}}catch(e){v=!0,g=e}finally{try{f||null==m.return||m.return()}finally{if(v)throw g}}return i.release(),[2,p]}})})()},e}(),oc=function(){"use strict";function e(t){var n=this;(0,ao._)(this,e),this.values=new Map,this.refs=new Set,this.buffer=[],this.listeners=new as.do,this.optimistic=!1,this.emitter=new as.cP(function(e){var t;return n.api.connected.lift(e,(t=(0,i._)(function(t){var r,i,o,s,l,c,u,d,p,f,v,g,m,h;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,n.api.service.subscribeToReplEvents.subscribe({replId:n.api.replId})];case 1:if(i=(r=af._.apply(void 0,[a.sent(),2]))[0],o=r[1],t.aborted)return[2,o()];t.addEventListener("abort",o),s=!1,l=!1,a.label=2;case 2:a.trys.push([2,7,8,13]),u=(0,al._)(i),a.label=3;case 3:return[4,u.next()];case 4:if(!(s=!(d=a.sent()).done)||(p=d.value,t.aborted||aq(p,"UNEXPECTED_DISCONNECT")))return[3,6];if(!p.ok)return n.api.error(p,e),[3,6];if(!p.payload.message)return[3,5];switch(f=void 0,(v=iE(p.payload.message)).$kind){case"subscriptionStatusMessage":case"abortEventMessage":return[3,5];case"createEventMessage":f={kind:"event-modified",optimistic:!1,type:"created",event:a9.events.create(v)};break;case"updateEventMessage":if(!(g=a9.events.update(v)))return[3,5];f={kind:"event-modified",optimistic:!1,type:"updated",event:g};break;case"createSessionMessage":f={kind:"session-modified",optimistic:!1,type:"created",session:a9.sessions.create(v)};break;case"updateSessionMessage":if(!(m=a9.sessions.update(v)))return[3,5];f={kind:"session-modified",optimistic:!1,type:"updated",session:m};break;case"updateAgentStateMessage":f={kind:"agent-state-modified",optimistic:!1,session:v.sessionId,state:aL(v)}}e.next(f),a.label=5;case 5:return s=!1,[3,3];case 6:return[3,13];case 7:return h=a.sent(),l=!0,c=h,[3,13];case 8:if(a.trys.push([8,,11,12]),!(s&&null!=u.return))return[3,10];return[4,u.return()];case 9:a.sent(),a.label=10;case 10:return[3,12];case 11:if(l)throw c;return[7];case 12:return[7];case 13:return t.removeEventListener("abort",o),o(),[2]}})}),function(e){return t.apply(this,arguments)}))}),this.updates=new as.jA(function(e){var t=n.listeners.add(function(t){e.next(t)}),r=n.api.materializer.events.lift(e,function(t){e.next({kind:"events-materialized",optimistic:!1,events:t})}),i=n.emitter.subscribe(e);return function(){t(),r.unsubscribe(),i.unsubscribe()}}),this.api=t;var r=this.api.status.subscribe(function(e){"connected"!==e&&(a9.events.invalidate(),a9.sessions.invalidate(),n.optimistic&&n.rollback())});this.api.teardown(function(){return r.unsubscribe()})}var t=e.prototype;return t.snapshot=function(){if(this.optimistic)throw Error("Cannot snapshot while optimistic");var e=!0,t=!1,n=void 0;try{for(var r,i=this.values.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;a.confirmed=a.handle.snapshot(a.current)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this.optimistic=!0},t.rollback=function(){if(!this.optimistic)throw Error("Cannot rollback while not optimistic");var e=!0,t=!1,n=void 0;try{for(var r,i=this.values.values()[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a,o,s=r.value;if(s.confirmed===as.NV)throw Error("confirmed should not be None");s.current=s.confirmed,s.confirmed=as.NV,null===(a=(o=s.handle).next)||void 0===a||a.call(o,s.current)}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this.optimistic=!1,this.buffer.length=0,this.refs.clear()},t.commit=function(){if(!this.optimistic)throw Error("Cannot commit while not optimistic");var e=!0,t=!1,n=void 0;try{for(var r,i=this.buffer[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var a=r.value;switch(a.kind){case"event-modified":a9.events.add(a.event);break;case"session-modified":a9.sessions.add(a.session)}}}catch(e){t=!0,n=e}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}this.optimistic=!1,this.buffer.length=0,this.refs.clear();var o=!0,s=!1,l=void 0;try{for(var c,u=this.values.values()[Symbol.iterator]();!(o=(c=u.next()).done);o=!0){var d=c.value;if(d.confirmed===as.NV)throw Error("confirmed should not be None");d.confirmed=as.NV}}catch(e){s=!0,l=e}finally{try{o||null==u.return||u.return()}finally{if(s)throw l}}},t.stage=function(e){var t=this;if("connected"!==this.api.status.current)throw Error("Cannot notify while not connected");var n=(0,iR._)((0,r._)({},e),{optimistic:!0});this.buffer.push(n);var i=function(e){t.refs.has(i)&&(t.refs.delete(i),e?0===t.refs.size&&t.commit():t.rollback())};return this.refs.add(i),this.optimistic||this.snapshot(),this.listeners.notify(n),[function(){return i(!0)},function(){return i(!1)}]},t.create=function(e,t){var n=this,r=function(){if(s.confirmed===as.NV)throw Error("confirmed should not be None");var e,t,r=!1;if(s.handle.update){var i=s.handle.snapshot(s.confirmed),a=!0,o=!1,l=void 0;try{for(var c,u=n.buffer[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){var d=c.value;i=void 0===i?s.current:i,i=s.handle.update(d,i),void 0!==i&&(r=!0,s.current=i)}}catch(e){o=!0,l=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw l}}}r&&(null===(e=(t=s.handle).next)||void 0===e||e.call(t,s.current))},i=function(e){if(n.optimistic)s.confirmed=e,r();else{var t,i;s.current=e,null===(t=(i=s.handle).next)||void 0===t||t.call(i,s.current)}},a=null;t.update&&(a=this.updates.subscribe(function(e){if(n.optimistic&&!e.optimistic){if(s.confirmed===as.NV)throw Error("confirmed should not be None");var t,i,a=null===(t=(i=s.handle).update)||void 0===t?void 0:t.call(i,e,s.confirmed);void 0!==a&&(s.confirmed=a,r())}else{var o,l,c,u,d=!1,p=null===(o=(l=s.handle).update)||void 0===o?void 0:o.call(l,e,s.current);void 0!==p&&(d=!0,s.current=p),d&&(null===(c=(u=s.handle).next)||void 0===c||c.call(u,s.current))}}));var o={get optimistic(){return n.optimistic},get current(){return s.current},get confirmed(){return n.optimistic?s.confirmed:s.current},set confirmed(next){i(next)},next:function(){if(n.optimistic)r();else{var e,t;null===(e=(t=s.handle).next)||void 0===e||e.call(t,s.current)}},unsubscribe:function(){n.values.delete(o),null==a||a.unsubscribe()}},s={handle:t,current:e,confirmed:as.NV};if(this.values.set(o,s),this.optimistic&&s.handle.update){s.confirmed=s.handle.snapshot(s.current);var l,c,u=!1,d=!0,p=!1,f=void 0;try{for(var v,g=this.buffer[Symbol.iterator]();!(d=(v=g.next()).done);d=!0){var m=v.value,h=s.handle.update(m,s.current);void 0!==h&&(u=!0,s.current=h)}}catch(e){p=!0,f=e}finally{try{d||null==g.return||g.return()}finally{if(p)throw f}}u&&(null===(l=(c=s.handle).next)||void 0===l||l.call(c,s.current))}return o},e}(),ou=function(e){"use strict";function t(e){var n;if((0,ao._)(this,t),!e.replId)throw Error("Chatter API is disabled");return(n=(0,aM._)(this,t,[e])).sessionObservables=new Map,n.replaySession=new as.V_(function(e){var t;return n.connected.lift(e,(t=(0,i._)(function(t){var r,i;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,n.service.getReplSessions.rpc({beforeTimestamp:new Date("2099-01-01"),limit:1,includeFirstSessionEvents:!1,firstSessionEventsLimit:1,replId:n.replId,sessionTypes:[F.AGENT_REPLAY_SESSION],archived:void 0})];case 1:if(r=a.sent(),t.aborted||aq(r,"UNEXPECTED_DISCONNECT"))return[2];if(!r.ok)return[2,n.error(r,e)];if(0===r.payload.sessions.length)return[2,e.next(null)];return i=r.payload.sessions[0],a9.sessions.add(i),e.next(oe.create(n,i.id,i.created)),[2]}})}),function(e){return t.apply(this,arguments)}))}),n.currentAgentSession=new as.V_(function(e){var t,r,o=!1,s="",l=null,c=(t=(0,i._)(function(t){var r,i;return(0,a.YH)(this,function(a){switch(a.label){case 0:if(null==l||l.abort(),!t)return[2,e.next(null)];return r=(l=new AbortController).signal,[4,n.service.getSessionEvents.rpc({excludeContents:!0,sessionId:t,limit:1})];case 1:if(i=a.sent(),r.aborted||aq(i,"UNEXPECTED_DISCONNECT"))return[2];if(!i.ok)return[2,n.error(i,e)];return l=null,a9.sessions.add(i.payload.session),e.next(oe.create(n,t,i.payload.session.created)),[2]}})}),function(e){return t.apply(this,arguments)}),u=n.state.updates.filter(function(e){return"agent-state-modified"===e.kind}).select(function(e){return e.session}).lift(e,function(e){s!==e&&(s=e,c(e))}),d=n.connected.lift(e,(r=(0,i._)(function(t){var r,i;return(0,a.YH)(this,function(a){switch(a.label){case 0:return[4,n.service.getReplSessions.rpc({beforeTimestamp:new Date("2099-01-01"),limit:1,includeFirstSessionEvents:!1,firstSessionEventsLimit:1,replId:n.replId,sessionTypes:[F.AGENT_SESSION],archived:void 0})];case 1:if(r=a.sent(),t.aborted||aq(r,"UNEXPECTED_DISCONNECT"))return[2];if(!r.ok)return[2,n.error(r,e)];return i=r.payload.replAgentState.activeAgentSessionId,s===i&&o||(o=!0,s=i,c(i)),[2]}})}),function(e){return r.apply(this,arguments)}));return function(){null==l||l.abort(),u.unsubscribe(),d.unsubscribe()}}),n.replId=e.replId,n.materializer=new ol(n),n.state=new oc(n),n}(0,aj._)(t,e);var n=t.prototype;return n.createSessionsQuery=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.archived,r=void 0!==n&&n,o=t.readonly,s=void 0!==o&&o,l=t.limit,c=void 0===l?1e3:l,u=t.types,d=void 0===u?[F.CHAT,F.AGENT_SESSION,F.AGENT_REPLAY_SESSION]:u;return new as.V_(function(t){var n,o=new Map,l=!1,u=e.state.updates.filter(function(e){return"session-modified"===e.kind}).lift(t,function(n){if("created"===n.type&&!!n.session.archived===r&&!!n.session.readOnly===s&&d.includes(n.session.sessionType)){var i=n.session.id,a=oe.create(e,i,new Date);o.set(i,a),t.next(o)}else o.has(n.session.id)&&(n.session.archived!==r||n.session.readOnly!==s)&&(o.delete(n.session.id),t.next(o))}),p=e.connected.lift(t,(n=(0,i._)(function(n){var i,u,p,f,v,g,m,h,b,y,U,E,S,C,_,Z;return(0,a.YH)(this,function(a){switch(a.label){case 0:return i=new Set(o.keys()),[4,e.service.getReplSessions.rpc({beforeTimestamp:new Date("2099-01-01"),limit:c,includeFirstSessionEvents:!1,firstSessionEventsLimit:1,replId:e.replId,sessionTypes:d,archived:r})];case 1:if(u=a.sent(),n.aborted||aq(u,"UNEXPECTED_DISCONNECT"))return[2];if(!u.ok)return[2,e.error(u,t)];p=!1,f=!0,v=!1,g=void 0;try{for(m=u.payload.sessions[Symbol.iterator]();!(f=(h=m.next()).done);f=!0)b=h.value,a9.sessions.add(b),b.readOnly===s&&(i.delete(b.id),o.has(b.id)||(y=oe.create(e,b.id,b.created),o.set(b.id,y),p=!0))}catch(e){v=!0,g=e}finally{try{f||null==m.return||m.return()}finally{if(v)throw g}}U=!0,E=!1,S=void 0;try{for(C=i[Symbol.iterator]();!(U=(_=C.next()).done);U=!0)Z=_.value,o.delete(Z),p=!0}catch(e){E=!0,S=e}finally{try{U||null==C.return||C.return()}finally{if(E)throw S}}return(p||!l)&&(l=!0,t.next(o)),[2]}})}),function(e){return n.apply(this,arguments)}));return function(){u.unsubscribe(),p.unsubscribe()}})},n.getSessionById=function(e){var t=this;return(0,i._)(function(){var n,r;return(0,a.YH)(this,function(i){switch(i.label){case 0:if(n=a9.sessions.get(e))return[2,aB(oe.create(t,e,n.created))];return[4,t.service.getSessionEvents.rpc({excludeContents:!0,sessionId:e,limit:1})];case 1:if(!(r=i.sent()).ok)return[2,t.error(r)];return a9.sessions.add(r.payload.session),[2,aB(oe.create(t,e,r.payload.session.created))]}})})()},n.getSessionObservableById=function(e){var t=this,n=this.sessionObservables.get(e);return n||(n=new as.V_(function(n){return t.getSessionById(e).then(function(r){if(!r.ok)return t.error(r,n);n.next(oe.create(t,e,r.payload.created))}),t.teardown(function(){return n.complete()})}),this.sessionObservables.set(e,n)),n},n.createSession=function(e){var t=this;return(0,i._)(function(){var n,i;return(0,a.YH)(this,function(a){switch(a.label){case 0:return n=at((0,iR._)((0,r._)({},e),{replId:t.replId})),[4,t.service.createSession.rpc(n)];case 1:if(!(i=a.sent()).ok)return[2,t.error(i)];return[2,aB(oe.create(t,i.payload.sessionId,new Date))]}})})()},t}(os),od=function(){"use strict";function e(t){(0,ao._)(this,e),t.replId?(this.api=new ou(t),this._chatter=new aN(this.api)):(this.api=new os(t),this._chatter=null)}var t=e.prototype;return t.chatter=function(){if(!this._chatter)throw Error("Chatter API is disabled");return this._chatter},t.enhancePrompt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return this.api.enhancePrompt(e,t,n)},t.generateReplName=function(e,t){return this.api.generateReplName(e,t)},t.generateReplIcon=function(e,t){return this.api.generateReplIcon(e,t)},t.getResourceUploadUrl=function(e){return this.api.getResourceUploadUrl(e)},t.dispose=function(){this.api.dispose()},(0,ap._)(e,[{key:"status",get:function(){return this.api.status}},{key:"user",get:function(){return this.api.user}},{key:"hasAdvancedModel",get:function(){return this.api.hasAdvancedModel}},{key:"preferredModel",get:function(){return this.api.preferredModel}},{key:"models",get:function(){return this.api.models}},{key:"model",get:function(){return this.api.model}}]),e}()},22155:(e,t,n)=>{n.d(t,{LU:()=>r,Tj:()=>s,Tx:()=>l,ky:()=>o,qo:()=>i,zu:()=>a});var r={borderRadius1:"var(--border-radius-1)",borderRadius2:"var(--border-radius-2)",borderRadius4:"var(--border-radius-4)",borderRadius6:"var(--border-radius-6)",borderRadius8:"var(--border-radius-8)",borderRadius12:"var(--border-radius-12)",borderRadius16:"var(--border-radius-16)",borderRadiusDefault:"var(--border-radius-default)",borderRadiusContainer:"var(--border-radius-container)",borderRadiusRound:"var(--border-radius-round)",space1:"var(--space-1)",space2:"var(--space-2)",space4:"var(--space-4)",space6:"var(--space-6)",space8:"var(--space-8)",space12:"var(--space-12)",space16:"var(--space-16)",space24:"var(--space-24)",space32:"var(--space-32)",space40:"var(--space-40)",space48:"var(--space-48)",space56:"var(--space-56)",space64:"var(--space-64)",space80:"var(--space-80)",space96:"var(--space-96)",space128:"var(--space-128)",space256:"var(--space-256)",spaceDefault:"var(--space-default)",shadow1:"var(--shadow-1)",shadow2:"var(--shadow-2)",shadow3:"var(--shadow-3)",shadowDefault:"var(--shadow-default)",fontFamilyDefault:"var(--font-family-default)",fontFamilyCode:"var(--font-family-code)",fontSizeSmall:"var(--font-size-small)",fontSizeDefault:"var(--font-size-default)",fontSizeSubheadDefault:"var(--font-size-subhead-default)",fontSizeSubheadBig:"var(--font-size-subhead-big)",fontSizeHeaderDefault:"var(--font-size-header-default)",fontSizeHeaderBig:"var(--font-size-header-big)",fontWeightRegular:"var(--font-weight-regular)",fontWeightMedium:"var(--font-weight-medium)",fontWeightBold:"var(--font-weight-bold)",lineHeightSmall:"var(--line-height-small)",lineHeightDefault:"var(--line-height-default)",lineHeightSubheadDefault:"var(--line-height-subhead-default)",lineHeightSubheadBig:"var(--line-height-subhead-big)",lineHeightHeaderDefault:"var(--line-height-header-default)",lineHeightHeaderBig:"var(--line-height-header-big)",transitionDurationSnappy:"var(--transition-duration-snappy)",transitionDurationChill:"var(--transition-duration-chill)",transitionTimingFunctionSnappy:"var(--transition-timing-function-snappy)",transitionTimingFunctionChill:"var(--transition-timing-function-chill)",borderWidthDefault:"var(--border-width-default)",singleLine:"var(--single-line)",backgroundRoot:"var(--background-root)",backgroundDefault:"var(--background-default)",backgroundHigher:"var(--background-higher)",backgroundHighest:"var(--background-highest)",backgroundOverlay:"var(--background-overlay)",foregroundDefault:"var(--foreground-default)",foregroundDimmer:"var(--foreground-dimmer)",foregroundDimmest:"var(--foreground-dimmest)",outlineDimmest:"var(--outline-dimmest)",outlineDimmer:"var(--outline-dimmer)",outlineDefault:"var(--outline-default)",outlineStronger:"var(--outline-stronger)",outlineStrongest:"var(--outline-strongest)",accentPrimaryStrongest:"var(--accent-primary-strongest)",accentPrimaryStronger:"var(--accent-primary-stronger)",accentPrimaryDefault:"var(--accent-primary-default)",accentPrimaryDimmer:"var(--accent-primary-dimmer)",accentPrimaryDimmest:"var(--accent-primary-dimmest)",accentPositiveStrongest:"var(--accent-positive-strongest)",accentPositiveStronger:"var(--accent-positive-stronger)",accentPositiveDefault:"var(--accent-positive-default)",accentPositiveDimmer:"var(--accent-positive-dimmer)",accentPositiveDimmest:"var(--accent-positive-dimmest)",accentNegativeStrongest:"var(--accent-negative-strongest)",accentNegativeStronger:"var(--accent-negative-stronger)",accentNegativeDefault:"var(--accent-negative-default)",accentNegativeDimmer:"var(--accent-negative-dimmer)",accentNegativeDimmest:"var(--accent-negative-dimmest)",redStrongest:"var(--accent-red-strongest)",redStronger:"var(--accent-red-stronger)",redDefault:"var(--accent-red-default)",redDimmer:"var(--accent-red-dimmer)",redDimmest:"var(--accent-red-dimmest)",orangeStrongest:"var(--accent-orange-strongest)",orangeStronger:"var(--accent-orange-stronger)",orangeDefault:"var(--accent-orange-default)",orangeDimmer:"var(--accent-orange-dimmer)",orangeDimmest:"var(--accent-orange-dimmest)",yellowStrongest:"var(--accent-yellow-strongest)",yellowStronger:"var(--accent-yellow-stronger)",yellowDefault:"var(--accent-yellow-default)",yellowDimmer:"var(--accent-yellow-dimmer)",yellowDimmest:"var(--accent-yellow-dimmest)",limeStrongest:"var(--accent-lime-strongest)",limeStronger:"var(--accent-lime-stronger)",limeDefault:"var(--accent-lime-default)",limeDimmer:"var(--accent-lime-dimmer)",limeDimmest:"var(--accent-lime-dimmest)",greenStrongest:"var(--accent-green-strongest)",greenStronger:"var(--accent-green-stronger)",greenDefault:"var(--accent-green-default)",greenDimmer:"var(--accent-green-dimmer)",greenDimmest:"var(--accent-green-dimmest)",tealStrongest:"var(--accent-teal-strongest)",tealStronger:"var(--accent-teal-stronger)",tealDefault:"var(--accent-teal-default)",tealDimmer:"var(--accent-teal-dimmer)",tealDimmest:"var(--accent-teal-dimmest)",blueStrongest:"var(--accent-blue-strongest)",blueStronger:"var(--accent-blue-stronger)",blueDefault:"var(--accent-blue-default)",blueDimmer:"var(--accent-blue-dimmer)",blueDimmest:"var(--accent-blue-dimmest)",blurpleStrongest:"var(--accent-blurple-strongest)",blurpleStronger:"var(--accent-blurple-stronger)",blurpleDefault:"var(--accent-blurple-default)",blurpleDimmer:"var(--accent-blurple-dimmer)",blurpleDimmest:"var(--accent-blurple-dimmest)",purpleStrongest:"var(--accent-purple-strongest)",purpleStronger:"var(--accent-purple-stronger)",purpleDefault:"var(--accent-purple-default)",purpleDimmer:"var(--accent-purple-dimmer)",purpleDimmest:"var(--accent-purple-dimmest)",magentaStrongest:"var(--accent-magenta-strongest)",magentaStronger:"var(--accent-magenta-stronger)",magentaDefault:"var(--accent-magenta-default)",magentaDimmer:"var(--accent-magenta-dimmer)",magentaDimmest:"var(--accent-magenta-dimmest)",pinkStrongest:"var(--accent-pink-strongest)",pinkStronger:"var(--accent-pink-stronger)",pinkDefault:"var(--accent-pink-default)",pinkDimmer:"var(--accent-pink-dimmer)",pinkDimmest:"var(--accent-pink-dimmest)",greyStrongest:"var(--accent-grey-strongest)",greyStronger:"var(--accent-grey-stronger)",greyDefault:"var(--accent-grey-default)",greyDimmer:"var(--accent-grey-dimmer)",greyDimmest:"var(--accent-grey-dimmest)",brownStrongest:"var(--accent-brown-strongest)",brownStronger:"var(--accent-brown-stronger)",brownDefault:"var(--accent-brown-default)",brownDimmer:"var(--accent-brown-dimmer)",brownDimmest:"var(--accent-brown-dimmest)",white:"var(--white)",black:"var(--black)",surfaceBackground:"var(--surface-background)",interactiveBackground:"var(--interactive-background)",interactiveBackgroundActive:"var(--interactive-background--active)",interactiveBorder:"var(--interactive-border)",interactiveBorderHover:"var(--interactive-border--hover)",brandText:"var(--brand-text)",brandTextSecondary:"var(--brand-secondary-text)",brandTextLight:"var(--brand-text-light)",brandBackground:"var(--brand-background)",brandBackgroundDarker:"var(--brand-background-darker)",brandBorder:"var(--brand-border)",brandAccentStrongest:"var(--brand-accent-strongest)",brandAccentStronger:"var(--brand-accent-stronger)",brandAccentDefault:"var(--brand-accent-default)",brandAccentDimmer:"var(--brand-accent-dimmer)",brandAccentDimmest:"var(--brand-accent-dimmest)",brandBlack:"var(--brand-black)",fontFamilyBrand:"var(--font-family-brand)",fontFamilyBrandVariable:"var(--font-family-brand-variable)",fontFamilyBrandPixel:"var(--font-family-brand-pixel)"},i={borderRadius1:"--border-radius-1",borderRadius2:"--border-radius-2",borderRadius4:"--border-radius-4",borderRadius6:"--border-radius-6",borderRadius8:"--border-radius-8",borderRadius12:"--border-radius-12",borderRadius16:"--border-radius-16",borderRadiusDefault:"--border-radius-default",borderRadiusContainer:"--border-radius-container",borderRadiusRound:"--border-radius-round",space1:"--space-1",space2:"--space-2",space4:"--space-4",space6:"--space-6",space8:"--space-8",space12:"--space-12",space16:"--space-16",space24:"--space-24",space32:"--space-32",space40:"--space-40",space48:"--space-48",space56:"--space-56",space64:"--space-64",space80:"--space-80",space96:"--space-96",space128:"--space-128",space256:"--space-256",spaceDefault:"--space-default",shadow1:"--shadow-1",shadow2:"--shadow-2",shadow3:"--shadow-3",shadowDefault:"--shadow-default",fontFamilyDefault:"--font-family-default",fontFamilyCode:"--font-family-code",fontSizeSmall:"--font-size-small",fontSizeDefault:"--font-size-default",fontSizeSubheadDefault:"--font-size-subhead-default",fontSizeSubheadBig:"--font-size-subhead-big",fontSizeHeaderDefault:"--font-size-header-default",fontSizeHeaderBig:"--font-size-header-big",fontWeightRegular:"--font-weight-regular",fontWeightMedium:"--font-weight-medium",fontWeightBold:"--font-weight-bold",lineHeightSmall:"--line-height-small",lineHeightDefault:"--line-height-default",lineHeightSubheadDefault:"--line-height-subhead-default",lineHeightSubheadBig:"--line-height-subhead-big",lineHeightHeaderDefault:"--line-height-header-default",lineHeightHeaderBig:"--line-height-header-big",transitionDurationSnappy:"--transition-duration-snappy",transitionDurationChill:"--transition-duration-chill",transitionTimingFunctionSnappy:"--transition-timing-function-snappy",transitionTimingFunctionChill:"--transition-timing-function-chill",borderWidthDefault:"--border-width-default",singleLine:"--single-line",backgroundRoot:"--background-root",backgroundDefault:"--background-default",backgroundHigher:"--background-higher",backgroundHighest:"--background-highest",backgroundOverlay:"--background-overlay",foregroundDefault:"--foreground-default",foregroundDimmer:"--foreground-dimmer",foregroundDimmest:"--foreground-dimmest",outlineDimmest:"--outline-dimmest",outlineDimmer:"--outline-dimmer",outlineDefault:"--outline-default",outlineStronger:"--outline-stronger",outlineStrongest:"--outline-strongest",accentPrimaryStrongest:"--accent-primary-strongest",accentPrimaryStronger:"--accent-primary-stronger",accentPrimaryDefault:"--accent-primary-default",accentPrimaryDimmer:"--accent-primary-dimmer",accentPrimaryDimmest:"--accent-primary-dimmest",accentPositiveStrongest:"--accent-positive-strongest",accentPositiveStronger:"--accent-positive-stronger",accentPositiveDefault:"--accent-positive-default",accentPositiveDimmer:"--accent-positive-dimmer",accentPositiveDimmest:"--accent-positive-dimmest",accentNegativeStrongest:"--accent-negative-strongest",accentNegativeStronger:"--accent-negative-stronger",accentNegativeDefault:"--accent-negative-default",accentNegativeDimmer:"--accent-negative-dimmer",accentNegativeDimmest:"--accent-negative-dimmest",redStrongest:"--accent-red-strongest",redStronger:"--accent-red-stronger",redDefault:"--accent-red-default",redDimmer:"--accent-red-dimmer",redDimmest:"--accent-red-dimmest",orangeStrongest:"--accent-orange-strongest",orangeStronger:"--accent-orange-stronger",orangeDefault:"--accent-orange-default",orangeDimmer:"--accent-orange-dimmer",orangeDimmest:"--accent-orange-dimmest",yellowStrongest:"--accent-yellow-strongest",yellowStronger:"--accent-yellow-stronger",yellowDefault:"--accent-yellow-default",yellowDimmer:"--accent-yellow-dimmer",yellowDimmest:"--accent-yellow-dimmest",limeStrongest:"--accent-lime-strongest",limeStronger:"--accent-lime-stronger",limeDefault:"--accent-lime-default",limeDimmer:"--accent-lime-dimmer",limeDimmest:"--accent-lime-dimmest",greenStrongest:"--accent-green-strongest",greenStronger:"--accent-green-stronger",greenDefault:"--accent-green-default",greenDimmer:"--accent-green-dimmer",greenDimmest:"--accent-green-dimmest",tealStrongest:"--accent-teal-strongest",tealStronger:"--accent-teal-stronger",tealDefault:"--accent-teal-default",tealDimmer:"--accent-teal-dimmer",tealDimmest:"--accent-teal-dimmest",blueStrongest:"--accent-blue-strongest",blueStronger:"--accent-blue-stronger",blueDefault:"--accent-blue-default",blueDimmer:"--accent-blue-dimmer",blueDimmest:"--accent-blue-dimmest",blurpleStrongest:"--accent-blurple-strongest",blurpleStronger:"--accent-blurple-stronger",blurpleDefault:"--accent-blurple-default",blurpleDimmer:"--accent-blurple-dimmer",blurpleDimmest:"--accent-blurple-dimmest",purpleStrongest:"--accent-purple-strongest",purpleStronger:"--accent-purple-stronger",purpleDefault:"--accent-purple-default",purpleDimmer:"--accent-purple-dimmer",purpleDimmest:"--accent-purple-dimmest",magentaStrongest:"--accent-magenta-strongest",magentaStronger:"--accent-magenta-stronger",magentaDefault:"--accent-magenta-default",magentaDimmer:"--accent-magenta-dimmer",magentaDimmest:"--accent-magenta-dimmest",pinkStrongest:"--accent-pink-strongest",pinkStronger:"--accent-pink-stronger",pinkDefault:"--accent-pink-default",pinkDimmer:"--accent-pink-dimmer",pinkDimmest:"--accent-pink-dimmest",greyStrongest:"--accent-grey-strongest",greyStronger:"--accent-grey-stronger",greyDefault:"--accent-grey-default",greyDimmer:"--accent-grey-dimmer",greyDimmest:"--accent-grey-dimmest",brownStrongest:"--accent-brown-strongest",brownStronger:"--accent-brown-stronger",brownDefault:"--accent-brown-default",brownDimmer:"--accent-brown-dimmer",brownDimmest:"--accent-brown-dimmest",white:"--white",black:"--black",surfaceBackground:"--surface-background",interactiveBackground:"--interactive-background",interactiveBackgroundActive:"--interactive-background--active",interactiveBorder:"--interactive-border",interactiveBorderHover:"--interactive-border--hover",brandText:"--brand-text",brandTextSecondary:"--brand-secondary-text",brandTextLight:"--brand-text-light",brandBackground:"--brand-background",brandBackgroundDarker:"--brand-background-darker",brandBorder:"--brand-border",brandAccentStrongest:"--brand-accent-strongest",brandAccentStronger:"--brand-accent-stronger",brandAccentDefault:"--brand-accent-default",brandAccentDimmer:"--brand-accent-dimmer",brandAccentDimmest:"--brand-accent-dimmest",brandBlack:"--brand-black",fontFamilyBrand:"--font-family-brand",fontFamilyBrandVariable:"--font-family-brand-variable",fontFamilyBrandPixel:"--font-family-brand-pixel"},a={borderRadius1:"1px",borderRadius2:"2px",borderRadius4:"4px",borderRadius6:"6px",borderRadius8:"8px",borderRadius12:"12px",borderRadius16:"16px",borderRadiusDefault:"var(--border-radius-4)",borderRadiusContainer:"var(--border-radius-6)",borderRadiusRound:"1028px",space1:"1px",space2:"2px",space4:"4px",space6:"6px",space8:"8px",space12:"12px",space16:"16px",space24:"24px",space32:"32px",space40:"40px",space48:"48px",space56:"56px",space64:"64px",space80:"80px",space96:"96px",space128:"128px",space256:"256px",spaceDefault:"var(--space-8)",shadow1:"0px 4px 8px 0px rgba(2, 2, 3, 0.16)",shadow2:"0px 8px 16px 0px rgba(2, 2, 3, 0.32)",shadow3:"0px 16px 32px 0px rgba(2, 2, 3, 0.48)",shadowDefault:"var(--shadow-1)",fontFamilyDefault:"'IBM Plex Sans', sans-serif",fontFamilyCode:"'ReplitHack', monospace",fontSizeSmall:"12px",fontSizeDefault:"14px",fontSizeSubheadDefault:"16px",fontSizeSubheadBig:"20px",fontSizeHeaderDefault:"24px",fontSizeHeaderBig:"32px",fontWeightRegular:"400",fontWeightMedium:"500",fontWeightBold:"600",lineHeightSmall:"1.5",lineHeightDefault:"1.6",lineHeightSubheadDefault:"1.375",lineHeightSubheadBig:"1.4",lineHeightHeaderDefault:"1.333",lineHeightHeaderBig:"1.25",transitionDurationSnappy:"120ms",transitionDurationChill:"300ms",transitionTimingFunctionSnappy:"ease-out",transitionTimingFunctionChill:"ease-in-out",borderWidthDefault:"1px",singleLine:"1",surfaceBackground:"var(--background-root)",interactiveBackground:"var(--background-default)",interactiveBackgroundActive:"var(--background-higher)",interactiveBorder:"var(--outline-dimmer)",interactiveBorderHover:"var(--outline-default)",brandText:"#1b252b",brandTextSecondary:"#5c6062",brandTextLight:"#f5f9fc",brandBackground:"#f3f3f3",brandBackgroundDarker:"#e5e5e5",brandBorder:"#cfc9c3",brandAccentStrongest:"#feccb3",brandAccentStronger:"#fe9c6c",brandAccentDefault:"#ec4e02",brandAccentDimmer:"#bb3e02",brandAccentDimmest:"#7e2a01",brandBlack:"#000",fontFamilyBrand:"'ABC Diatype', sans-serif",fontFamilyBrandVariable:"'ABC Diatype Variable', sans-serif",fontFamilyBrandPixel:"'ABC Diatype Pixel', sans-serif"},o={primary:{strongest:"var(--accent-primary-strongest)",stronger:"var(--accent-primary-stronger)",default:"var(--accent-primary-default)",dimmer:"var(--accent-primary-dimmer)",dimmest:"var(--accent-primary-dimmest)"},positive:{strongest:"var(--accent-positive-strongest)",stronger:"var(--accent-positive-stronger)",default:"var(--accent-positive-default)",dimmer:"var(--accent-positive-dimmer)",dimmest:"var(--accent-positive-dimmest)"},negative:{strongest:"var(--accent-negative-strongest)",stronger:"var(--accent-negative-stronger)",default:"var(--accent-negative-default)",dimmer:"var(--accent-negative-dimmer)",dimmest:"var(--accent-negative-dimmest)"},red:{strongest:"var(--accent-red-strongest)",stronger:"var(--accent-red-stronger)",default:"var(--accent-red-default)",dimmer:"var(--accent-red-dimmer)",dimmest:"var(--accent-red-dimmest)"},orange:{strongest:"var(--accent-orange-strongest)",stronger:"var(--accent-orange-stronger)",default:"var(--accent-orange-default)",dimmer:"var(--accent-orange-dimmer)",dimmest:"var(--accent-orange-dimmest)"},yellow:{strongest:"var(--accent-yellow-strongest)",stronger:"var(--accent-yellow-stronger)",default:"var(--accent-yellow-default)",dimmer:"var(--accent-yellow-dimmer)",dimmest:"var(--accent-yellow-dimmest)"},lime:{strongest:"var(--accent-lime-strongest)",stronger:"var(--accent-lime-stronger)",default:"var(--accent-lime-default)",dimmer:"var(--accent-lime-dimmer)",dimmest:"var(--accent-lime-dimmest)"},green:{strongest:"var(--accent-green-strongest)",stronger:"var(--accent-green-stronger)",default:"var(--accent-green-default)",dimmer:"var(--accent-green-dimmer)",dimmest:"var(--accent-green-dimmest)"},teal:{strongest:"var(--accent-teal-strongest)",stronger:"var(--accent-teal-stronger)",default:"var(--accent-teal-default)",dimmer:"var(--accent-teal-dimmer)",dimmest:"var(--accent-teal-dimmest)"},blue:{strongest:"var(--accent-blue-strongest)",stronger:"var(--accent-blue-stronger)",default:"var(--accent-blue-default)",dimmer:"var(--accent-blue-dimmer)",dimmest:"var(--accent-blue-dimmest)"},blurple:{strongest:"var(--accent-blurple-strongest)",stronger:"var(--accent-blurple-stronger)",default:"var(--accent-blurple-default)",dimmer:"var(--accent-blurple-dimmer)",dimmest:"var(--accent-blurple-dimmest)"},purple:{strongest:"var(--accent-purple-strongest)",stronger:"var(--accent-purple-stronger)",default:"var(--accent-purple-default)",dimmer:"var(--accent-purple-dimmer)",dimmest:"var(--accent-purple-dimmest)"},magenta:{strongest:"var(--accent-magenta-strongest)",stronger:"var(--accent-magenta-stronger)",default:"var(--accent-magenta-default)",dimmer:"var(--accent-magenta-dimmer)",dimmest:"var(--accent-magenta-dimmest)"},pink:{strongest:"var(--accent-pink-strongest)",stronger:"var(--accent-pink-stronger)",default:"var(--accent-pink-default)",dimmer:"var(--accent-pink-dimmer)",dimmest:"var(--accent-pink-dimmest)"},grey:{strongest:"var(--accent-grey-strongest)",stronger:"var(--accent-grey-stronger)",default:"var(--accent-grey-default)",dimmer:"var(--accent-grey-dimmer)",dimmest:"var(--accent-grey-dimmest)"},brown:{strongest:"var(--accent-brown-strongest)",stronger:"var(--accent-brown-stronger)",default:"var(--accent-brown-default)",dimmer:"var(--accent-brown-dimmer)",dimmest:"var(--accent-brown-dimmest)"},warning:{strongest:"var(--accent-orange-strongest)",stronger:"var(--accent-orange-stronger)",default:"var(--accent-orange-default)",dimmer:"var(--accent-orange-dimmer)",dimmest:"var(--accent-orange-dimmest)"},brand:{strongest:"var(--brand-accent-strongest)",stronger:"var(--brand-accent-stronger)",default:"var(--brand-accent-default)",dimmer:"var(--brand-accent-dimmer)",dimmest:"var(--brand-accent-dimmest)"}},s=["backgroundRoot","backgroundDefault","backgroundHigher","backgroundHighest","backgroundOverlay","foregroundDefault","foregroundDimmer","foregroundDimmest","outlineDimmest","outlineDimmer","outlineDefault","outlineStronger","outlineStrongest","accentPrimaryStrongest","accentPrimaryStronger","accentPrimaryDefault","accentPrimaryDimmer","accentPrimaryDimmest","accentPositiveStrongest","accentPositiveStronger","accentPositiveDefault","accentPositiveDimmer","accentPositiveDimmest","accentNegativeStrongest","accentNegativeStronger","accentNegativeDefault","accentNegativeDimmer","accentNegativeDimmest","redStrongest","redStronger","redDefault","redDimmer","redDimmest","orangeStrongest","orangeStronger","orangeDefault","orangeDimmer","orangeDimmest","yellowStrongest","yellowStronger","yellowDefault","yellowDimmer","yellowDimmest","limeStrongest","limeStronger","limeDefault","limeDimmer","limeDimmest","greenStrongest","greenStronger","greenDefault","greenDimmer","greenDimmest","tealStrongest","tealStronger","tealDefault","tealDimmer","tealDimmest","blueStrongest","blueStronger","blueDefault","blueDimmer","blueDimmest","blurpleStrongest","blurpleStronger","blurpleDefault","blurpleDimmer","blurpleDimmest","purpleStrongest","purpleStronger","purpleDefault","purpleDimmer","purpleDimmest","magentaStrongest","magentaStronger","magentaDefault","magentaDimmer","magentaDimmest","pinkStrongest","pinkStronger","pinkDefault","pinkDimmer","pinkDimmest","greyStrongest","greyStronger","greyDefault","greyDimmer","greyDimmest","brownStrongest","brownStronger","brownDefault","brownDimmer","brownDimmest","white","black","surfaceBackground","interactiveBackground","interactiveBackgroundActive","interactiveBorder","interactiveBorderHover","brandText","brandTextSecondary","brandTextLight","brandBackground","brandBackgroundDarker","brandBorder","brandAccentStrongest","brandAccentStronger","brandAccentDefault","brandAccentDimmer","brandAccentDimmest","brandBlack"],l=["backgroundRoot","backgroundDefault","backgroundHigher","backgroundHighest","backgroundOverlay","foregroundDefault","foregroundDimmer","foregroundDimmest","outlineDimmest","outlineDimmer","outlineDefault","outlineStronger","outlineStrongest","accentPrimaryStrongest","accentPrimaryStronger","accentPrimaryDefault","accentPrimaryDimmer","accentPrimaryDimmest","accentPositiveStrongest","accentPositiveStronger","accentPositiveDefault","accentPositiveDimmer","accentPositiveDimmest","accentNegativeStrongest","accentNegativeStronger","accentNegativeDefault","accentNegativeDimmer","accentNegativeDimmest","redStrongest","redStronger","redDefault","redDimmer","redDimmest","orangeStrongest","orangeStronger","orangeDefault","orangeDimmer","orangeDimmest","yellowStrongest","yellowStronger","yellowDefault","yellowDimmer","yellowDimmest","limeStrongest","limeStronger","limeDefault","limeDimmer","limeDimmest","greenStrongest","greenStronger","greenDefault","greenDimmer","greenDimmest","tealStrongest","tealStronger","tealDefault","tealDimmer","tealDimmest","blueStrongest","blueStronger","blueDefault","blueDimmer","blueDimmest","blurpleStrongest","blurpleStronger","blurpleDefault","blurpleDimmer","blurpleDimmest","purpleStrongest","purpleStronger","purpleDefault","purpleDimmer","purpleDimmest","magentaStrongest","magentaStronger","magentaDefault","magentaDimmer","magentaDimmest","pinkStrongest","pinkStronger","pinkDefault","pinkDimmer","pinkDimmest","greyStrongest","greyStronger","greyDefault","greyDimmer","greyDimmest","brownStrongest","brownStronger","brownDefault","brownDimmer","brownDimmest","white","black","brandAccentStrongest","brandAccentStronger","brandAccentDefault","brandAccentDimmer","brandAccentDimmest"]},82845:(e,t,n)=>{n.d(t,{Jh:()=>S,Z:()=>U,fu:()=>C,$h:()=>h});var r=n(20837),i=n(66622);let a=JSON.parse('{"abap":{"extensions":[".abap"],"name":"ABAP"},"aes":{"extensions":[".aes"],"name":"Advanced Encryption Standard","shortName":"AES"},"apacheconf":{"extensions":[".apacheconf"],"files":[".htaccess","apache2.conf","httpd.conf"],"name":"Apache Configuration","shortName":"Apache"},"apex":{"extensions":[".cls"],"name":"Apex"},"apl":{"extensions":[".apl",".dyalog"],"name":"APL"},"asn1":{"aliases":["asn"],"extensions":[".asn",".asn1"],"name":"ASN.1"},"assembly":{"aliases":["asm","mips","x86","x86_64","arm","arm64"],"extensions":[".s",".asm"],"icon":"Asm","name":"Assembly"},"audio":{"extensions":[".adp",".au",".snd",".mid",".midi",".kar",".rmi",".mp3",".m4a",".mp4a",".mpga",".mp2",".mp2a",".m2a",".m3a",".oga",".ogg",".spx",".s3m",".sil",".uva",".uvva",".eol",".dra",".dts",".dtshd",".lvp",".pya",".ecelp4800",".ecelp7470",".ecelp9600",".rip",".wav",".weba",".aac",".aif",".aiff",".aifc",".caf",".flac",".mka",".m3u",".wax",".wma",".ram",".ra",".rmp",".xm"],"icon":"Music","name":"Audio","openWith":["media"]},"autohotkey":{"extensions":[".ahk",".ahkl"],"name":"AutoHotkey","shortName":"AHK"},"azcli":{"extensions":[".azcli"],"name":"Azure CLI","shortName":"ACLI"},"ballerina":{"extensions":[".bal"],"icon":"Ballerina","name":"Ballerina"},"basic":{"extensions":[".bas"],"icon":"Basic","name":"BASIC"},"bat":{"extensions":[".bat",".cmd"],"name":"Batch"},"bibtex":{"extensions":[".bib",".bbl"],"name":"BibTeX"},"bicep":{"extensions":[".bicep"],"name":"Bicep"},"blade":{"codeMirrorLanguage":"php","filePattern":"*.{blade,blade.php}","name":"Blade Template","shortName":"Blade","features":{"ai":{"complete":{"enabled":true,"groups":["php"]}}}},"brainfuck":{"extensions":[".b",".bf"],"icon":"Brainf","name":"Brainfuck"},"c":{"extensions":[".c",".h"],"icon":"C","name":"C","features":{"ai":{"complete":{"enabled":true}}}},"cameligo":{"extensions":[".mligo"],"name":"Cameligo"},"cargo-lock":{"codeMirrorLanguage":"toml","files":["cargo.lock"],"icon":"Rust","name":"Cargo Lockfile"},"cargo-package":{"codeMirrorLanguage":"toml","files":["Cargo.toml"],"icon":"Rust","name":"Cargo Package","features":{"ai":{"complete":{"enabled":true,"groups":["rust"]}}}},"clojure":{"extensions":[".clj",".cljc",".cljx"],"icon":"Clojure","name":"Clojure"},"clojurescript":{"extensions":[".cljs"],"icon":"Clojure","name":"ClojureScript"},"cmake":{"extensions":[".cmake",".cmake.in"],"files":["CMakeLists.txt"],"name":"CMake"},"cobol":{"extensions":[".cob",".cbl",".ccp",".cobol"],"name":"COBOL"},"coffeescript":{"extensions":[".coffee"],"icon":"Coffeescript","name":"CoffeeScript"},"composer-lock":{"codeMirrorLanguage":"json","files":["composer.lock"],"icon":"Php","name":"Composer Lockfile"},"composer-package":{"codeMirrorLanguage":"json","files":["composer.json"],"icon":"Php","name":"Composer Package","features":{"ai":{"complete":{"enabled":true,"groups":["php"]}}}},"cpp":{"aliases":["c plus plus"],"extensions":[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],"icon":"CPlusPlus","name":"C++","features":{"ai":{"complete":{"enabled":true}}}},"cql":{"extensions":[".cql"],"icon":"Sql","name":"Cassandra","shortName":"CQL","features":{"ai":{"complete":{"enabled":true,"groups":["sql"]}}}},"crystal":{"extensions":[".cr"],"icon":"Crystal","name":"Crystal"},"csharp":{"aliases":["c sharp"],"extensions":[".cs",".csx",".cake"],"icon":"CSharp","name":"C#","features":{"ai":{"complete":{"enabled":true}}}},"css":{"extensions":[".css"],"icon":"Css","name":"CSS","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"csv":{"extensions":[".csv"],"icon":"Csv","name":"Comma Separated Values","shortName":"CSV"},"cython":{"aliases":["pyrex"],"extensions":[".pyx",".pxd",".pxi"],"icon":"Python","name":"Cython","features":{"ai":{"complete":{"enabled":true,"groups":["python"]}}}},"d":{"extensions":[".d"],"icon":"D","name":"D","features":{"ai":{"complete":{"enabled":true}}}},"dart":{"extensions":[".dart"],"icon":"Dart","name":"Dart"},"diff":{"extensions":[".diff",".patch"],"name":"Diff"},"dockerfile":{"extensions":[".dockerfile"],"files":["Dockerfile"],"icon":"Docker","name":"Dockerfile"},"dotreplit":{"codeMirrorLanguage":"toml","files":[".replit"],"icon":"Replit","name":"Replit Configuration","shortName":"Replit"},"dtd":{"codeMirrorLanguage":"xml","extensions":[".dtd"],"name":"Document Type Definition","shortName":"DTD"},"dylan":{"extensions":[".dylan",".dyl",".intr",".lid"],"name":"Dylan"},"ecl":{"extensions":[".ecl"],"name":"ECL"},"edn":{"extensions":[".edn"],"icon":"Clojure","name":"Extensible Data Notation","shortName":"EDN"},"eiffel":{"extensions":[".e"],"name":"Eiffel"},"ejs":{"extensions":[".ejs"],"name":"EJS"},"elisp":{"extensions":[".el"],"name":"Emacs Lisp","shortName":"Elisp"},"elixir":{"extensions":[".ex",".exs"],"icon":"Elixir","name":"Elixir"},"elm":{"extensions":[".elm"],"icon":"Elm","name":"Elm"},"enbf":{"extensions":[".ebnf"],"name":"Extended Backus-Naur Form","shortName":"EBNF"},"env":{"aliases":["environment"],"codeMirrorLanguage":"shell","extensions":[".env"],"name":"Environment Variables","shortName":"ENV"},"erb":{"extensions":[".erb",".rhtml",".rhtm"],"icon":"Ruby","name":"Embedded Ruby","shortName":"ERB"},"erlang":{"extensions":[".erl",".hrl"],"name":"Erlang"},"excalidraw":{"codeMirrorLanguage":"null","extensions":[".draw"],"icon":"Draw","name":"Excalidraw","openWith":["draw"]},"factor":{"extensions":[".factor"],"files":[".factor-boot-rc",".factor-rc"],"name":"Factor"},"flow9":{"extensions":[".flow"],"name":"Flow"},"fluent":{"extensions":[".ftl"],"name":"Fluent"},"forth":{"extensions":[".forth",".fth",".4th"],"icon":"Forth","name":"Forth"},"fortran":{"extensions":[".f",".for",".f90",".f95",".f03"],"name":"Fortran"},"freemarker2":{"extensions":[".ftlh",".ftlx"],"name":"FreeMarker 2"},"fsharp":{"aliases":["f sharp"],"extensions":[".fs",".fsi",".fsx",".fsscript"],"icon":"FSharp","name":"F#"},"gdscript":{"extensions":[".gd"],"name":"Godot Script","shortName":"GDScript"},"glsl":{"extensions":[".vert",".tesc",".tese",".geom",".frag",".comp",".glsl",".glslv",".glslf",".glslg"],"name":"GLSL"},"go":{"aliases":["golang"],"extensions":[".go"],"icon":"Go","name":"Go","features":{"ai":{"complete":{"enabled":true}}}},"graphql":{"extensions":[".graphql",".gql"],"icon":"Graphql","name":"GraphQL"},"groovy":{"extensions":[".groovy",".gvy",".gy",".gsh"],"name":"Groovy"},"handlebars":{"extensions":[".handlebars",".hbs"],"name":"Handlebars"},"haskell":{"extensions":[".hs",".lhs"],"icon":"Haskell","name":"Haskell","features":{"ai":{"complete":{"enabled":true}}}},"haxe":{"extensions":[".hx",".hxsl"],"name":"Haxe"},"hcl":{"extensions":[".tf",".tfvars",".hcl"],"name":"HashiCorp Configuration","shortName":"HCL"},"hlsl":{"extensions":[".hlsl",".hlsli",".fx",".fxh",".cginc"],"name":"High Level Shading Language","shortName":"HLSL"},"html":{"extensions":[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],"icon":"Html5","name":"HTML","features":{"emmet":true,"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"hxml":{"extensions":[".hxml"],"name":"HXML"},"idl":{"extensions":[".dlm"],"name":"Interactive Data Language","shortName":"IDL"},"ignore":{"aliases":["gitignore","dockerignore","npmignore","eslintignore","prettierignore","stylelintignore"],"files":[".gitignore",".dockerignore",".npmignore",".eslintignore",".prettierignore",".stylelintignore"],"name":"Ignore"},"image":{"extensions":[".exr",".apng",".bmp",".cgm",".drle",".emf",".fits",".g3",".gif",".heic",".heics",".heif",".heifs",".hej2",".hsj2",".ief",".jls",".jp2",".jpg2",".jpeg",".jpg",".jpe",".jph",".jhc",".jpm",".jpx",".jpf",".jxr",".jxra",".jxrs",".jxs",".jxsc",".jxsi",".jxss",".ktx",".png",".btif",".pti",".sgi",".t38",".tif",".tiff",".tfx",".psd",".azv",".uvi",".uvvi",".uvg",".uvvg",".djvu",".djv",".sub",".dwg",".dxf",".fbs",".fpx",".fst",".mmr",".rlc",".ico",".dds",".mdi",".wdp",".npx",".tap",".vtf",".wbmp",".xif",".pcx",".webp",".wmf",".3ds",".ras",".cmx",".fh",".fhc",".fh4",".fh5",".fh7",".jng",".sid",".pic",".pct",".pnm",".pbm",".pgm",".ppm",".rgb",".tga",".xbm",".xpm",".xwd"],"icon":"Image","name":"Image","openWith":["media"]},"ini":{"extensions":[".ini",".properties",".gitconfig"],"files":["config",".gitattributes",".gitconfig",".editorconfig",".properties"],"name":"INI"},"java":{"extensions":[".java",".jav"],"icon":"Java","name":"Java","features":{"ai":{"complete":{"enabled":true}}}},"javascript":{"aliases":["node","ecmascript","es"],"extensions":[".js",".es6",".mjs",".cjs"],"files":["jakefile"],"icon":"Javascript","name":"JavaScript","shortName":"JS","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"javascriptreact":{"codeMirrorLanguage":"JSX","extensions":[".jsx"],"icon":"React","name":"JavaScript React","shortName":"JSX","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"jinja":{"aliases":["jinja2"],"codeMirrorLanguage":"html","extensions":[".jinja",".j2",".jinja2"],"name":"Jinja"},"json":{"extensions":[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],"icon":"Json","name":"JSON","features":{"ai":{"complete":{"enabled":true,"groups":"all"}}}},"json5":{"codeMirrorLanguage":"javascript","extensions":[".json5"],"icon":"Json","name":"JSON5","features":{"ai":{"complete":{"enabled":true,"groups":"all"}}}},"jsonc":{"codeMirrorLanguage":"json","extensions":[".jsonc"],"icon":"Json","name":"JSON with Comments","shortName":"JSONC","features":{"ai":{"complete":{"enabled":true,"groups":"all"}}}},"jsonld":{"codeMirrorLanguage":"json","extensions":[".jsonld"],"icon":"Json","name":"JSON-LD","features":{"ai":{"complete":{"enabled":true,"groups":"all"}}}},"julia":{"extensions":[".jl"],"icon":"Julia","name":"Julia","features":{"ai":{"complete":{"enabled":true}}}},"kotlin":{"extensions":[".kt",".kts"],"icon":"Kotlin","name":"Kotlin"},"laravel-artisan":{"codeMirrorLanguage":"php","files":["artisan"],"icon":"Php","name":"Laravel Artisan"},"latex":{"aliases":["tex","stex"],"extensions":[".tex",".latex"],"name":"LaTeX"},"less":{"extensions":[".less"],"name":"Less"},"lexon":{"extensions":[".lex"],"name":"Lexon"},"lezer":{"extensions":[".lezer",".grammar"],"name":"Lezer"},"liquid":{"extensions":[".liquid"],"name":"Liquid"},"lisp":{"extensions":[".lisp",".lsp",".l",".fasl"],"icon":"Lisp","name":"Lisp","features":{"ai":{"complete":{"enabled":true}}}},"livescript":{"aliases":["live-script"],"extensions":[".ls","._ls"],"files":["Slakefile"],"name":"LiveScript","shortName":"LS"},"lua":{"extensions":[".lua"],"icon":"Lua","name":"Lua","features":{"ai":{"complete":{"enabled":true}}}},"m3":{"extensions":[".m3",".i3",".mg",".ig"],"name":"Modula-3","shortName":"M3"},"makefile":{"extensions":[".mak",".MAKE"],"files":["makefile","GNUmakefile"],"name":"Makefile","features":{"indentation":"tabs"}},"mariadb-sql":{"aliases":["mariadb","mariadb sql"],"icon":"Sql","name":"MariaDB","features":{"ai":{"complete":{"enabled":true,"groups":["sql"]}}}},"markdown":{"extensions":[".md",".mdx",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],"icon":"Markdown","name":"Markdown","features":{"ai":{"complete":{"enabled":false,"skipComplexProcessing":true}}}},"mathematica":{"aliases":["mma","wolfram"],"extensions":[".mathematica",".nb"],"name":"Mathematica"},"matlab":{"aliases":["octave"],"extensions":[".matlab",".m"],"name":"MATLAB"},"modelica":{"extensions":[".mo"],"name":"Modelica"},"ms-sql":{"aliases":["mssql","ms sql"],"icon":"Sql","name":"Microsoft SQL","shortName":"MS-SQL","features":{"ai":{"complete":{"enabled":true,"groups":["sql"]}}}},"msdax":{"aliases":["morphx","dynamicsax","x++","x plus plus"],"extensions":[".msdax",".dax"],"name":"Dynamics AX","shortName":"MSDAX"},"mysql":{"extensions":[".mysql"],"icon":"Sql","name":"MySQL","features":{"ai":{"complete":{"enabled":true,"groups":["sql"]}}}},"nginx":{"extensions":[".nginxconf",".nginx",".vhost"],"files":["nginx.conf"],"name":"Nginx"},"nim":{"extensions":[".nim"],"icon":"Nim","name":"Nim"},"nix":{"extensions":[".nix"],"icon":"Nix","name":"Nix"},"npm-lock":{"codeMirrorLanguage":"json","files":["package-lock.json"],"icon":"Npm","name":"NPM Lockfile"},"npm-package":{"codeMirrorLanguage":"json","files":["package.json"],"icon":"Npm","name":"NPM Package","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"npm-rc":{"codeMirrorLanguage":"ini","files":[".npmrc"],"icon":"Npm","name":"NPM RC"},"nvm-rc":{"codeMirrorLanguage":"null","files":[".nvmrc"],"icon":"Node","name":"NVM"},"objective-c":{"name":"Objective-C","shortName":"ObjC"},"objective-cpp":{"extensions":[".mm"],"name":"Objective-C++","shortName":"ObjC++"},"ocaml":{"extensions":[".ml",".mli"],"icon":"Ocaml","name":"OCaml","features":{"ai":{"complete":{"enabled":true}}}},"oz":{"extensions":[".oz"],"name":"Oz"},"pascal":{"extensions":[".pas",".p",".pp"],"name":"Pascal"},"pascaligo":{"extensions":[".ligo"],"name":"Pascaligo"},"pdf":{"extensions":[".pdf"],"icon":"Pdf","name":"PDF","openWith":["media"]},"perl":{"extensions":[".pl"],"icon":"Perl","name":"Perl"},"perl6":{"aliases":["raku","perl 6"],"extensions":[".pl6",".p6",".pm6",".pod6",".t6",".raku",".rakumod",".rakutest"],"icon":"Raku","name":"Raku"},"pgsql":{"extensions":[".pgsql",".postgres",".psql"],"icon":"Sql","name":"PostgreSQL","shortName":"Postgres","features":{"ai":{"complete":{"enabled":true,"groups":["sql"]}}}},"php":{"extensions":[".php",".php3",".php4",".php5",".php7",".phtml",".ctp"],"icon":"Php","name":"PHP","features":{"ai":{"complete":{"enabled":true,"groups":["php"]}}}},"pla":{"extensions":[".pla"],"name":"PLA"},"plaintext":{"aliases":["txt"],"extensions":[".txt"],"icon":"Txt","name":"Plain Text","shortName":"Text"},"plsql":{"aliases":["pl sql"],"extensions":[".pls",".pks",".pkb",".plsql"],"icon":"Sql","name":"PL/SQL","features":{"ai":{"complete":{"enabled":true,"groups":["sql"]}}}},"postiats":{"aliases":["ats"],"extensions":[".dats",".sats",".hats"],"name":"ATS2"},"powerquery":{"extensions":[".pq",".pqm"],"name":"Power Query"},"powershell":{"extensions":[".ps1",".psm1",".psd1"],"name":"PowerShell"},"processing":{"extensions":[".pde"],"icon":"Processing","name":"Processing"},"profile":{"codeMirrorLanguage":"shell","files":[".profile",".login",".bash_profile",".zshrc",".bashrc"],"icon":"Shell","name":"Profile"},"prolog":{"extensions":[".pro",".plg"],"name":"Prolog"},"protobuf":{"extensions":[".proto"],"name":"Protocol Buffers","shortName":"Protobuf"},"pug":{"aliases":["jade"],"extensions":[".pug",".jade"],"name":"Pug"},"python":{"aliases":["py","python2","python3"],"extensions":[".py",".rpy",".pyw",".gyp",".gypi",".cpy"],"icon":"Python","name":"Python","features":{"ai":{"complete":{"enabled":true,"groups":["python"]}}}},"python-requirements":{"files":["requirements.txt"],"icon":"Python","name":"Python Package"},"qml":{"extensions":[".qml",".qbs"],"name":"Qt Modelling Language","shortName":"QML"},"qsharp":{"aliases":["q sharp"],"extensions":[".qs"],"name":"Q#"},"r":{"extensions":[".r",".rhistory",".rmd",".rprofile",".rt"],"icon":"R","name":"R","features":{"ai":{"complete":{"enabled":true}}}},"racket":{"extensions":[".rkt"],"icon":"Scheme","name":"Racket","features":{"ai":{"complete":{"enabled":true}}}},"razor":{"extensions":[".cshtml"],"name":"Razor"},"reason":{"aliases":["reasonml"],"extensions":[".re",".rei"],"icon":"Reasonml","name":"Reason"},"redis":{"extensions":[".redis"],"name":"Redis"},"restructuredtext":{"extensions":[".rst"],"name":"Restructured Text","shortName":"RST"},"ruby":{"extensions":[".rb",".rbx",".rjs",".gemspec"],"files":["rakefile"],"icon":"Ruby","name":"Ruby","features":{"ai":{"complete":{"enabled":true}}}},"ruby-gems":{"codeMirrorLanguage":"ruby","files":["Gemfile","Gemfile.lock",".gemspec"],"icon":"Ruby","name":"Ruby Gems"},"rust":{"extensions":[".rs",".rslib"],"icon":"Rust","name":"Rust","features":{"ai":{"complete":{"enabled":true,"groups":["rust"]}}}},"sass":{"extensions":[".sass"],"icon":"Sass","name":"Sass"},"sb":{"extensions":[".sb"],"name":"Small Basic","shortName":"SB"},"scala":{"extensions":[".scala",".sc",".sbt"],"icon":"Scala","name":"Scala","features":{"ai":{"complete":{"enabled":true}}}},"scheme":{"extensions":[".scm",".ss",".sch"],"icon":"Scheme","name":"Scheme","features":{"ai":{"complete":{"enabled":true}}}},"scss":{"extensions":[".scss"],"icon":"Sass","name":"SCSS"},"shellscript":{"aliases":["sh","bash","zsh","ksh"],"codeMirrorLanguage":"shell","extensions":[".sh",".bash",".zsh",".ksh",".fish"],"icon":"Terminal","name":"Shell Script","shortName":"Shell","features":{"ai":{"complete":{"enabled":true}}}},"smarty":{"extensions":[".tpl"],"name":"Smarty Template","shortName":"Smarty"},"sml":{"extensions":[".sml",".sig",".fun"],"name":"Standard ML","shortName":"SML"},"solidity":{"aliases":["sol"],"extensions":[".sol"],"icon":"Sol","name":"Solidity","features":{"ai":{"complete":{"enabled":true}}}},"source-map":{"codeMirrorLanguage":"json","extensions":[".map"],"icon":"Json","name":"Source Map"},"sparql":{"extensions":[".rq"],"name":"SPARQL"},"sql":{"extensions":[".sql",".ddl",".prc",".tab",".udf",".viw"],"icon":"Sql","name":"SQL","features":{"ai":{"complete":{"enabled":true,"groups":["sql"]}}}},"sqlite":{"extensions":[".sqlite"],"icon":"Sqlite","name":"SQLite","features":{"ai":{"complete":{"enabled":true,"groups":["sql"]}}}},"squirrel":{"extensions":[".nut"],"name":"Squirrel"},"st":{"extensions":[".st",".iecst",".iecplc",".lc3lib"],"name":"Structured Text"},"stylus":{"extensions":[".styl"],"name":"Stylus"},"svelte":{"extensions":[".svelte"],"icon":"Svelte","name":"Svelte","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"svelte-config":{"codeMirrorLanguage":"javascript","filePattern":"svelte.config.{cjs,mjs,js}","icon":"Svelte","name":"Svelte Config","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"svg":{"codeMirrorLanguage":"xml","extensions":[".svg",".svgz"],"icon":"Svg","name":"Scalable Vector Graphics","openWith":["codeEditor","media","history"],"shortName":"SVG","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"swift":{"extensions":[".swift"],"icon":"Swift","name":"Swift","features":{"ai":{"complete":{"enabled":true}}}},"systemverilog":{"extensions":[".sv",".svh"],"name":"SystemVerilog","shortName":"SV"},"tcl":{"extensions":[".tcl"],"name":"Tcl"},"textile":{"extensions":[".textile"],"name":"Textile"},"toml":{"extensions":[".toml"],"icon":"Toml","name":"TOML","features":{"ai":{"complete":{"enabled":true,"groups":"all"}}}},"tsv":{"extensions":[".tsv"],"icon":"Csv","name":"Tab Separated Values","shortName":"TSV"},"twig":{"extensions":[".twig"],"name":"Twig"},"typescript":{"extensions":[".ts",".mts",".cts"],"icon":"Typescript","name":"TypeScript","shortName":"TS","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"typescript-config":{"codeMirrorLanguage":"json","files":["tsconfig.json"],"icon":"Typescript","name":"TypeScript Config","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"typescriptreact":{"codeMirrorLanguage":"TSX","extensions":[".tsx"],"icon":"React","name":"TypeScript React","shortName":"TSX","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"v":{"aliases":["vlang"],"extensions":[".v"],"name":"V"},"vala":{"extensions":[".vala",".vapi"],"name":"Vala"},"vb":{"extensions":[".vb"],"name":"Visual Basic","shortName":"VB"},"vbscript":{"extensions":[".vbs"],"name":"VBScript"},"velocity":{"codeMirrorLanguage":"html","extensions":[".vtl"],"name":"Velocity Template","shortName":"Velocity"},"verilog":{"extensions":[".vh"],"name":"Verilog"},"video":{"extensions":[".3gpp",".3gp",".3g2",".h263",".h261",".h264",".jpgv",".jpgm",".mj2",".mjp2",".mp4",".mp4v",".mpg4",".mpeg",".mpg",".mpe",".m1v",".m2v",".ogv",".qt",".mov",".uvh",".uvvh",".uvm",".uvvm",".uvp",".uvvp",".uvs",".uvvs",".uvv",".uvvv",".dvb",".fvt",".mxu",".m4u",".pyv",".uvu",".uvvu",".viv",".webm",".f4v",".fli",".flv",".m4v",".mkv",".mk3d",".mks",".mng",".asf",".asx",".vob",".wm",".wmv",".wmx",".wvx",".avi",".movie",".smv"],"icon":"Play","name":"Video","openWith":["media"]},"vim-script":{"aliases":["vim","viml","nvim"],"extensions":[".vim",".vba",".vimrc",".vmb"],"files":[".exrc",".gvimrc",".nvimrc",".vimrc","_vimrc","gvimrc","nvimrc","vimrc"],"name":"Vim Script"},"vue":{"extensions":[".vue"],"icon":"Vue","name":"Vue","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"webassembly":{"extensions":[".wasm",".wat"],"icon":"Wasm","name":"WebAssembly","shortName":"WASM"},"webidl":{"extensions":[".webidl"],"name":"WebIDL"},"webpack-config":{"codeMirrorLanguage":"javascript","filePattern":"webpack.config.{cjs,mjs,js}","icon":"Webpack","name":"Webpack Config","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"xml":{"extensions":[".xml",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".opf",".xsl"],"name":"XML","features":{"ai":{"complete":{"enabled":true,"groups":["web"]}}}},"xquery":{"extensions":[".xq",".xquery",".xqm",".xql",".xqy"],"name":"XQuery"},"yaml":{"aliases":["yml"],"extensions":[".yaml",".yml"],"icon":"Yaml","name":"YAML","features":{"indentation":"spaces","ai":{"complete":{"enabled":true,"groups":"all"}}}},"yarn-lock":{"codeMirrorLanguage":"yaml","files":["yarn.lock"],"icon":"Yarn","name":"Yarn Lockfile"},"zig":{"extensions":[".zig",".zir"],"name":"Zig","features":{"ai":{"complete":{"enabled":true}}}},"zip":{"extensions":[".zip"],"icon":"Zip","name":"Zip Archive","openWith":[],"shortName":"Zip"}}');var o=n(78542),s=n(13454),l=n(27189),c=n(5482),u=n(81272),d=n(79557),p=n(1979),f=d.e.filter(function(e){return"Markdown"!==e.name});let v=[u.t$.of({name:"CSS",extensions:["css"],load:function(){return(0,s._)(function(){return(0,c.YH)(this,function(e){return[2,(0,p.jc)(function(){return Promise.all([n.e(2406),n.e(9501),n.e(882)]).then(n.bind(n,60882))}).then(function(e){return e.default})]})})()}}),u.t$.of({name:"Markdown",extensions:["md","markdown","mkd","mdx"],load:function(){return(0,s._)(function(){return(0,c.YH)(this,function(e){return[2,(0,p.jc)(function(){return Promise.all([n.e(3936),n.e(2406),n.e(7729),n.e(9501),n.e(1572),n.e(467),n.e(755),n.e(7901)]).then(n.bind(n,17901))}).then(function(e){return e.markdown(f)})]})})()}}),u.t$.of({name:"JavaScript",alias:["ecmascript","js","node","JSX"],extensions:["js","mjs","cjs","jsx"],load:function(){return(0,s._)(function(){return(0,c.YH)(this,function(e){return[2,(0,p.jc)(function(){return Promise.all([n.e(2406),n.e(7729),n.e(9501),n.e(1572),n.e(467),n.e(7140)]).then(n.bind(n,7140))}).then(function(e){return e.jsLanguageSupport})]})})()}}),u.t$.of({name:"TSX",extensions:["tsx"],load:function(){return(0,s._)(function(){return(0,c.YH)(this,function(e){return[2,(0,p.jc)(function(){return Promise.all([n.e(2406),n.e(7729),n.e(9501),n.e(1572),n.e(467),n.e(7140)]).then(n.bind(n,7140))}).then(function(e){return e.tsxLanguageSupport})]})})()}}),u.t$.of({name:"TypeScript",alias:["ts"],extensions:["ts"],load:function(){return(0,s._)(function(){return(0,c.YH)(this,function(e){return[2,(0,p.jc)(function(){return Promise.all([n.e(2406),n.e(7729),n.e(9501),n.e(1572),n.e(467),n.e(7140)]).then(n.bind(n,7140))}).then(function(e){return e.tsLanguageSupport})]})})()}}),u.t$.of({name:"HTMLish",extensions:["ejs","erb","cshtml"],load:function(){var e=d.e.find(function(e){return"HTML"===e.name});if(!e)throw Error("Expected HTML language");return e.load()}}),u.t$.of({name:"XMLish",extensions:["csproj"],load:function(){var e=d.e.find(function(e){return"XML"===e.name});if(!e)throw Error("Expected XML language");return e.load()}}),u.t$.of({name:"YAMLish",filename:/^yarn.lock$/,load:function(){var e=d.e.find(function(e){return"YAML"===e.name});if(!e)throw Error("Expected YAML language");return e.load()}}),u.t$.of({name:"Processing",extensions:["pde"],load:function(){var e=d.e.find(function(e){return"Java"===e.name});if(!e)throw Error("Expected Java language");return e.load()}}),u.t$.of({name:"Reason",extensions:["re"],load:function(){var e=d.e.find(function(e){return"OCaml"===e.name});if(!e)throw Error("Expected OCaml language");return e.load()}}),u.t$.of({name:"MySQL",extensions:["mysql"],load:function(){var e=d.e.find(function(e){return"MySQL"===e.name});if(!e)throw Error("Expected MySQL language");return e.load()}}),u.t$.of({name:"PGSQL",extensions:["pgsql","psql"],load:function(){var e=d.e.find(function(e){return"PostgreSQL"===e.name});if(!e)throw Error("Expected PGSQL language");return e.load()}}),u.t$.of({name:"SQLite",extensions:["sqlite"],load:function(){var e=d.e.find(function(e){return"SQLite"===e.name});if(!e)throw Error("Expected mySQL language");return e.load()}}),u.t$.of({name:"Elixir",extensions:["ex","exs"],load:function(){return(0,s._)(function(){var e;return(0,c.YH)(this,function(t){switch(t.label){case 0:return[4,(0,p.jc)(function(){return n.e(3417).then(n.bind(n,63417))})];case 1:return e=t.sent().elixir,[2,new u.Yy(u.Tg.define(e))]}})})()}}),u.t$.of({name:"Lezer",extensions:["grammar"],load:function(){return(0,s._)(function(){return(0,c.YH)(this,function(e){switch(e.label){case 0:return[4,(0,p.jc)(function(){return Promise.all([n.e(2406),n.e(8900)]).then(n.bind(n,38900))})];case 1:return[2,(0,e.sent().lezer)()]}})})()}}),u.t$.of({name:"Nix",extensions:["nix"],load:function(){return(0,s._)(function(){return(0,c.YH)(this,function(e){switch(e.label){case 0:return[4,(0,p.jc)(function(){return Promise.all([n.e(2406),n.e(7729),n.e(938)]).then(n.bind(n,80938))})];case 1:return[2,(0,e.sent().nix)()]}})})()}}),u.t$.of({name:"GraphQL",extensions:["graphql","gql"],load:function(){return(0,s._)(function(){return(0,c.YH)(this,function(e){switch(e.label){case 0:return[4,(0,p.jc)(function(){return Promise.all([n.e(5356),n.e(2406),n.e(8626),n.e(7118)]).then(n.bind(n,57118))})];case 1:return[2,(0,e.sent().graphqlLanguageSupport)()]}})})()}}),u.t$.of({name:"DotReplit",filename:/^\.replit$/,load:function(){return(0,s._)(function(){var e;return(0,c.YH)(this,function(t){switch(t.label){case 0:return[4,(0,p.jc)(function(){return n.e(3562).then(n.bind(n,3562))})];case 1:return e=t.sent().toml,[2,new u.Yy(u.Tg.define(e))]}})})()}}),u.t$.of({name:"Solidity",extensions:["sol"],load:function(){return(0,s._)(function(){var e;return(0,c.YH)(this,function(t){switch(t.label){case 0:return[4,(0,p.jc)(function(){return n.e(9659).then(n.bind(n,69659))})];case 1:return e=t.sent().solidity,[2,new u.Yy(u.Tg.define(e))]}})})()}}),u.t$.of({name:"Nim",extensions:["nim"],load:function(){return(0,s._)(function(){var e;return(0,c.YH)(this,function(t){switch(t.label){case 0:return[4,(0,p.jc)(function(){return n.e(344).then(n.bind(n,30344))})];case 1:return e=t.sent().nim,[2,new u.Yy(u.Tg.define(e()))]}})})()}}),u.t$.of({name:"Basic",extensions:["bas"],load:function(){return(0,s._)(function(){var e;return(0,c.YH)(this,function(t){switch(t.label){case 0:return[4,(0,p.jc)(function(){return n.e(2186).then(n.bind(n,92186))})];case 1:return e=t.sent().vbScript,[2,new u.Yy(u.Tg.define(e))]}})})()}}),u.t$.of({name:"Octave",extensions:["m"],load:function(){return(0,s._)(function(){var e;return(0,c.YH)(this,function(t){switch(t.label){case 0:return[4,(0,p.jc)(function(){return n.e(6641).then(n.bind(n,26641))})];case 1:return e=t.sent().octave,[2,new u.Yy(u.Tg.define(e))]}})})()}}),u.t$.of({name:"Svelte",extensions:["svelte"],load:function(){return(0,s._)(function(){return(0,c.YH)(this,function(e){switch(e.label){case 0:return[4,(0,p.jc)(function(){return Promise.all([n.e(2406),n.e(7729),n.e(9501),n.e(1572),n.e(467),n.e(3272)]).then(n.bind(n,3272))})];case 1:return[2,(0,e.sent().svelte)()]}})})()}}),u.t$.of({name:"CSharp",alias:["C#"],extensions:["cs"],load:function(){return(0,s._)(function(){return(0,c.YH)(this,function(e){switch(e.label){case 0:return[4,(0,p.jc)(function(){return Promise.all([n.e(2406),n.e(7177)]).then(n.bind(n,27177))})];case 1:return[2,(0,e.sent().csharp)()]}})})()}})].concat((0,l._)(d.e));var g=["codeEditor","history"],m=function(){"use strict";function e(t){if((0,o._)(this,e),this.id=t.id,this.aliases=t.aliases||[],this.name=t.name,this.openWith=null!==(s=t.openWith)&&void 0!==s?s:g,this.defaultPane=null!==(l=this.openWith[0])&&void 0!==l?l:null,this.shortName=t.shortName,this.extensions=t.extensions||void 0,this.files=t.files||void 0,this.filePattern=b(t.filePattern),this.features=null!==(c=t.features)&&void 0!==c?c:{},this.definedFeatures=new Set(Object.keys(this.features)),this.id=this.id.toLowerCase(),this.aliases=this.aliases.map(function(e){return e.toLowerCase()}),this.extensions=null===(n=this.extensions)||void 0===n?void 0:n.map(function(e){return e.toLowerCase()}),this.files=null===(r=this.files)||void 0===r?void 0:r.map(function(e){return e.toLowerCase()}),this.aliases.includes(this.id)||this.aliases.push(this.id),this.aliases.includes(this.name.toLowerCase())||this.aliases.push(this.name.toLowerCase()),this.shortName&&!this.aliases.includes(this.shortName.toLowerCase())&&this.aliases.push(this.shortName.toLowerCase()),this.unassociated=!(null===(i=this.extensions)||void 0===i?void 0:i.length)&&!(null===(a=this.files)||void 0===a?void 0:a.length)&&!this.filePattern,this.codeMirrorLanguage=null,this.openWith.includes("codeEditor")&&"null"!==t.codeMirrorLanguage&&null!==t.codeMirrorLanguage){if(""===t.codeMirrorLanguage)throw Error('Unknown codeMirrorLanguage for "'.concat(this.id,'": (empty string)'));if(t.codeMirrorLanguage){var n,r,i,a,s,l,c,d=u.t$.matchLanguageName(v,t.codeMirrorLanguage);if(!d)throw Error('Unknown codeMirrorLanguage for "'.concat(this.id,'": ').concat(t.codeMirrorLanguage));this.codeMirrorLanguage=d}if(!this.codeMirrorLanguage){var p=function(e){var t=!0,n=!1,r=void 0;try{for(var i,a=e.aliases[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value,s=u.t$.matchLanguageName(v,o);if(null!==s)return s}}catch(e){n=!0,r=e}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}if(e.extensions){var l=!0,c=!1,d=void 0;try{for(var p,f=e.extensions[Symbol.iterator]();!(l=(p=f.next()).done);l=!0){var g=p.value,m=u.t$.matchFilename(v,g);if(null!==m)return m}}catch(e){c=!0,d=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw d}}}if(e.files){var h=!0,b=!1,y=void 0;try{for(var U,E=e.files[Symbol.iterator]();!(h=(U=E.next()).done);h=!0){var S=U.value,C=u.t$.matchFilename(v,S);if(null!==C)return C}}catch(e){b=!0,y=e}finally{try{h||null==E.return||E.return()}finally{if(b)throw y}}}return null}(this);p&&(this.codeMirrorLanguage=p)}}}var t=e.prototype;return t.matchesPath=function(e){return h(e,this)},t.matchesAlias=function(e){return this.aliases.includes(e.toLowerCase())},t.hasFeature=function(e){return this.definedFeatures.has(e)},t.getFeature=function(e){var t;return this.definedFeatures.has(e)&&null!==(t=this.features[e])&&void 0!==t?t:null},e}();function h(e,t){var n,r,i,a,o=e.lastIndexOf("."),s=o>0?e.slice(o).toLowerCase():"",l=e.slice(e.lastIndexOf("/")+1).toLowerCase();return null!==(a=(null===(n=t.extensions)||void 0===n?void 0:n.includes(l))||(null===(r=t.extensions)||void 0===r?void 0:r.includes(s))||(null===(i=t.files)||void 0===i?void 0:i.includes(l))||y(l,t.filePattern)||y(e,t.filePattern))&&void 0!==a&&a}function b(e,t){return e?e instanceof RegExp?e:(0,p.tL)(e,t)||void 0:void 0}function y(e,t){var n=b(t);return!!n&&null!=e.match(n)}function U(e){return e&&(e.extensions&&e.extensions.length>0||e.files&&e.files.length>0||e.filePattern)?e:null}var E=n(39487),S=new(function(){"use strict";function e(){(0,o._)(this,e),this.types=new Set,this.allIds=new Set,this.aliasesToType=new Map,this.extensionsToType=new Map,this.filesToType=new Map}var t=e.prototype;return t.register=function(e){if(!(e instanceof m&&this.types.has(e))){var t=e instanceof m?e:new m(e);if(this.allIds.has(t.id))throw Error('File type with id "'.concat(t.id,'" already exists'));this.types.add(t),this.allIds.add(t.id);var n=!0,r=!1,i=void 0;try{for(var a,o=t.aliases[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value,l=this.aliasesToType.get(s);if(l)throw Error('File type "'.concat(t.id,'" has alias "').concat(s,'" that already exists on file type "').concat(l.id,'"'));this.aliasesToType.set(s,t)}}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}if(t.extensions){var c=!0,u=!1,d=void 0;try{for(var p,f=t.extensions[Symbol.iterator]();!(c=(p=f.next()).done);c=!0){var v=p.value,g=this.extensionsToType.get(v);if(g)throw Error('File type "'.concat(t.id,'" is overriding extension "').concat(v,'" from "').concat(g.id,'"'));this.extensionsToType.set(v,t)}}catch(e){u=!0,d=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw d}}}if(t.files){var h=!0,b=!1,y=void 0;try{for(var U,E=t.files[Symbol.iterator]();!(h=(U=E.next()).done);h=!0){var S=U.value,C=this.filesToType.get(S);if(C)throw Error("File type ".concat(t.id,' is overriding file "').concat(S,'" from "').concat(C.id,'"'));this.filesToType.set(S,t)}}catch(e){b=!0,y=e}finally{try{h||null==E.return||E.return()}finally{if(b)throw y}}}}},t.has=function(e){var t=e.toLowerCase();if(this.aliasesToType.has(t)||this.extensionsToType.has(t)||this.filesToType.has(t))return!0;var n=!0,r=!1,i=void 0;try{for(var a,o=this.types[Symbol.iterator]();!(n=(a=o.next()).done);n=!0)if(a.value.matchesPath(e))return!0}catch(e){r=!0,i=e}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return!1},t.from=function(e){var t=e.toLowerCase(),n=this.aliasesToType.get(t);if(n)return n;var r=this.extensionsToType.get(t);if(r)return r;var i=this.filesToType.get(t);if(i)return i;var a=!0,o=!1,s=void 0;try{for(var l,c=this.types[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var u=l.value;if(u.matchesPath(e))return u}}catch(e){o=!0,s=e}finally{try{a||null==c.return||c.return()}finally{if(o)throw s}}return null},t.filterByFeature=function(t,n){var r=new e,i=!0,a=!1,o=void 0;try{for(var s,l=this.types[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value,u=c.getFeature(t);null!==u&&(!n||n(u))&&r.register(c)}}catch(e){a=!0,o=e}finally{try{i||null==l.return||l.return()}finally{if(a)throw o}}return r},t[Symbol.iterator]=function(){return this.types.values()},(0,E._)(e,[{key:"ids",get:function(){return Array.from(this.allIds)}},{key:"size",get:function(){return this.types.size}}]),e}());function C(e,t){var n=U(t.fileTypeAttrs);return!n&&(null==t?void 0:t.language)&&(n=S.from(t.language)),!!(n&&h(e,n))}var _=!0,Z=!1,x=void 0;try{for(var w,A=Object.entries(a)[Symbol.iterator]();!(_=(w=A.next()).done);_=!0){var k=(0,i._)(w.value,2),I=k[0],T=k[1];S.register((0,r._)({id:I},T))}}catch(e){Z=!0,x=e}finally{try{_||null==A.return||A.return()}finally{if(Z)throw x}}},1979:(e,t,n)=>{function r(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{globstar:!0,extended:!0},r=String(e),i="",a=!!n&&!!n.extended,o=!!n&&!!n.globstar,s=!1,l=n&&"string"==typeof n.flags?n.flags:"",c=0,u=r.length;c<u;c++)switch(t=r[c]){case"/":case"$":case"^":case"+":case".":case"(":case")":case"=":case"!":case"|":i+="\\"+t;break;case"?":if(a){i+=".";break}case"[":case"]":if(a){i+=t;break}case"{":if(a){s=!0,i+="(";break}case"}":if(a){s=!1,i+=")";break}case",":if(s){i+="|";break}i+="\\"+t;break;case"*":for(var d=r[c-1],p=1;"*"===r[c+1];)p++,c++;var f=r[c+1];o?p>1&&("/"===d||void 0===d)&&("/"===f||void 0===f)?(i+="((?:[^/]*(?:/|$))*)",c++):i+="([^/]*)":i+=".*";break;default:i+=t}l&&~l.indexOf("g")||(i="^"+i+"$");try{return new RegExp(i,l)}catch(e){return null}}n.d(t,{F3:()=>o,tL:()=>r,jc:()=>i.A});var i=n(76091),a=n(78542),o=function(){"use strict";function e(t){(0,a._)(this,e),this.callback=t,this.handle=null,this.running=!1,this.stop=this.stop.bind(this)}var t=e.prototype;return t.start=function(){var e=this;if(!this.running){this.running=!0;var t=performance.now(),n=function(r){if(e.running){var i=r-t;t=r,e.callback(i/1e3,e.stop),e.running&&(e.handle=requestAnimationFrame(n))}};this.handle=requestAnimationFrame(n)}},t.stop=function(){this.running=!1,null!==this.handle&&(cancelAnimationFrame(this.handle),this.handle=null)},e}()},76091:(e,t,n)=>{n.d(t,{A:()=>l});var r=n(13454),i=n(5482);function a(){return(a=(0,r._)(function(e){return(0,i.YH)(this,function(t){return[2,new Promise(function(t){return setTimeout(t,e)})]})})).apply(this,arguments)}function o(e){return s.apply(this,arguments)}function s(){return(s=(0,r._)(function(t){var n,r,s=arguments;return(0,i.YH)(this,function(i){switch(i.label){case 0:if((n=s.length>1&&void 0!==s[1]?s[1]:1)>5)throw Error("Failed to load module: ".concat(e));i.label=1;case 1:return i.trys.push([1,2,,4]),[2,t()];case 2:if((r=i.sent())instanceof Error&&"ChunkLoadError"!==r.name)throw r;return[4,function(e){return a.apply(this,arguments)}(Math.random()*(Math.pow(2,n)-1)*1e3)];case 3:return i.sent(),[2,o(t,n+1)];case 4:return[2]}})})).apply(this,arguments)}function l(e){return c.apply(this,arguments)}function c(){return(c=(0,r._)(function(e){return(0,i.YH)(this,function(t){return[2,o(e)]})})).apply(this,arguments)}e=n.hmd(e)},78452:(e,t,n)=>{n.d(t,{B:()=>r});var r={production:"wss://production-ai-chat.replit.com/river",staging:"wss://staging-ai-chat.replit.com/river",development:"ws://127.0.0.1:8000/river"}},83193:(e,t,n)=>{n.d(t,{M5:()=>i,Sd:()=>o,fx:()=>a,xW:()=>s});var r=n(40174),i=r.ZU.Union([r.ZU.Literal("gpt-3.5-turbo"),r.ZU.Literal("gpt-3.5-turbo-0125"),r.ZU.Literal("gpt-3.5-turbo-16k-0613"),r.ZU.Literal("gpt-3.5-turbo-instruct"),r.ZU.Literal("gpt-4"),r.ZU.Literal("gpt-4-32k"),r.ZU.Literal("gpt-4-0613"),r.ZU.Literal("gpt-4-32k-0613"),r.ZU.Literal("gpt-4-0125-preview"),r.ZU.Literal("gpt-4-turbo-preview"),r.ZU.Literal("gpt-4-turbo"),r.ZU.Literal("gpt-4-turbo-2024-04-09"),r.ZU.Literal("gpt-4o"),r.ZU.Literal("gpt-4o-2024-05-13"),r.ZU.Literal("gpt-4o-mini")]),a=r.ZU.Union([r.ZU.Literal("gemini-1.5-pro-001"),r.ZU.Literal("gemini-1.5-flash"),r.ZU.Literal("gemini-1.5-flash-preview-0514"),r.ZU.Literal("gemini-1.5-flash-002"),r.ZU.Literal("gemini-2.0-flash-exp")]),o=r.ZU.Union([r.ZU.Literal("claude-3-5-sonnet@20240620"),r.ZU.Literal("claude-3-5-sonnet-v2@20241022"),r.ZU.Literal("claude-3-5-sonnet-20240620"),r.ZU.Literal("claude-3-5-sonnet-20241022"),r.ZU.Literal("claude-3-5-haiku@20241022"),r.ZU.Literal("claude-3-5-haiku-20241022")]),s=r.ZU.Union([r.ZU.Literal("research-claude-flannel"),r.ZU.Literal("research-claude-flannel-thinking")]);r.ZU.Union([r.ZU.Literal("unknown"),r.ZU.Literal("maxTokens"),r.ZU.Literal("stopToken"),r.ZU.Literal("safety"),r.ZU.Literal("recitation")])},17079:(e,t,n)=>{n.d(t,{s:()=>a});var r={defaultLimit:{messageCharacters:2e3,responseTokens:1e3,fileContextCharacters:4e6,maxTotalTokens:4050},gpt35:{messageCharacters:5e3,responseTokens:4e3,fileContextCharacters:4e6,maxTotalTokens:16e3},gpt4_o_mini:{messageCharacters:5e3,responseTokens:4e3,fileContextCharacters:4e6,maxTotalTokens:16e3},gpt4:{messageCharacters:2e3,responseTokens:1e3,fileContextCharacters:4e6,maxTotalTokens:8e3},gpt4_32k:{messageCharacters:12e3,responseTokens:4e3,fileContextCharacters:4e6,maxTotalTokens:32e3},gpt4_128k:{messageCharacters:12e3,responseTokens:4e3,fileContextCharacters:4e6,maxTotalTokens:32e3},claude_sonnet_3_5:{messageCharacters:12e3,responseTokens:4e3,fileContextCharacters:4e6,maxTotalTokens:32e3},gemini_15_flash:{messageCharacters:5e3,responseTokens:4e3,fileContextCharacters:4e6,maxTotalTokens:16e3},gemini_15_pro:{messageCharacters:12e3,responseTokens:4e3,fileContextCharacters:4e6,maxTotalTokens:32e3}},i={"gemini-1.5-pro-001":r.gemini_15_pro,"gemini-1.5-flash":r.gemini_15_flash,"gemini-1.5-flash-preview-0514":r.gemini_15_flash,"gemini-1.5-flash-002":r.gemini_15_flash,"gemini-2.0-flash-exp":r.gemini_15_flash,"gpt-3.5-turbo-instruct":r.defaultLimit,"gpt-3.5-turbo":r.defaultLimit,"gpt-3.5-turbo-16k-0613":r.gpt35,"gpt-3.5-turbo-0125":r.gpt35,"gpt-4":r.gpt4,"gpt-4-0613":r.gpt4,"gpt-4-32k":r.gpt4_32k,"gpt-4-32k-0613":r.gpt4_32k,"gpt-4-0125-preview":r.gpt4_128k,"gpt-4-turbo-preview":r.gpt4_128k,"gpt-4-turbo":r.gpt4_128k,"gpt-4-turbo-2024-04-09":r.gpt4_128k,"gpt-4o":r.gpt4_128k,"gpt-4o-2024-05-13":r.gpt4_128k,"gpt-4o-mini":r.gpt4_o_mini,"claude-3-5-sonnet@20240620":r.claude_sonnet_3_5,"claude-3-5-sonnet-v2@20241022":r.claude_sonnet_3_5,"claude-3-5-sonnet-20240620":r.claude_sonnet_3_5,"claude-3-5-sonnet-20241022":r.claude_sonnet_3_5,"claude-3-5-haiku@20241022":r.claude_sonnet_3_5,"claude-3-5-haiku-20241022":r.claude_sonnet_3_5,"research-claude-flannel":r.claude_sonnet_3_5,"research-claude-flannel-thinking":r.claude_sonnet_3_5};function a(e){return i[e]}},18799:(e,t,n)=>{n.d(t,{FC:()=>u,k0:()=>v,oE:()=>f,s_:()=>p,uU:()=>d});var r=n(27189),i=n(83193),a=i.M5.anyOf.map(function(e){return e.const}),o=i.fx.anyOf.map(function(e){return e.const}),s=i.Sd.anyOf.map(function(e){return e.const}),l=i.xW.anyOf.map(function(e){return e.const}),c=new Set((0,r._)(a).concat((0,r._)(o),(0,r._)(s),(0,r._)(l)));function u(e){var t;return"string"==typeof(t=null==e?void 0:e.qualified)&&c.has(t)}var d={readable:"GPT-4o Mini",qualified:"gpt-4o-mini"},p={readable:"GPT-4o",qualified:"gpt-4o"},f={readable:"Claude 3.5 Sonnet V2",qualified:"claude-3-5-sonnet-v2@20241022"},v=[{readable:"Claude Research Flannel",qualified:"research-claude-flannel"},{readable:"Claude Research Flannel (Thinking)",qualified:"research-claude-flannel-thinking"}]},89022:(e,t,n)=>{function r(e){return new Map(Object.entries(e))}function i(e,t){return e.includes(t)}function a(e){return function(){return e.forEach(function(e){return null==e?void 0:e()})}}n.d(t,{CP:()=>r,gM:()=>i,xW:()=>a})},80039:(e,t,n)=>{n.d(t,{yz:()=>U,av:()=>_,Ih:()=>C,vL:()=>h,FZ:()=>E,IZ:()=>S,f:()=>Z,eR:()=>y});var r,i,a,o=n(72275),s=n(27189),l=n(89022),c=n(54867),u=function(e){return e.EgressGoval_10Gib="egress_goval_10_gib",e.EgressGoval_50Gib="egress_goval_50_gib",e.EgressGoval_100Gib="egress_goval_100_gib",e.EgressGoval_500Gib="egress_goval_500_gib",e.EgressGoval_1000Gib="egress_goval_1000_gib",e}({}),d=function(e){switch(e){case"egress_goval_10_gib":return 10;case"egress_goval_50_gib":return 50;case"egress_goval_100_gib":return 100;case"egress_goval_500_gib":return 500;case"egress_goval_1000_gib":return 1e3;default:(0,c.A)(e)}},p=function(e){return 10*d(e)},f=/^[0-9a-zA-Z-]+$/,v=/^[0-9a-zA-Z]{2,28}$/,g=/^[0-9a-zA-Z-]{1,100}$/,m=n(80470),h=(i={"always-on":20,private:500,ghostwriter:1e3,gpu:375,"neon-database-preview":100,egress:10},(0,o._)(i,u.EgressGoval_10Gib,p(u.EgressGoval_10Gib)),(0,o._)(i,u.EgressGoval_50Gib,p(u.EgressGoval_50Gib)),(0,o._)(i,u.EgressGoval_100Gib,p(u.EgressGoval_100Gib)),(0,o._)(i,u.EgressGoval_500Gib,p(u.EgressGoval_500Gib)),(0,o._)(i,u.EgressGoval_1000Gib,p(u.EgressGoval_1000Gib)),(0,o._)(i,"hosting_tier",0),(0,o._)(i,"hosting_tier_e2_micro",20),(0,o._)(i,"hosting_tier_e2_small",40),(0,o._)(i,"hosting_tier_e2_medium",80),(0,o._)(i,"hosting_tier_n1_custom_1_4",165),(0,o._)(i,"hosting_tier_e2_standard_2",330),(0,o._)(i,"hosting_tier_e2_standard_4",660),(0,o._)(i,"storage",m.bR),(0,o._)(i,m.R4.Storage_10Gib,(0,m.GF)(m.R4.Storage_10Gib)),(0,o._)(i,m.R4.Storage_50Gib,(0,m.GF)(m.R4.Storage_50Gib)),(0,o._)(i,m.R4.Storage_100Gib,(0,m.GF)(m.R4.Storage_100Gib)),(0,o._)(i,m.R4.Storage_500Gib,(0,m.GF)(m.R4.Storage_500Gib)),(0,o._)(i,m.R4.Storage_1000Gib,(0,m.GF)(m.R4.Storage_1000Gib)),i);a={},(0,o._)(a,"hosting_tier_e2_micro",{dedicated:!1,vCpu:.25,ram:1,egress:10}),(0,o._)(a,"hosting_tier_e2_small",{dedicated:!1,vCpu:.5,ram:2,egress:20}),(0,o._)(a,"hosting_tier_e2_medium",{dedicated:!1,vCpu:1,ram:4,egress:40}),(0,o._)(a,"hosting_tier_n1_custom_1_4",{dedicated:!0,vCpu:1,ram:4,egress:100}),(0,o._)(a,"hosting_tier_e2_standard_2",{dedicated:!0,vCpu:2,ram:8,egress:200}),(0,o._)(a,"hosting_tier_e2_standard_4",{dedicated:!0,vCpu:4,ram:16,egress:400}),(r=Math).max.apply(r,(0,s._)(Object.values(h)));var b=["newReplModal","cyclesPage","workspace","profile","bounties","tipSurface","account"];function y(e){var t=e.unsanitizedRedirect,n=e.unsanitizedRedirectReplTitle,r=e.unsanitizedRedirectTipSurface;if("workspace"===t)return"string"==typeof n&&n.match(f)?{redirect:"workspace",redirectReplTitle:n}:{redirect:"cyclesPage"};if("tipSurface"===t){if(!r)throw Error("Missing redirectTipSurface for redirect type tipSurface");return"string"==typeof r.username&&r.username.match(v)&&"string"==typeof r.slug&&("repl"===r.surfaceType&&r.slug.match(f)||"theme"===r.surfaceType&&r.slug.match(g))?{redirect:"tipSurface",redirectTipSurface:r}:{redirect:"cyclesPage"}}return(0,l.gM)(b,t)?{redirect:t}:{redirect:"cyclesPage"}}var U=.01,E=function(e){return(1*e/100).toLocaleString("en-US",{style:"currency",currency:"USD"})},S=function(e){return 1*e},C=150,_=1e6;function Z(e){return e>=C&&e<=_}new Date("2024-02-09T00:00:00.000Z").toLocaleDateString("en-US",{month:"long",day:"numeric"})},8482:(e,t,n)=>{function r(e){var t=e.toString();return t.endsWith("/")?t.slice(0,-1):t}function i(e){if(a(e))throw Error("Absolute paths are not allowed, got: ".concat(e));if(e.startsWith("~/"))throw Error("Tilde paths are not allowed, got: ".concat(e));return"."===e||"./"===e||""===e?".":e.startsWith("./")?r(e.slice(2)):r(e)}function a(e){return e.startsWith("/")}function o(e){var t;return null!==(t=r(e.toString()).split("/").pop())&&void 0!==t?t:""}function s(e){if(c(e))throw Error("Cannot get parent path of root path");return i(e.toString().split("/").slice(0,-1).join("/"))}function l(e){for(var t=e.toString().split("/"),n=["."],r=0;r<t.length;r++){var a=t.slice(0,r+1).join("/");n.push(i(a))}return n}function c(e){return"."===e}function u(e,t){if(e===t)return!1;if(c(e))return!0;if(c(t))return!1;var n=e.toString();return t.toString().startsWith(n+"/")}function d(e,t){if(!u(e,t))return!1;if(c(e))return!0;var n=e.toString();return t.toString().split("/").length-n.split("/").length==1}function p(e,t){return c(e)?i(t.toString()):i("".concat(e,"/").concat(t))}function f(e,t,n){if(!u(e,n))throw Error("Path is not a descendant of old ancestor path");if(c(e))return p(t,o(n));var r=n.toString();if(c(t))return i(r.replace("".concat(e.toString(),"/"),""));var a=e.toString(),s=t.toString();return i(r.replace(a+"/",s+"/"))}n.d(t,{B$:()=>s,NE:()=>p,Yq:()=>o,Z1:()=>a,aO:()=>d,fG:()=>u,jX:()=>c,ju:()=>f,mc:()=>i,q:()=>l})},53654:(e,t,n)=>{n.d(t,{Ag:()=>_,yh:()=>C,J:()=>v,an:()=>d,WP:()=>f,P7:()=>c,_6:()=>g,jP:()=>p,Go:()=>l,Zy:()=>E,P1:()=>m,e$:()=>y,FN:()=>u,m6:()=>b,rb:()=>h,Z7:()=>U});var r=n(26196),i=["zip","gz","tgz","tar","rar","7z"],a=n(35212),o=n(61766),s=n(19327);function l(e){var t;return t=d(e),i.includes(t)}function c(e){return a.A.get(d(e).toLowerCase())}function u(e){return!e.endsWith(".ts")&&!!c(e)}function d(e){return(0,r.extname)(e).slice(1)}n(14733);var p=function(e){return e.split("/").length};function f(e){return e.split("/").pop()}function v(e){return f(e).split(".")[0]}function g(e){return e.split("/").slice(0,-1).join("/")}function m(e){return e.endsWith(".draw")}function h(e){return e.endsWith(".pedit")||e.endsWith(".kbmsprite")}function b(e){return!(h(e)||m(e)||u(e)||l(e))}function y(e){return e.endsWith(".md")}function U(e){return e.endsWith(".svg")}function E(e){return e.endsWith(".csv")}var S=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});function C(e,t){return e&&t?S.compare(e,t):0}var _=function(e){var t=e.sort(function(e,t){var n=p(e.path);return p(t.path)-n}),n=[];return t.forEach(function(e,r){for(var i=r+1;i<t.length;i++)if(t[i].type===s.pt.Directory&&(0,o.hL)(t[i].path,e.path))return;n.push(e)}),n}},29808:(e,t,n)=>{n.d(t,{o:()=>d});var r=n(20837),i=n(27189),a=n(40174),o=n(49711),s=n(83193),l=n(18799),c=a.ZU.Union([a.ZU.Literal("replitLight"),a.ZU.Literal("replitDark"),a.ZU.Literal("replitSpooky")],{default:"replitDark"}),u=a.ZU.Object({isLayoutStacked:a.ZU.Boolean({default:!1}),theme:c,fontSize:a.ZU.Union([a.ZU.Literal(10),a.ZU.Literal(12),a.ZU.Literal(13),a.ZU.Literal(14),a.ZU.Literal(18),a.ZU.Literal(24)],{default:14}),mobileFontSize:a.ZU.Union([a.ZU.Literal(10),a.ZU.Literal(12),a.ZU.Literal(13),a.ZU.Literal(14),a.ZU.Literal(18),a.ZU.Literal(24)],{default:14}),acceptSuggestionOnCommitCharacter:a.ZU.Boolean({default:!0}),indentIsSpaces:a.ZU.Boolean({default:!0}),indentSize:a.ZU.Integer({minimum:1,maximum:16,default:2}),indentDetection:a.ZU.Boolean({default:!0}),indentFormatPastes:a.ZU.Boolean({default:!0}),keyboardHandler:a.ZU.Union([a.ZU.Literal("vim"),a.ZU.Literal("emacs"),a.ZU.Null()],{default:null}),wrapping:a.ZU.Boolean({default:!0}),mobileWrapping:a.ZU.Boolean({default:!0}),primarySplitPosition:a.ZU.Number({default:60}),hideFeaturedClassrooms:a.ZU.Boolean({default:!1}),hideSuggestedClassrooms:a.ZU.Boolean({default:!1}),codeIntelligence:a.ZU.Boolean({default:!0}),semanticTokens:a.ZU.Boolean({default:!0}),codeSuggestion:a.ZU.Boolean({default:!0}),codeRepairHighlight:a.ZU.Boolean({default:!0}),chatAudioNotification:a.ZU.Boolean({default:!1}),agentAudioNotification:a.ZU.Boolean({default:!1}),agentPushNotification:a.ZU.Boolean({default:!0}),assistantPushNotification:a.ZU.Boolean({default:!0}),chatEngine:a.ZU.Union([s.M5,s.fx,s.Sd,a.ZU.Null()],{default:null}),ghostwriterModelSelection:a.ZU.Union([a.ZU.Literal("basic"),a.ZU.Literal("advanced")],{default:"advanced"}),completeCodeEngine:a.ZU.Union([a.ZU.String(),a.ZU.Null()],{default:null}),assistantAutoApplyChanges:a.ZU.Boolean({default:!1}),assistantAutoRestartRepl:a.ZU.Boolean({default:!0}),assistantAdvancedModelOverride:a.ZU.Union((0,i._)(Array.from(l.k0).map(function(e){return a.ZU.Literal(e.qualified)})),{default:null}),accessibleTerminal:a.ZU.Boolean({default:!1}),shellBellAudio:a.ZU.Boolean({default:!1}),codeActionsOnSave:a.ZU.Boolean({default:!0}),formatOnSave:a.ZU.Boolean({default:!0}),multiselectModifierKey:a.ZU.Union([a.ZU.Literal("cmdOrCtrlKey"),a.ZU.Literal("altKey")],{default:"altKey"}),webviewAutoOpenOnPortOpened:a.ZU.Boolean({default:!0}),forwardPortsAutomatically:a.ZU.Union([a.ZU.Literal("none"),a.ZU.Literal("only-global"),a.ZU.Literal("all")],{default:"only-global"}),outputUpdateTrigger:a.ZU.Union([a.ZU.Literal("automatic"),a.ZU.Literal("manual")],{default:"automatic"}),extraDelight:a.ZU.Boolean({default:!1}),minimapDisplay:a.ZU.Union([a.ZU.Literal("none"),a.ZU.Literal("characters"),a.ZU.Literal("blocks")],{default:"none"}),rulers:a.ZU.Array(a.ZU.Integer({minimum:0,maximum:1e3}),{maxItems:10,default:[]}),showLeadingWhitespace:a.ZU.Boolean({default:!1}),showTrailingWhitespace:a.ZU.Boolean({default:!1}),showEnclosedWhitespace:a.ZU.Boolean({default:!1}),showSelectedWhitespace:a.ZU.Boolean({default:!1}),showFileTreeGitStatus:a.ZU.Boolean({default:!0}),enableCloseBracketMatching:a.ZU.Boolean({default:!0})},{additionalProperties:!1});function d(e){var t=o.WT.Create(u),n=o.WT.Cast(a.ZU.Optional(u),e);return(0,r._)({},t,n)}},40581:(e,t,n)=>{n.d(t,{QY:()=>i,VL:()=>r,YP:()=>a});var r=function(e){return e.AdminTutorialUpdate="admin-tutorial-update",e.CommunityPost="community-post",e.ProfileImage="profile-image",e.ProfileCoverImage="profile-cover-image",e.OrgProfileImage="org-profile-image",e.TemplateIcon="template-icon",e.ReplIcon="repl-icon",e.ReplCoverImage="repl-cover-image",e.TrainingProfileImage="training-profile-image",e}({}),i="https://icons-util.replit.app/bash.svg",a="https://icons-util.replit.app/bash.svg"},35212:(e,t,n)=>{n.d(t,{A:()=>r});let r=new Map([["pdf","application/pdf"],["3gpp","video/3gpp"],["adp","audio/adpcm"],["au","audio/basic"],["snd","audio/basic"],["mid","audio/midi"],["midi","audio/midi"],["kar","audio/midi"],["rmi","audio/midi"],["mp3","audio/mpeg"],["m4a","audio/mp4"],["mp4a","audio/mp4"],["mpga","audio/mpeg"],["mp2","audio/mpeg"],["mp2a","audio/mpeg"],["m2a","audio/mpeg"],["m3a","audio/mpeg"],["oga","audio/ogg"],["ogg","audio/ogg"],["spx","audio/ogg"],["s3m","audio/s3m"],["sil","audio/silk"],["uva","audio/vnd.dece.audio"],["uvva","audio/vnd.dece.audio"],["eol","audio/vnd.digital-winds"],["dra","audio/vnd.dra"],["dts","audio/vnd.dts"],["dtshd","audio/vnd.dts.hd"],["lvp","audio/vnd.lucent.voice"],["pya","audio/vnd.ms-playready.media.pya"],["ecelp4800","audio/vnd.nuera.ecelp4800"],["ecelp7470","audio/vnd.nuera.ecelp7470"],["ecelp9600","audio/vnd.nuera.ecelp9600"],["rip","audio/vnd.rip"],["wav","audio/wave"],["weba","audio/webm"],["aac","audio/x-aac"],["aif","audio/x-aiff"],["aiff","audio/x-aiff"],["aifc","audio/x-aiff"],["caf","audio/x-caf"],["flac","audio/x-flac"],["mka","audio/x-matroska"],["m3u","audio/x-mpegurl"],["wax","audio/x-ms-wax"],["wma","audio/x-ms-wma"],["ram","audio/x-pn-realaudio"],["ra","audio/x-pn-realaudio"],["rmp","audio/x-pn-realaudio-plugin"],["xm","audio/xm"],["exr","image/aces"],["apng","image/apng"],["bmp","image/bmp"],["cgm","image/cgm"],["drle","image/dicom-rle"],["emf","image/emf"],["fits","image/fits"],["g3","image/g3fax"],["gif","image/gif"],["heic","image/heic"],["heics","image/heic-sequence"],["heif","image/heif"],["heifs","image/heif-sequence"],["hej2","image/hej2k"],["hsj2","image/hsj2"],["ief","image/ief"],["jls","image/jls"],["jp2","image/jp2"],["jpg2","image/jp2"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["jpe","image/jpeg"],["jph","image/jph"],["jhc","image/jphc"],["jpm","image/jpm"],["jpx","image/jpx"],["jpf","image/jpx"],["jxr","image/jxr"],["jxra","image/jxra"],["jxrs","image/jxrs"],["jxs","image/jxs"],["jxsc","image/jxsc"],["jxsi","image/jxsi"],["jxss","image/jxss"],["ktx","image/ktx"],["png","image/png"],["btif","image/prs.btif"],["pti","image/prs.pti"],["sgi","image/sgi"],["svg","image/svg+xml"],["svgz","image/svg+xml"],["t38","image/t38"],["tif","image/tiff"],["tiff","image/tiff"],["tfx","image/tiff-fx"],["psd","image/vnd.adobe.photoshop"],["azv","image/vnd.airzip.accelerator.azv"],["uvi","image/vnd.dece.graphic"],["uvvi","image/vnd.dece.graphic"],["uvg","image/vnd.dece.graphic"],["uvvg","image/vnd.dece.graphic"],["djvu","image/vnd.djvu"],["djv","image/vnd.djvu"],["sub","image/vnd.dvb.subtitle"],["dwg","image/vnd.dwg"],["dxf","image/vnd.dxf"],["fbs","image/vnd.fastbidsheet"],["fpx","image/vnd.fpx"],["fst","image/vnd.fst"],["mmr","image/vnd.fujixerox.edmics-mmr"],["rlc","image/vnd.fujixerox.edmics-rlc"],["ico","image/vnd.microsoft.icon"],["dds","image/vnd.ms-dds"],["mdi","image/vnd.ms-modi"],["wdp","image/vnd.ms-photo"],["npx","image/vnd.net-fpx"],["tap","image/vnd.tencent.tap"],["vtf","image/vnd.valve.source.texture"],["wbmp","image/vnd.wap.wbmp"],["xif","image/vnd.xiff"],["pcx","image/vnd.zbrush.pcx"],["webp","image/webp"],["wmf","image/wmf"],["3ds","image/x-3ds"],["ras","image/x-cmu-raster"],["cmx","image/x-cmx"],["fh","image/x-freehand"],["fhc","image/x-freehand"],["fh4","image/x-freehand"],["fh5","image/x-freehand"],["fh7","image/x-freehand"],["jng","image/x-jng"],["sid","image/x-mrsid-image"],["pic","image/x-pict"],["pct","image/x-pict"],["pnm","image/x-portable-anymap"],["pbm","image/x-portable-bitmap"],["pgm","image/x-portable-graymap"],["ppm","image/x-portable-pixmap"],["rgb","image/x-rgb"],["tga","image/x-tga"],["xbm","image/x-xbitmap"],["xpm","image/x-xpixmap"],["xwd","image/x-xwindowdump"],["3gp","video/3gpp"],["3g2","video/3gpp2"],["h261","video/h261"],["h263","video/h263"],["h264","video/h264"],["jpgv","video/jpeg"],["jpgm","video/jpm"],["mj2","video/mj2"],["mjp2","video/mj2"],["ts","video/mp2t"],["mp4","video/mp4"],["mp4v","video/mp4"],["mpg4","video/mp4"],["mpeg","video/mpeg"],["mpg","video/mpeg"],["mpe","video/mpeg"],["m1v","video/mpeg"],["m2v","video/mpeg"],["ogv","video/ogg"],["qt","video/quicktime"],["mov","video/quicktime"],["uvh","video/vnd.dece.hd"],["uvvh","video/vnd.dece.hd"],["uvm","video/vnd.dece.mobile"],["uvvm","video/vnd.dece.mobile"],["uvp","video/vnd.dece.pd"],["uvvp","video/vnd.dece.pd"],["uvs","video/vnd.dece.sd"],["uvvs","video/vnd.dece.sd"],["uvv","video/vnd.dece.video"],["uvvv","video/vnd.dece.video"],["dvb","video/vnd.dvb.file"],["fvt","video/vnd.fvt"],["mxu","video/vnd.mpegurl"],["m4u","video/vnd.mpegurl"],["pyv","video/vnd.ms-playready.media.pyv"],["uvu","video/vnd.uvvu.mp4"],["uvvu","video/vnd.uvvu.mp4"],["viv","video/vnd.vivo"],["webm","video/webm"],["f4v","video/x-f4v"],["fli","video/x-fli"],["flv","video/x-flv"],["m4v","video/x-m4v"],["mkv","video/x-matroska"],["mk3d","video/x-matroska"],["mks","video/x-matroska"],["mng","video/x-mng"],["asf","video/x-ms-asf"],["asx","video/x-ms-asf"],["vob","video/x-ms-vob"],["wm","video/x-ms-wm"],["wmv","video/x-ms-wmv"],["wmx","video/x-ms-wmx"],["wvx","video/x-ms-wvx"],["avi","video/x-msvideo"],["movie","video/x-sgi-movie"],["smv","video/x-smv"]])},37936:(e,t,n)=>{n.d(t,{KH:()=>r,Xp:()=>a,r8:()=>i});var r="/t/",i=3,a=50},61766:(e,t,n)=>{function r(e){return""===e||e.endsWith("/")?e:e+"/"}function i(e,t){return t!==e&&t.startsWith(r(e))}function a(e,t){if(!i(e,t))return!1;var n=r(e),a=t.slice(n.length);return a.endsWith("/")&&(a=a.slice(-1)),!a.includes("/")}function o(e){return""===e||"./"===e?".":e.startsWith("./")?e.slice(2):e}n.d(t,{Fd:()=>o,GG:()=>a,hL:()=>i,me:()=>r})},19097:(e,t,n)=>{n.d(t,{E:()=>a});var r=n(13454),i=n(5482);function a(){return o.apply(this,arguments)}function o(){return(o=(0,r._)(function(){var e,t;return(0,i.YH)(this,function(n){switch(n.label){case 0:return e="0.0.1006",[3,2];case 1:return t=n.sent(),null!=e||(e=null!=t?t:"dev"),[2,e];case 2:if(!e)throw Error("expected PID2_VERSION to be set in prod");return[2,e]}})})).apply(this,arguments)}n(68558),n(65640)},96367:(e,t,n)=>{n.d(t,{Dl:()=>i,ob:()=>a});var r=n(8482),i=(0,r.mc)("."),a=(0,r.mc)(".env");(0,r.mc)(".lesson"),(0,r.mc)(".tutorial")},19327:(e,t,n)=>{n.d(t,{BM:()=>v,Tr:()=>p,dV:()=>l,iC:()=>c,pt:()=>u,sT:()=>s,sn:()=>f,tJ:()=>d});var r=n(78910),i=n(78542),a=n(88708),o=n(54013),s=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.MANUAL_SAVE=1]="MANUAL_SAVE",e}({}),l=function(e){return e.Create="CREATE",e.Move="MOVE",e.Delete="DELETE",e.Modify="MODIFY",e}({}),c=function(e){return e.Local="LOCAL",e.Container="CONTAINER",e}({}),u=function(e){return e.File="FILE",e.Directory="DIRECTORY",e}({}),d=function(e){"use strict";function t(){var e;return(0,i._)(this,t),e=(0,r._)(this,t,arguments),e.name="FileReadError",e.message="could not read the uploaded file",e}return(0,a._)(t,e),t}((0,o._)(Error)),p=function(e){return e.NotFound="NOT_FOUND",e.NotReadable="NOT_READABLE",e.AlreadyExists="ALREADY_EXIST",e.NotDirectory="NOT_DIRECTORY",e.IsDirectory="IS_DIRECTORY",e.InvalidPath="INVALID_PATH",e.DiskQuotaExceeded="DISK_QUOTA_EXCEEDED",e.PermissionDenied="PERMISSION_DENIED",e.FileSystemUnavailable="FileSystemUnavailable",e}({}),f=function(e){return e.Syncing="SYNCING",e.Clean="CLEAN",e}({}),v=function(e){return e.Dirty="DIRTY",e.Syncing="SYNCING",e.Clean="CLEAN",e}({})},14733:(e,t,n)=>{n.d(t,{Ay:()=>o,UC:()=>i,ap:()=>a});var r=n(27189),i=["package.json","package-lock.json","yarn.lock","bun.lockb","node_modules","pnpm-lock.yaml","poetry.lock","pyproject.toml","requirements.txt",".venv",".pythonlibs","uv.lock","go.mod","go.sum","Gemfile","Gemfile.lock","pom.xml","target","Rconfig.json","Rconfig.lock.json","composer.json","composer.lock","vendor",".upm"],a=[".replitignore",".replit","replit.nix"];let o=(0,r._)(i).concat((0,r._)(a))},80470:(e,t,n)=>{n.d(t,{CN:()=>o,GF:()=>d,O8:()=>a,R4:()=>c,RB:()=>s,bR:()=>l});var r,i=n(72275),a=0x40000000,o=0x80000000,s=0xc80000000,l=15,c=function(e){return e.Storage_10Gib="storage_10_gib",e.Storage_50Gib="storage_50_gib",e.Storage_100Gib="storage_100_gib",e.Storage_500Gib="storage_500_gib",e.Storage_1000Gib="storage_1000_gib",e}({}),u=(r={},(0,i._)(r,"storage_10_gib",10),(0,i._)(r,"storage_50_gib",50),(0,i._)(r,"storage_100_gib",100),(0,i._)(r,"storage_500_gib",500),(0,i._)(r,"storage_1000_gib",1e3),r),d=function(e){return u[e]*l}},45038:(e,t,n)=>{n.d(t,{$J:()=>m,uq:()=>v,yk:()=>g});var r=n(78910),i=n(78542),a=n(88708),o=n(27189),s=n(54013),l=n(40174),c=n(49711),u=n(11080),d=n.n(u),p=n(52753),f=n.n(p);l.PR.Set("uuid",function(e){return f()(e)}),l.PR.Set("date-time",function(e){return d()(e)});var v=function(e){return l.ZU.Optional(l.ZU.Union([l.ZU.Null(),e]))},g=function(e){"use strict";function t(e){var n;return(0,i._)(this,t),(n=(0,r._)(this,t)).name="Schema validation error",n.message=e.map(function(e){return"".concat(e.path,": ").concat(e.message)}).join("\n"),n.issues=e,n}return(0,a._)(t,e),t}((0,s._)(Error));function m(e,t){return new g((0,o._)(c.WT.Errors(e,t)))}}}]);
//# sourceMappingURL=5567-f49ef76570c1ae62.js.map