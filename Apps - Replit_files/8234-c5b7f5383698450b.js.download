!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="e4617026-9a23-440a-9b20-a1b88168d4a0",e._sentryDebugIdIdentifier="sentry-dbid-e4617026-9a23-440a-9b20-a1b88168d4a0")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"335618f7"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8234],{9645:(e,n,r)=>{r.d(n,{Kb:()=>f,bf:()=>s,f_:()=>v,hX:()=>c,kS:()=>l,kZ:()=>d,m$:()=>h,uF:()=>p,xF:()=>g,z7:()=>a});var t=r(78910),i=r(78542),o=r(88708),u=r(54013),a=function(e){"use strict";function n(){var e;return(0,i._)(this,n),e=(0,t._)(this,n,arguments),e.name="DeploymentNotFoundError",e.message="Could not find existing deployment",e}return(0,o._)(n,e),n}((0,u._)(Error)),s=function(e){"use strict";function n(){var e;return(0,i._)(this,n),e=(0,t._)(this,n,arguments),e.name="CurrentBuildNotFoundError",e.message="Could not find existing current build",e}return(0,o._)(n,e),n}((0,u._)(Error)),c=function(e){"use strict";function n(){var e;return(0,i._)(this,n),e=(0,t._)(this,n,arguments),e.name="RollbackBuildNotProvidedError",e.message="Rollback target build not provided",e}return(0,o._)(n,e),n}((0,u._)(Error)),l=function(e){"use strict";function n(){var e;return(0,i._)(this,n),e=(0,t._)(this,n,arguments),e.name="RunCommandNotFoundError",e.message="Could not find run command",e}return(0,o._)(n,e),n}((0,u._)(Error)),d=function(e){"use strict";function n(){var e;return(0,i._)(this,n),e=(0,t._)(this,n,arguments),e.name="SubdomainNotFoundError",e.message="Could not find subdomain",e}return(0,o._)(n,e),n}((0,u._)(Error)),f=function(e){"use strict";function n(){var e;return(0,i._)(this,n),e=(0,t._)(this,n,arguments),e.name="AppTypeFoundError",e.message="Could not find app type",e}return(0,o._)(n,e),n}((0,u._)(Error)),p=function(e){"use strict";function n(){var e;return(0,i._)(this,n),e=(0,t._)(this,n,arguments),e.name="PublicDirNotFoundError",e.message="Could not find public directory",e}return(0,o._)(n,e),n}((0,u._)(Error)),h=function(e){"use strict";function n(){var e;return(0,i._)(this,n),e=(0,t._)(this,n,arguments),e.name="ReplConnectionError",e.message="An App connection error occurred. App is reconnecting or has been disconnected.",e}return(0,o._)(n,e),n}((0,u._)(Error)),g=function(e){"use strict";function n(){var e;return(0,i._)(this,n),e=(0,t._)(this,n,arguments),e.name="InvalidTimezoneError",e}return(0,o._)(n,e),n}((0,u._)(Error)),v=function(e){"use strict";function n(){var e;return(0,i._)(this,n),e=(0,t._)(this,n,arguments),e.name="CrontabNotFoundError",e}return(0,o._)(n,e),n}((0,u._)(Error))},58133:(e,n,r)=>{r.d(n,{d:()=>t});var t=function(e){return e.Loading="Loading",e.Ready="Ready",e.Preparing="Preparing",e.Deploying="Deploying",e.ProcessingLifecycleCommand="ProcessingLifecycleCommand",e.Suspended="Paused",e}({})},37057:(e,n,r)=>{r.d(n,{$0:()=>s,OS:()=>f,b3:()=>l,oG:()=>c});var t,i=r(72275),o=r(55937),u=r(54867),a=r(58133);function s(e){switch(e){case o.nH.Failed:case o.nH.Success:return a.d.Ready;case o.nH.Suspended:return a.d.Suspended;case o.nH.Suspending:case o.nH.Resuming:case o.nH.UpdatingTier:return a.d.ProcessingLifecycleCommand;case o.nH.Pending:case o.nH.Building:case o.nH.Running:case o.nH.Promoting:return a.d.Deploying;default:(0,u.A)(e)}}function c(e){switch(e){case o.jP.Destroy:return null;case o.jP.UpdateMachineConfiguration:return o.nH.UpdatingTier;case o.jP.Suspend:return o.nH.Suspending;case o.jP.Resume:return o.nH.Resuming;default:(0,u.A)(e)}}function l(e){switch(e){case o.JX.Cron:return o.Q0.Cron;case o.JX.CloudRun:return o.Q0.CloudRun;case o.JX.Worker:case o.JX.Server:return o.Q0.Gce;case o.JX.Static:return o.Q0.Static;default:(0,u.A)(e)}}var d=(t={},(0,i._)(t,a.d.Loading,"loading"),(0,i._)(t,a.d.Preparing,"preparing"),(0,i._)(t,a.d.Ready,"ready"),(0,i._)(t,a.d.Suspended,"suspended"),(0,i._)(t,a.d.Deploying,"deploying"),(0,i._)(t,a.d.ProcessingLifecycleCommand,"processing a request"),t);function f(e){var n=d[e];return void 0===n?"":n}},85848:(e,n,r)=>{r.d(n,{FR:()=>C,XE:()=>S,n9:()=>v});var t=r(13454),i=r(66622),o=r(5482),u=r(55937),a=r(9546),s=r(28281),c=r(88467),l=r(76634),d=r(90132),f=r(6696),p=r(76605),h=r(19327),g=r(9645);function v(e){return y.apply(this,arguments)}function y(){return(y=(0,t._)(function(e){var n,r,t,u,s,c,l,d,f,p,h,g,v,y,m,S,_,b,C,E,w;return(0,o.YH)(this,function(o){switch(o.label){case 0:return n=e.secrets,r=e.replId,[4,e.apolloClient.query({query:a.r3,variables:{replId:r}})];case 1:if(u=o.sent().data,s=new Map,(null==u?void 0:u.getRepl.__typename)==="Repl"&&u.getRepl.sharedSecretLinks&&(null===(t=u.currentUser)||void 0===t?void 0:t.secrets.__typename)==="SharedSecretConnection"){c=u.currentUser.secrets.items,l=!0,d=!1,f=void 0;try{for(p=function(){var e,n=g.value,r=c.find(function(e){return e.id===n.secret.id});s.set(n.alias,null!==(e=null==r?void 0:r.value)&&void 0!==e?e:"")},h=u.getRepl.sharedSecretLinks[Symbol.iterator]();!(l=(g=h.next()).done);l=!0)p()}catch(e){d=!0,f=e}finally{try{l||null==h.return||h.return()}finally{if(d)throw f}}}return[4,n.read()];case 2:v=o.sent(),y=!0,m=!1,S=void 0;try{for(_=v.entries()[Symbol.iterator]();!(y=(b=_.next()).done);y=!0)E=(C=(0,i._)(b.value,2))[0],w=C[1],s.set(E,w)}catch(e){m=!0,S=e}finally{try{y||null==_.return||_.return()}finally{if(m)throw S}}return[2,Array.from(s,function(e){var n=(0,i._)(e,2);return{name:n[0],value:n[1]}})]}})})).apply(this,arguments)}function m(){return(m=(0,t._)(function(e){var n,r,t;return(0,o.YH)(this,function(i){switch(i.label){case 0:return[4,e.getConfig()];case 1:if(r=(n=i.sent()).config,(t=n.error)===p.DO.NotFound)return[2];if(t)throw Error("Failed to get .replit config with Error: "+t);return[2,r]}})})).apply(this,arguments)}function S(e){return _.apply(this,arguments)}function _(){return(_=(0,t._)(function(e){var n,r,t,i,a,s,l,f,p,h,g,v,y;return(0,o.YH)(this,function(o){switch(o.label){case 0:return n=null,r=null,t=null,i=null,a=null,[4,function(e){return m.apply(this,arguments)}(e)];case 1:if(!(s=o.sent()))return[2,{buildCommand:n,runCommand:r,ignorePorts:t,appType:i,publicDir:a}];if(!s.deployment)return[3,2];switch(f=(l=s.deployment).build,p=l.run,h=l.ignorePorts,g=l.target,v=l.publicDir,f&&(n=(0,d.a8)(f)),p&&(r=(0,d.a8)(p)),null!=h&&(t=h),g){case c.api.DeploymentConfig.Target.VM:case c.api.DeploymentConfig.Target.GCE:i=t?u.JX.Worker:u.JX.Server;break;case c.api.DeploymentConfig.Target.AUTOSCALE:case c.api.DeploymentConfig.Target.CLOUDRUN:i=u.JX.CloudRun;break;case c.api.DeploymentConfig.Target.STATIC:i=u.JX.Static;break;case c.api.DeploymentConfig.Target.SCHEDULED:i=u.JX.Cron}return v&&(a=v),[3,4];case 2:return[4,e.getRunConfig()];case 3:y=o.sent(),s.compile&&(n=(0,d.a8)(s.compile)),y.run?r=(0,d.a8)(y.run.run):s.run&&(r=(0,d.a8)(y.run)),o.label=4;case 4:return[2,{buildCommand:n,runCommand:r,ignorePorts:t,appType:i,publicDir:a}]}})})).apply(this,arguments)}var b={buildCommand:{delete:function(){return(0,f.m_)("deployment/build")},create:function(e){return(0,f.dA)(e.toString())}},runCommand:{delete:function(){return(0,f.m_)("deployment/run")},create:function(e){return(0,f.eH)(e.toString())}},ignorePorts:{delete:function(){return(0,f.m_)("deployment/ignorePorts")},create:function(e){return(0,f.KY)(!!e)}},appType:{delete:function(){return(0,f.m_)("deployment/deploymentTarget")},create:function(e){var n=null;switch(e){case u.JX.Server:case u.JX.Worker:n="gce";break;case u.JX.CloudRun:n="cloudrun";break;case u.JX.Static:n="static";break;case u.JX.Cron:n="scheduled"}return n?(0,f.GS)(n):null}},publicDir:{delete:function(){return(0,f.m_)("deployment/publicDir")},create:function(e){return(0,f.Df)(e.toString())}}};function C(e,n,r){return E.apply(this,arguments)}function E(){return(E=(0,t._)(function(e,n,r){var t,i,u,a,c,d,f,p,v,y,m,S,_,C,E,w;return(0,o.YH)(this,function(o){switch(o.label){case 0:t=r.fs,i=r.container,u=r.dotReplit,a=[],c=!0,d=!1,f=void 0;try{for(p=Object.keys(e)[Symbol.iterator]();!(c=(v=p.next()).done);c=!0)m=e[y=v.value],S=n[y],_=b[y],m!==S&&("string"==typeof m&&(0,l.mU)(m)||"boolean"==typeof m&&m?(C=_.create(m))&&a.push(C):a.push(_.delete()))}catch(e){d=!0,f=e}finally{try{c||null==p.return||p.return()}finally{if(d)throw f}}if(i.getConnectionState()!==s.KN.CONNECTED)throw new g.m$;if(!a.length)return[3,2];return[4,u.updateDotReplit(a)];case 1:if(E=o.sent().error)throw Error(E);o.label=2;case 2:return w=null,[4,new Promise(function(e){t.getStatus()!==h.sn.Syncing&&e(!0),w=setInterval(function(){t.getStatus()!==h.sn.Syncing&&e(!0)},1e3)})];case 3:return o.sent(),w&&clearInterval(w),[2]}})})).apply(this,arguments)}},10466:(e,n,r)=>{r.d(n,{$:()=>d});var t=r(94086),i=r(17944),o=r(24955),u=r(10168),a=r(32842),s=r(65599),c=r(8367),l=(0,u.x)({dot:[a.wp.width("8px"),a.wp.height("8px"),a.wp.borderRadius("full"),a.wp.flex.shrink(0),a.wp.pr(4)]});function d(e){var n=e.status,r=n in i.v?i.v[n]:{color:o.LU.greyDefault,title:"Unknown status"},u=r.color,a=r.title;return(0,t.Y)(s.m_,{tooltip:a,delay:"long",children:(0,t.Y)(c.S,{tag:"span",css:l.dot,style:{backgroundColor:u,boxShadow:"0 0 12px ".concat(u)}})})}},85670:(e,n,r)=>{r.d(n,{A:()=>a});var t=r(20837),i=r(43952),o=r(94086),u=r(42022);function a(e){return(0,o.Y)(u.Ay,(0,i._)((0,t._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M6.495 4.729a8.287 8.287 0 0 1 4.387-.32c1.465.29 2.819.97 3.907 1.967A7.725 7.725 0 0 1 16.863 9.5h.593c1.395 0 2.738.533 3.733 1.491a5.044 5.044 0 0 1 1.561 3.634 5.044 5.044 0 0 1-1.56 3.634 5.385 5.385 0 0 1-3.734 1.491h-8.18a8.23 8.23 0 0 1-4.233-1.164 7.852 7.852 0 0 1-2.967-3.16 7.524 7.524 0 0 1-.785-4.211 7.607 7.607 0 0 1 1.646-3.97A8.01 8.01 0 0 1 6.495 4.73Zm4.096 1.15a6.787 6.787 0 0 0-3.593.263 6.51 6.51 0 0 0-2.892 2.043 6.106 6.106 0 0 0-1.323 3.187 6.024 6.024 0 0 0 .63 3.373 6.352 6.352 0 0 0 2.4 2.554 6.73 6.73 0 0 0 3.463.951h8.18a3.885 3.885 0 0 0 2.693-1.072 3.544 3.544 0 0 0 1.101-2.553c0-.952-.393-1.871-1.101-2.553A3.885 3.885 0 0 0 17.456 11H16.31a.75.75 0 0 1-.725-.556 6.2 6.2 0 0 0-1.81-2.962 6.62 6.62 0 0 0-3.185-1.603Z",clipRule:"evenodd"})}))}},86848:(e,n,r)=>{r.d(n,{$:()=>l,O:()=>c});var t=r(20837),i=r(43952),o=r(30758),u=r(96489),a=r.n(u),s=r(63679);function c(e){var n=e.repl,r=e.currentUser,t=e.asViewer,i=e.excludeReplSlug;return{asViewer:t,repl:{__typename:"Repl",authorizations:n.authorizations,id:n.id,language:n.language,slug:i?void 0:n.slug},currentUser:r?{__typename:"CurrentUser",id:r.id,username:r.username,isSubscribed:r.isSubscribed,roles:r.roles}:void 0}}function l(e){var n=(0,s._P)({controlName:"flag-no-reload-on-repl-rename"}),r=e?c((0,i._)((0,t._)({},e),{excludeReplSlug:n})):null,u=(0,o.useRef)(r);return a()(r,u.current)||(u.current=r),u.current}},24858:(e,n,r)=>{r.d(n,{A:()=>h});var t=r(75362),i=r(13454),o=r(72275),u=r(20837),a=r(43952),s=r(66622),c=r(5482),l=r(55195),d=r(26150),f=r(5846),p=r(82436);function h(e){var n=e.container,r=e.sendTrackingEvents;return function(e){var n,r=e.container,t=e.observable,p=e.track,h=new Promise(function(e){return n=e});function g(){return(g=(0,i._)(function(){var e,n,r=arguments;return(0,c.YH)(this,function(i){switch(i.label){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:{skipCache:!1},[4,h];case 1:if(n=i.sent(),!e.skipCache)return[2,new Map(t.current)];return[4,n.request({secretsGetRequest:{}})];case 2:return i.sent(),[2,new Map(t.current)]}})})).apply(this,arguments)}function v(){return(v=(0,i._)(function(e){var n,r,i,o,u,a,l,d,g,v,m,S,_,b,C,E,w;return(0,c.YH)(this,function(c){switch(c.label){case 0:return[4,h];case 1:if(c.sent(),n=new Map(t.current),Array.isArray(e)){r=!0,i=!1,o=void 0;try{for(u=e[Symbol.iterator]();!(r=(a=u.next()).done);r=!0)d=(l=a.value).key,g=l.value,n.set(d,g)}catch(e){i=!0,o=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw o}}}else{v=!0,m=!1,S=void 0;try{for(_=e[Symbol.iterator]();!(v=(b=_.next()).done);v=!0)E=(C=(0,s._)(b.value,2))[0],w=C[1],n.set(E,w)}catch(e){m=!0,S=e}finally{try{v||null==_.return||_.return()}finally{if(m)throw S}}}return[4,y(n)];case 2:return c.sent(),null==p||p(f.AZ.SECRETS_USED,{action:"addEntries"}),[2]}})})).apply(this,arguments)}function y(e){return m.apply(this,arguments)}function m(){return(m=(0,i._)(function(e){var n,r;return(0,c.YH)(this,function(i){switch(i.label){case 0:return[4,h];case 1:return n=i.sent(),t.set(Array.isArray(e)?new Map(e.map(function(e){return[e.key,e.value]})):e),[4,n.request({secretsSetRequest:{contents:d.A.serialize(t.current)}})];case 2:if((r=i.sent()).error)throw Error(r.error);return null==p||p(f.AZ.SECRETS_USED,{action:"replaceAll"}),[2]}})})).apply(this,arguments)}function S(){return(S=(0,i._)(function(){var e,n,r,i,o,u,a,s,l,d,g,v=arguments;return(0,c.YH)(this,function(c){switch(c.label){case 0:for(n=Array(e=v.length),r=0;r<e;r++)n[r]=v[r];return[4,h];case 1:if(c.sent(),0===(i=n.filter(function(e){return t.current.has(e)})).length)return[2];o=new Map(t.current),u=!0,a=!1,s=void 0;try{for(l=i[Symbol.iterator]();!(u=(d=l.next()).done);u=!0)g=d.value,o.delete(g)}catch(e){a=!0,s=e}finally{try{u||null==l.return||l.return()}finally{if(a)throw s}}return[4,y(o)];case 2:return c.sent(),null==p||p(f.AZ.SECRETS_USED,{action:"removeEntries"}),[2]}})})).apply(this,arguments)}function _(){return(_=(0,i._)(function(e){var n;return(0,c.YH)(this,function(r){switch(r.label){case 0:return[4,h];case 1:return[4,r.sent().request({externalSecretsSetRequest:{externalSecrets:Array.isArray(e)?e.reduce(function(e,n){return(0,a._)((0,u._)({},e),(0,o._)({},n.key,n.url))},{}):Object.fromEntries(e)}})];case 2:if((n=r.sent()).error)throw Error(n.error);return[2]}})})).apply(this,arguments)}return r.openChannel({service:"secrets",name:"secretser",skip:function(){return!1}},function(e){var r;return(r=e.channel).onCommand(function(e){if(e.secretsGetResponse){var n=e.secretsGetResponse.contents;if(n){var r=d.A.parse(n);!function(e,n){if(e.size!==n.size)return!1;var r=!0,t=!1,i=void 0;try{for(var o,u=e[Symbol.iterator]();!(r=(o=u.next()).done);r=!0){var a=(0,s._)(o.value,2),c=a[0],l=a[1];if(!n.has(c)||n.get(c)!==l)return!1}}catch(e){t=!0,i=e}finally{try{r||null==u.return||u.return()}finally{if(t)throw i}}return!0}(t.current,r)&&t.set(r)}}}),r.request({secretsGetRequest:{}}).then(function(e){e.channelClosed||(e.error&&l.v4(function(n){n.setTag("service","secrets"),l.Cp(Error("failed to initialize secrets: "+e.error))}),n(r))}),function(){h=new Promise(function(e){return n=e})}}),{addEntries:function(e){return v.apply(this,arguments)},removeEntries:function(){return S.apply(this,arguments)},read:function(){return g.apply(this,arguments)},replaceAll:y,watch:function(e){var n=!1,r=null;return h.then(function(){n||(r=t.subscribe(e))}),function(){n=!0,null==r||r()}},replaceAllExternalSecrets:function(e){return _.apply(this,arguments)}}}({container:n,observable:new t.N(new Map),track:void 0===r||r?p.u4:void 0})}},9546:(e,n,r)=>{r.d(n,{AH:()=>L,DX:()=>N,R_:()=>A,bM:()=>k,d3:()=>b,m1:()=>E,r3:()=>R,tD:()=>w,vC:()=>x});var t=r(20837),i=r(45009),o=r(30632),u=r(72813),a=r(75838);function s(){var e=(0,i._)(["\n  fragment WorkspaceSharedSecret on SharedSecret {\n    id\n    name\n    description\n    version\n    timeCreated\n    timeUpdated\n    owner {\n      __typename\n      ... on User {\n        id\n      }\n    }\n    value\n    signedUrl\n  }\n"]);return s=function(){return e},e}function c(){var e=(0,i._)(["\n  fragment WorkspaceSharedSecretLink on SharedSecretLink {\n    id\n    alias\n    secret {\n      ...WorkspaceSharedSecret\n    }\n  }\n  ","\n"]);return c=function(){return e},e}function l(){var e=(0,i._)(["\n  query SecretsPaneAuthorizations($replId: String!) {\n    getRepl(id: $replId) {\n      __typename\n      ... on Repl {\n        id\n        isOwner\n        authorizations {\n          editSecrets {\n            isAuthorized\n            message\n          }\n        }\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n"]);return l=function(){return e},e}function d(){var e=(0,i._)(["\n  query WorkspaceSecrets($secretsInput: SecretsInput) {\n    currentUser {\n      id\n      secrets(input: $secretsInput) {\n        ... on SharedSecretConnection {\n          items {\n            ...WorkspaceSharedSecret\n          }\n          pageInfo {\n            hasNextPage\n            hasPreviousPage\n            nextCursor\n            previousCursor\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}function f(){var e=(0,i._)(["\n  query ReplLinkedSecrets($replId: String!) {\n    getRepl(id: $replId) {\n      __typename\n      ... on Repl {\n        id\n        sharedSecretLinks {\n          ...WorkspaceSharedSecretLink\n        }\n      }\n    }\n  }\n  ","\n"]);return f=function(){return e},e}function p(){var e=(0,i._)(["\n  query WorkspaceAndReplLinkedSecrets($replId: String!) {\n    currentUser {\n      id\n      secrets {\n        ... on SharedSecretConnection {\n          items {\n            ...WorkspaceSharedSecret\n          }\n        }\n      }\n    }\n    getRepl(id: $replId) {\n      __typename\n      ... on Repl {\n        id\n        sharedSecretLinks {\n          ...WorkspaceSharedSecretLink\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return p=function(){return e},e}function h(){var e=(0,i._)(["\n  mutation LinkSharedSecrets($input: LinkSharedSecretsInput!) {\n    linkSharedSecrets(input: $input) {\n      ... on LinkSharedSecretsResult {\n        links {\n          ...WorkspaceSharedSecretLink\n        }\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n  ","\n"]);return h=function(){return e},e}function g(){var e=(0,i._)(["\n  mutation UnlinkSharedSecrets($input: UnlinkSharedSecretsInput!) {\n    unlinkSharedSecrets(input: $input) {\n      ... on UnlinkSharedSecretsResult {\n        success\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n"]);return g=function(){return e},e}function v(){var e=(0,i._)(["\n  mutation UpdateSharedSecretLink($input: UpdateSharedSecretLinkInput!) {\n    updateSharedSecretLink(input: $input) {\n      ... on UpdateSharedSecretLinkOutput {\n        ...WorkspaceSharedSecretLink\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n  ","\n"]);return v=function(){return e},e}var y={},m=(0,o.J1)(s()),S=(0,o.J1)(c(),m),_=(0,o.J1)(l());function b(e){var n=(0,t._)({},y,e);return u.I(_,n)}var C=(0,o.J1)(d(),m);function E(e){var n=(0,t._)({},y,e);return u.I(C,n)}var w=(0,o.J1)(f(),S);function k(e){var n=(0,t._)({},y,e);return u.I(w,n)}var R=(0,o.J1)(p(),m,S);function A(e){var n=(0,t._)({},y,e);return u.I(R,n)}var D=(0,o.J1)(h(),S);function N(e){var n=(0,t._)({},y,e);return a.n(D,n)}var H=(0,o.J1)(g());function L(e){var n=(0,t._)({},y,e);return a.n(H,n)}var U=(0,o.J1)(v(),S);function x(e){var n=(0,t._)({},y,e);return a.n(U,n)}},76634:(e,n,r)=>{r.d(n,{ER:()=>c,mU:()=>a,zV:()=>s});var t=r(60762),i=r(11605),o=r.n(i),u=r(14178),a=function(e){return"string"==typeof e&&""!==e.trim()},s=function(e){return(void 0===e?"undefined":(0,t._)(e))==="object"&&"string"==typeof e.name&&"string"==typeof e.value&&""!==e.name};function c(e){var n=e.replSlug,r=e.username,t=r?"-".concat(r):"",i=u.sA-(0+t.length);if(i>0){var a=o()(n).slice(0,i),s="".concat("").concat(a).concat(t);if(s.length<=u.sA)return s}return"".concat("").concat(o()(n)).concat(t)}},90132:(e,n,r)=>{r.d(n,{a8:()=>t}),r(88467);var t=function(e){return e&&e.args?(e.args&&e.args.length>=3&&"sh"===e.args[0]&&"-c"===e.args[1]?e.args.slice(2):e.args).join(" "):""}},6696:(e,n,r)=>{r.d(n,{D8:()=>a,Df:()=>f,Ez:()=>t,GS:()=>d,KY:()=>l,Up:()=>i,Xl:()=>p,dA:()=>c,eH:()=>s,m_:()=>o,qG:()=>u});var t=function(e){return{op:"add",path:"run",value:JSON.stringify(e)}},i=function(e){return{op:"add",path:"compile",value:JSON.stringify(e)}},o=function(e){return{op:"remove",path:"string"==typeof e?e:e.join("/"),value:""}},u=function(e){return{op:"add",path:"auth/pageEnabled",value:JSON.stringify(e)}},a=function(e){return{op:"add",path:"auth/buttonEnabled",value:JSON.stringify(e)}},s=function(e){return{path:"deployment/run",op:"add",value:JSON.stringify(["sh","-c",e])}},c=function(e){return{path:"deployment/build",op:"add",value:JSON.stringify(["sh","-c",e])}},l=function(e){return{path:"deployment/ignorePorts",op:"add",value:e.toString()}},d=function(e){return{path:"deployment/deploymentTarget",op:"add",value:JSON.stringify(e)}},f=function(e){return{path:"deployment/publicDir",op:"add",value:JSON.stringify(e)}},p=function(e){return{path:"objectStorage/defaultBucketID",op:"add",value:JSON.stringify(e)}}},1987:(e,n,r)=>{r.d(n,{A:()=>g,v:()=>h});var t=r(13454),i=r(27189),o=r(5482),u=r(34896),a=r(23405),s=r(2806),c=r(28777),l=r(54593),d=r(76605),f=r(96367),p=r(19327),h=".replit";function g(e){var n,r,g,v,y=e.container,m=e.fs,S=e.ctx,_=(0,a.Ay)();_.setMaxListeners(50);var b=null,C=null,E=null;function w(){return k.apply(this,arguments)}function k(){return(k=(0,t._)(function(){return(0,o.YH)(this,function(e){return b&&"open"===b.status?[2,b]:[2,new Promise(function(e){_.once(d.sV.CHANNEL_OPENED,function(n){e(n)})})]})})).apply(this,arguments)}(function(){A.apply(this,arguments)})(),y.openChannel({service:"dotreplit"},function(e){var n=e.channel;return b=n,_.emit(d.sV.CHANNEL_OPENED,n),function(){b=null}});var R=!1;function A(){return(A=(0,t._)(function(){return(0,o.YH)(this,function(e){return m.watchDir(f.Dl,{onChange:function(e){if(!e.some(function(e){return e.filename===h&&e.type===p.pt.File})){(null==C?void 0:C.error)!==d.DO.NotFound&&(C={error:d.DO.NotFound,errorMessage:"",config:null},_.emit(d.sV.CHANGE,C));return}R||(R=!0,m.watchFile(h,{onChange:function(){C=null,L.getConfig({bypassCache:!0}).then(function(e){_.emit(d.sV.CHANGE,e)})},onMoveOrDelete:function(){R=!1},onError:function(e,n){C=null,R=!1,e.code||y.unrecoverableError(e,n)}}))},onError:function(e,n){y.unrecoverableError(e,n)}}),[2]})})).apply(this,arguments)}function D(){return(D=(0,t._)(function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:return C=null,E||(E=function(){return N.apply(this,arguments)}()),[4,E];case 1:return C=e.sent(),E=null,[2,C]}})})).apply(this,arguments)}function N(){return(N=(0,t._)(function(){return(0,o.YH)(this,function(e){var n;return[2,(0,s.eT)(S,"dotreplit.getConfigFromServer",(n=(0,t._)(function(e,n){var r,t,i,u;return(0,o.YH)(this,function(o){switch(o.label){case 0:var a,f,p;return null==n||n.setAttributes((a={},(null==(f=y.getConnectionMetadata())?void 0:f.token)&&(a.tokenCluster=(0,l.pI)(f.token).cluster),p=!!window.performance.getEntriesByName(c.pY.pageNavStart,"mark").length,a.ssr=p,a)),[4,w()];case 1:if("closed"===(t=o.sent()).status)return[2,{error:d.DO.Disconnected,errorMessage:"channel closed",config:null}];return[4,t.request({dotReplitGetRequest:{},traceInfo:e?(0,s.mY)(e):void 0})];case 2:if((i=o.sent()).channelClosed)return[2,{error:d.DO.Disconnected,errorMessage:"channel closed",config:null}];if(i.error){if(i.error.includes("unable to decode"))return[2,{error:d.DO.ParseError,errorMessage:i.error,config:null}];if(i.error.includes("no such file"))return[2,{error:d.DO.NotFound,errorMessage:i.error,config:null}];return[2,{error:d.DO.Unknown,errorMessage:i.error,config:null}]}if(!(u=null===(r=i.dotReplitGetResponse)||void 0===r?void 0:r.dotReplit))return y.unrecoverableError(Error("Dotreplit responded with no error and no config")),[2,{error:d.DO.Unknown,errorMessage:"Expected dotReplitGetResponse to include dotReplit",config:null}];return[2,{error:null,errorMessage:null,config:u}]}})}),function(e,r){return n.apply(this,arguments)}))]})})).apply(this,arguments)}var H=(n=(0,t._)(function(e){var n;return(0,o.YH)(this,function(r){switch(r.label){case 0:return[4,m.stat(h)];case 1:if(r.sent().exists)return[3,3];return[4,m.writeFile(h,"")];case 2:r.sent(),r.label=3;case 3:return[4,w()];case 4:return[4,r.sent().request({dotReplitUpdateRequest:{ops:e}})];case 5:if((n=r.sent()).channelClosed)return[2,{errorMessage:"Channel closed.",error:d.uZ.ChannelClosed,response:null}];if(n.error){if(n.error.includes("could not parse json")||n.error.includes("is not json")||n.error.includes("parsing value field")||n.error.includes("missing field"))return[2,{errorMessage:n.error,error:d.uZ.JSONParseError,response:null}];if(n.error.includes("could not read file"))return[2,{errorMessage:n.error,error:d.uZ.NotFound,response:null}];if(n.error.includes("could not parse toml"))return[2,{errorMessage:n.error,error:d.uZ.TOMLParseError,response:null}];if(n.error.includes("unknown variant"))return[2,{errorMessage:n.error,error:d.uZ.OpType,response:null}];if(n.error.includes("could not write to file"))return[2,{errorMessage:n.error,error:d.uZ.CouldNotWrite,response:null}];if(n.error.includes("could not read line"))return[2,{errorMessage:n.error,error:d.uZ.ReadLine,response:null}];return[2,{errorMessage:n.error,error:d.uZ.Unknown,response:null}]}if(!n.dotReplitUpdateResponse)throw Error("Expected .replit to be updated");return[2,{response:n.dotReplitUpdateResponse,error:null,errorMessage:null}]}})}),function(e){return n.apply(this,arguments)}),L={watch:function(e){var n=!1,r=!1,t=function(){for(var n=arguments.length,t=Array(n),o=0;o<n;o++)t[o]=arguments[o];r=!0,e.apply(void 0,(0,i._)(t))};return _.on(d.sV.CHANGE,t),L.getConfig().then(function(e){n||r||t(e)}),function(){n=!0,_.removeListener(d.sV.CHANGE,t)}},getConfig:function(e){return(0,t._)(function(){return(0,o.YH)(this,function(n){return(null==e?void 0:e.bypassCache)||!C?[2,function(){return D.apply(this,arguments)}()]:[2,C]})})()},getRunConfig:function(){return(0,t._)(function(){var e,n;return(0,o.YH)(this,function(r){switch(r.label){case 0:return[4,w()];case 1:return[4,r.sent().request({runConfigGetRequest:{}})];case 2:if((e=r.sent()).channelClosed)return[2,this.getRunConfig()];if(!e.runConfigGetResponse)throw null!==(n=e.error)&&void 0!==n?n:Error("expected run config");return[2,e.runConfigGetResponse]}})}).apply(this)},updateDotReplit:(r=[],g=400,v=(0,u.A)((0,t._)(function(){var e;return(0,o.YH)(this,function(n){switch(n.label){case 0:return[4,H(r)];case 1:return e=n.sent(),r=[],[2,e]}})}),{wait:g}),function(e,n){n&&(g=n);var t=!0,i=!1,o=void 0;try{for(var u,a=e[Symbol.iterator]();!(t=(u=a.next()).done);t=!0)!function(){var e=u.value,n=r.findIndex(function(n){return n.path===e.path});-1!==n?r[n]=e:r.push(e)}()}catch(e){i=!0,o=e}finally{try{t||null==a.return||a.return()}finally{if(i)throw o}}return v()})};return L}},26150:(e,n,r)=>{r.d(n,{A:()=>o});var t=r(66622);function i(e,n){return e.split(n).length-1}var o={parse:function(e){var n=new Map,r=e.split(/\n|\r|\r\n/),t=!0,o=!1,u=void 0;try{for(var a,s=r[Symbol.iterator]();!(t=(a=s.next()).done);t=!0){var c=a.value;if(!function(e){var n=e.trim();return 0===n.length||n.startsWith("#")}(c)){var l=(c=function(e){if(!e.includes("#"))return e;var n=e.split("#"),r=!1,t=[],o=!0,u=!1,a=void 0;try{for(var s,c=n[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){var l=s.value;(1===i(l,'"')||i(l,"'"))&&(r?(r=!1,t.push(l)):r=!0),(0===t.length||r)&&t.push(l)}}catch(e){u=!0,a=e}finally{try{o||null==c.return||c.return()}finally{if(u)throw a}}return t.join("#")}(c)).indexOf("="),d=c.indexOf(":");if(-1!==d||-1!==l){var f=l;-1!==d&&(d<l||-1===l)&&(f=d);var p=c.slice(0,f).replace(/^\s*(?:export\s+)?(.*?)\s*$/,"$1"),h=function(e,n){var r=e.trim();if(0===r.length)return r;var t=r.length-1,i='"'===r[0]&&'"'===r[t],o="'"===r[0]&&"'"===r[t];return(o||i)&&(r=r.slice(1,-1)),i&&(r=(r=r.replace(/\\./g,function(e){return"\\n"===e?"\n":"\\r"===e?"\r":e})).replace(/\\([^$])/g,"$1")),o||(r=r.replace(/(\\)?(\$)(\()?\{?([A-Z0-9_]+)?\}?/g,function(e){var r=e.match(/(\\)?(\$)(\()?\{?([A-Z0-9_]+)?\}?/);if(null===r)return e;if("\\"===r[1]||"("===r[2])return r[0].slice(1);var t=r[4];return""!==t?n.get(t)||"":e})),r}(c.slice(f+1),n);n.set(p,h)}}}}catch(e){o=!0,u=e}finally{try{t||null==s.return||s.return()}finally{if(o)throw u}}return n},serialize:function(e){return(e instanceof Map?Array.from(e):Object.entries(e)).reduce(function(e,n){var r=(0,t._)(n,2),i=r[0],o=r[1].replace(/\\([^$])/g,"\\\\$1").replace(/\$/g,"\\\\$$").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r");return e+"".concat(i,'="').concat(o,'"\n')},"")}}}}]);
//# sourceMappingURL=8234-c5b7f5383698450b.js.map