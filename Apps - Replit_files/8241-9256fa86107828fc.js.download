!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="71a0cfab-899b-474d-a8c0-9ea234912cfa",e._sentryDebugIdIdentifier="sentry-dbid-71a0cfab-899b-474d-a8c0-9ea234912cfa")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"335618f7"};"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8241],{3517:(e,n,t)=>{t.d(n,{Ay:()=>eb,w7:()=>eg,nB:()=>ey});var r=t(13454),i=t(20837),o=t(43952),a=t(66622),l=t(27189),s=t(5482),c=t(94086),u=t(25204),d=t.n(u),p=t(30758),h=t(55195),m=t(89401),f=t(3274),v=t(55937),g=t(45009),y=t(30632),w=t(72813),S=t(75838);function b(){var e=(0,g._)(["\n  fragment SharedSecret on SharedSecret {\n    id\n    name\n    description\n    version\n    value\n    timeCreated\n    timeUpdated\n    links {\n      items {\n        id\n        resource {\n          __typename\n          ... on Repl {\n            id\n            url\n            title\n            iconUrl\n          }\n        }\n      }\n      pageInfo {\n        hasNextPage\n        hasPreviousPage\n        nextCursor\n        previousCursor\n      }\n      totalCount\n    }\n    owner {\n      __typename\n      ... on User {\n        id\n      }\n    }\n  }\n"]);return b=function(){return e},e}function Y(){var e=(0,g._)(["\n  query AccountSecrets($secretsInput: SecretsInput) {\n    currentUser {\n      id\n      secrets(input: $secretsInput) {\n        ... on SharedSecretConnection {\n          items {\n            ...SharedSecret\n          }\n          pageInfo {\n            hasNextPage\n            hasPreviousPage\n            nextCursor\n            previousCursor\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return Y=function(){return e},e}function _(){var e=(0,g._)(["\n  mutation CreateSharedSecrets($input: CreateSharedSecretsInput!) {\n    createSharedSecrets(input: $input) {\n      __typename\n      ... on CreateSharedSecretsResult {\n        createdSecrets {\n          ...SharedSecret\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return _=function(){return e},e}function C(){var e=(0,g._)(["\n  mutation UpdateSharedSecrets($input: UpdateSharedSecretsInput!) {\n    updateSharedSecrets(input: $input) {\n      __typename\n      ... on UpdateSharedSecretsResult {\n        updatedSecrets {\n          ...SharedSecret\n        }\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on UserError {\n        message\n      }\n    }\n  }\n  ","\n"]);return C=function(){return e},e}function k(){var e=(0,g._)(["\n  mutation DeleteSharedSecret($id: ID!) {\n    deleteSharedSecret(id: $id) {\n      __typename\n      ... on DeleteSharedSecretResult {\n        __typename\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on Error {\n        message\n      }\n    }\n  }\n"]);return k=function(){return e},e}var E={},x=(0,y.J1)(b()),D=(0,y.J1)(Y(),x),A=(0,y.J1)(_(),x),F=(0,y.J1)(C(),x),T=(0,y.J1)(k()),U=t(5846),P=t(77781),I=t(39651),L=t(82436),R=t(37599),M=t(52757),N=t(24955),O=t(10168),K=t(32842),H=t(40172),V=t(63481),B=t(68463),W=t(57542),$=t(11822),z=t(95235),q=t(28354),G=t(60872),Z=t(76985),J=t(2301),j=t(31955),X=t(40889),Q=t(17605),ee=t(8367),en=t(62484),et=t(10001),er=t(83290),ei=t(98335),eo=t(36954),ea=t(43249),el=t(8351),es=(0,O.x)({root:[K.wp.gap(16)]}),ec=(0,O.x)({root:[K.wp.flex.column,K.wp.p(8),K.wp.colWithGap(8)],clickableText:[K.wp.color.accentPrimaryStronger,K.wp.display.flex,K.wp.cursor.pointer],disclaimer:[K.wp.gap(4)],list:[{li:[K.wp.flex.row,K.wp.align.center,K.wp.gap(4)]}]}),eu=function(e){var n=e.name,t=e.links,r=e.isOpen,i=e.onClose,o=e.onDelete,l=e.isLoading,s=(0,a._)((0,p.useState)(!1),2),u=s[0],d=s[1];return(0,c.Y)(Z.a,{isOpen:r,onRequestClose:function(){return i()},css:es.root,children:(0,c.Y)(V.A,{prompt:"Delete ".concat(n,"?"),desc:(0,c.FD)(c.FK,{children:[t&&t.totalCount>0?(0,c.FD)(J.Wv,{label:"affected-repls",noArrow:!0,isOpen:u,onOpenChange:d,children:[(0,c.FD)("div",{children:[t.totalCount," Repl",1===t.totalCount?"":"s"," ","will immediately lose access to this secret"]}),(0,c.Y)(ef,{links:t})]}):"No Apps are currently using this secret",(0,c.Y)("br",{}),"This action cannot be undone."]}),onConfirm:o,onCancel:i,confirmText:"Yes, delete this secret",icon:(0,c.Y)(el.A,{}),danger:!0,loading:l})})},ed=(0,M.AH)([K.wp.border({color:N.LU.outlineDimmer,width:1,direction:"bottom"}),{"&:last-child":{borderBottom:"none"}}]),ep=(0,O.x)({titleWrapper:[K.wp.align.baseline],section:[K.wp.borderRadius(12),K.wp.p(16),K.wp.flex.column,K.wp.gap(12),{'*[data-sensitive="true"]':{fontFamily:"text-security-disc"}}],secretList:[K.wp.borderRadius(),K.wp.overflow("hidden")],secretItem:[ed,K.wp.align.center,K.wp.p(8),K.wp.display.grid,{gridTemplateColumns:"1fr 1fr 140px 50px"}],secretValue:[K.wp.display.grid,K.wp.gap(4),{gridTemplateColumns:"min-content 90px min-content","& > span":{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}}],secretTimestamp:[K.wp.color.foregroundDimmer],emptyState:[K.wp.center,K.wp.border({color:N.LU.outlineDefault,width:1,style:"dashed"}),K.wp.borderRadius(4),K.wp.py(24),K.wp.px(12)]}),eh=function(e){var n=e.value,t=(0,a._)((0,p.useState)(!1),2),r=t[0],i=t[1];return(0,c.FD)(ee.S,{css:ep.secretValue,row:!0,align:"center","data-sensitive":!r,children:[(0,c.Y)(B.r,{textToCopy:n}),(0,c.Y)("span",{children:r?n:"****************"}),(0,c.Y)(z.K0,{onClick:function(){return i(!r)},alt:r?"Hide":"Show",children:r?(0,c.Y)(ei.A,{}):(0,c.Y)(er.A,{})})]})},em=(0,O.x)({root:[K.wp.display.flex,K.wp.flex.column,K.wp.p(8),K.wp.gap(8),ed,{borderBottomWidth:1,borderBottomStyle:"solid"}],formFields:[K.wp.display.grid,K.wp.gap(32),{gridTemplateColumns:"2fr 3fr"}],formField:[K.wp.flex.column,K.wp.gap(8)],formFieldLabel:[{label:[K.wp.flex.row,K.wp.align.center,K.wp.gap(4)]}],disclaimer:[K.wp.color.foregroundDimmer,{fontSize:N.LU.fontSizeSmall,lineHeight:N.LU.lineHeightSmall}],footer:[K.wp.display.flex,K.wp.flex.row,K.wp.justify.spaceBetween],footerGroup:[K.wp.display.flex,K.wp.flex.row,K.wp.gap(4)]}),ef=function(e){var n=e.links;return(0,c.FD)(ee.S,{css:ec.root,children:[(0,c.Y)(X.EY,{children:"The following Apps will be affected:"}),(0,c.Y)("ul",{css:ec.list,children:n.items.map(function(e){return"Repl"===e.resource.__typename?(0,c.FD)("li",{children:[(0,c.Y)(en.A,{size:16,iconUrl:e.resource.iconUrl,alt:e.resource.title}),(0,c.Y)(d(),{href:e.resource.url,target:"_blank",children:e.resource.title},e.id)]},e.id):null})}),(0,c.FD)(X.EY,{color:"dimmer",children:["Please refresh the App page, then Stop and Run the App",(0,c.Y)("br",{})," to use the updated linked secrets."]})]})},ev=function(e){var n=e.name,t=e.value,i=e.onSave,o=e.onCancel,l=e.onDelete,u=e.isNew,d=e.secrets,m=(0,p.useMemo)(function(){return d.find(function(e){return e.name===n})},[d,n]),f=null==m?void 0:m.links,v=(0,I.A)(),g=(0,a._)((0,p.useState)(n),2),y=g[0],w=g[1],S=(0,a._)((0,p.useState)(t),2),b=S[0],Y=S[1],_=(0,a._)((0,p.useState)(!0),2),C=_[0],k=_[1],E=(0,a._)((0,p.useState)(!1),2),x=E[0],D=E[1],A=(0,a._)((0,p.useState)(!1),2),F=A[0],T=A[1],U=(0,a._)((0,p.useState)(!1),2),P=U[0],L=U[1],M=(0,p.useMemo)(function(){return null!==y.match(R.Hs)},[y]),N=(0,p.useMemo)(function(){return!d.some(function(e){return e.name===y&&e.name!==n})},[n,y,d]),O=(0,a._)((0,p.useState)(!1),2),K=O[0],V=O[1],B=(0,a._)((0,p.useState)(null),2),Z=B[0],j=B[1];(0,p.useEffect)(function(){N?!M&&y?j(R.ll):j(null):j("Key must be unique")},[N,M,y]);var X=(0,p.useCallback)((0,r._)(function(){var e;return(0,s.YH)(this,function(n){switch(n.label){case 0:L(!0),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,l()];case 2:return n.sent(),[3,4];case 3:return e=n.sent(),h.Cp(e),v.showError("Something went wrong. Please try again."),[3,4];case 4:return L(!1),[2]}})}),[l,v]),en=(0,p.useCallback)((0,r._)(function(){return(0,s.YH)(this,function(e){switch(e.label){case 0:if(!N||!M)return[2];D(!0),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,i({name:y,value:b})];case 2:return e.sent(),[3,4];case 3:return j(e.sent().message),[3,4];case 4:return D(!1),[2]}})}),[N,M,y,b,i]);return(0,c.FD)($.lV,{css:em.root,onSubmit:function(e){e.preventDefault(),en()},children:[(0,c.FD)(ee.S,{css:em.formFields,children:[(0,c.Y)(ee.S,{css:em.formField,children:(0,c.FD)(Q.A_,{validate:function(){return N?!M&&y?R.ll:void 0:"Key must be unique"},validationBehavior:"aria",isRequired:!0,minLength:1,maxLength:128,name:"secretName",value:y,onChange:function(e){return w(e)},isInvalid:null!==Z,children:[(0,c.Y)(G.J,{color:"dimmer",multiline:!1,css:em.formFieldLabel,children:"Key"}),(0,c.Y)(q.pd,{autoFocus:!0,autoComplete:"off","data-1p-ignore":!0}),(0,c.Y)(W.bg,{children:Z})]})}),(0,c.Y)(ee.S,{css:em.formField,children:(0,c.FD)(Q.A_,{isRequired:!0,minLength:1,name:"secretValue",value:b,onChange:function(e){return Y(e)},children:[(0,c.FD)(G.J,{color:"dimmer",multiline:!1,css:em.formFieldLabel,children:["Value"," ",(0,c.Y)(z.K0,{alt:C?"Hide":"Show",size:12,onClick:function(){return k(!C)},children:C?(0,c.Y)(ei.A,{}):(0,c.Y)(er.A,{})})]}),(0,c.Y)(q.pd,{"data-sensitive":C,autoComplete:"off"})]})})]}),(0,c.Y)(ee.S,{css:em.disclaimer,children:(0,c.Y)(c.FK,{children:f&&f.totalCount>0?(0,c.FD)(ee.S,{css:ec.disclaimer,row:!0,align:"center",children:[(0,c.FD)(J.Wv,{label:"affected-repls",noArrow:!0,isOpen:K,onOpenChange:V,placement:"bottom start",children:[(0,c.FD)("span",{css:ec.clickableText,children:[f.totalCount," Repl",1===f.totalCount?"":"s"," "]}),(0,c.Y)(ef,{links:f})]}),"will be affected by this change."]}):null})}),(0,c.FD)(ee.S,{css:em.footer,children:[u?(0,c.Y)("div",{}):(0,c.Y)(H.$n,{text:"Delete",colorway:"negative",onClick:function(){return T(!0)},iconLeft:(0,c.Y)(el.A,{})}),(0,c.FD)(ee.S,{css:em.footerGroup,children:[(0,c.Y)(H.$n,{text:"Cancel",onClick:o,disabled:x}),(0,c.Y)(H.$n,{text:"Save",colorway:"primary",loading:x,disabled:!N||!M||!y.length,onClick:en,type:"submit"})]})]}),(0,c.Y)(eu,{name:n,links:f,isOpen:F,onClose:function(){return T(!1)},onDelete:X,isLoading:P})]})},eg=function(){var e,n,t=(0,P.T)(),r=(0,I.A)().showError,s=(0,a._)((e={update:function(e,n){var a,s=n.data;if((null==s?void 0:null===(a=s.createSharedSecrets)||void 0===a?void 0:a.__typename)==="CreateSharedSecretsResult"){var c=s.createSharedSecrets.createdSecrets;e.modify({id:e.identify({__typename:"CurrentUser",id:t}),fields:{secrets:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[]},t=c.map(function(n){return e.writeFragment({data:n,fragment:x})});return(0,o._)((0,i._)({},n),{items:(0,l._)(t).concat((0,l._)(n.items))})}}})}else(null==s?void 0:s.createSharedSecrets)&&r(s.createSharedSecrets.message)},onError:function(e){r("Failed to create secret. Please try again."),h.Cp(e)}},n=(0,i._)({},E,e),S.n(A,n)),2);return[s[0],s[1]]},ey=function(){var e,n,t=(0,P.T)(),r=(0,I.A)().showError,l=(0,a._)((e={update:function(e,n){var a,l=n.data;if((null==l?void 0:null===(a=l.updateSharedSecrets)||void 0===a?void 0:a.__typename)==="UpdateSharedSecretsResult"){var s=l.updateSharedSecrets.updatedSecrets;e.modify({id:e.identify({__typename:"CurrentUser",id:t}),fields:{secrets:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[]},t=n.items.map(function(n){var t=s.find(function(e){return e.id===n.id});return t?e.writeFragment({data:t,fragment:x}):n});return(0,o._)((0,i._)({},n),{items:t})}}})}else(null==l?void 0:l.updateSharedSecrets)&&r(l.updateSharedSecrets.message)},onError:function(e){r("Failed to update secret. Please try again."),h.Cp(e)}},n=(0,i._)({},E,e),S.n(F,n)),2);return[l[0],l[1]]},ew=function(){var e,n,t=(0,P.T)(),r=(0,I.A)().showError,l=(0,a._)((e={update:function(e,n,a){var l,s=n.data,c=a.variables,u=null==c?void 0:c.id;u&&(null==s?void 0:null===(l=s.deleteSharedSecret)||void 0===l?void 0:l.__typename)==="DeleteSharedSecretResult"?e.modify({id:e.identify({__typename:"CurrentUser",id:t}),fields:{secrets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[]},n=(arguments.length>1?arguments[1]:void 0).readField;return(0,o._)((0,i._)({},e),{items:e.items.filter(function(e){return n("id",e)!==u})})}}}):(null==s?void 0:s.deleteSharedSecret)&&"message"in s.deleteSharedSecret&&r(s.deleteSharedSecret.message)},onError:function(e){r("Failed to delete secret. Please try again."),h.Cp(e)}},n=(0,i._)({},E,e),S.n(T,n)),2);return[l[0],l[1]]},eS=function(e){var n,t=e.id,l=e.name,u=e.value,d=e.timeUpdated,h=e.onRemoveSecret,f=e.secrets,g="0"===e.version,y=(0,a._)((0,p.useState)(g),2),w=y[0],S=y[1],b=(0,p.useRef)(null),Y=(0,p.useCallback)(function(){setTimeout(function(){var e;return null===(e=b.current)||void 0===e?void 0:e.focus()},0)},[]),_=(0,a._)(eg(),1)[0],C=(0,a._)(ey(),1)[0],k=(0,a._)(ew(),1)[0],E=(0,p.useCallback)((n=(0,r._)(function(e){return(0,s.YH)(this,function(n){switch(n.label){case 0:if(!g)return[3,2];return[4,_({variables:{input:{ownerType:v.n0.Account,secrets:[e]}}})];case 1:return n.sent(),(0,L.u4)(U.AZ.SHARED_SECRETS_USED,{ownerType:"account",action:"create",source:"account"}),[3,4];case 2:return[4,C({variables:{input:{ownerType:v.n0.Account,secrets:[(0,o._)((0,i._)({},e),{id:t})]}}})];case 3:n.sent(),(0,L.u4)(U.AZ.SHARED_SECRETS_USED,{ownerType:"account",action:"update",source:"account"}),n.label=4;case 4:return S(!1),[2]}})}),function(e){return n.apply(this,arguments)}),[_,t,g,C]),x=(0,p.useCallback)(function(){S(!1),g?h():Y()},[g,h,Y]);return w||!d?(0,c.Y)(ev,{secrets:f,isNew:g,name:l,value:u,onDelete:(0,r._)(function(){return(0,s.YH)(this,function(e){switch(e.label){case 0:return[4,k({variables:{id:t}})];case 1:return e.sent(),(0,L.u4)(U.AZ.SHARED_SECRETS_USED,{ownerType:"account",action:"delete",source:"account"}),h(),[2]}})}),onSave:E,onCancel:x}):(0,c.FD)(ee.S,{css:ep.secretItem,children:[(0,c.Y)(ee.S,{children:l}),(0,c.Y)(eh,{value:u}),(0,c.FD)(ee.S,{css:ep.secretTimestamp,children:["Updated ",(0,m.A)(new Date(d),"MM/dd/yy")]}),(0,c.Y)(ee.S,{align:"end",children:(0,c.Y)(z.K0,{alt:"Edit",onClick:function(){return S(!0)},ref:b,children:(0,c.Y)(et.A,{})})})]})};function eb(){var e,n,t,r,o=(e=(0,i._)({},E,void 0),w.I(D,e)).data,s=(0,a._)((0,p.useState)((null==o?void 0:null===(t=o.currentUser)||void 0===t?void 0:null===(n=t.secrets)||void 0===n?void 0:n.__typename)==="SharedSecretConnection"?o.currentUser.secrets.items:[]),2),u=s[0],d=s[1];(0,p.useEffect)(function(){var e,n;d((null==o?void 0:null===(n=o.currentUser)||void 0===n?void 0:null===(e=n.secrets)||void 0===e?void 0:e.__typename)==="SharedSecretConnection"?o.currentUser.secrets.items:[])},[null==o?void 0:null===(r=o.currentUser)||void 0===r?void 0:r.secrets]);var h=(0,p.useCallback)(function(){d(function(e){return[{__typename:"SharedSecret",id:"temp-".concat((0,f.A)()),name:"",value:"",timeUpdated:new Date().toISOString(),timeCreated:new Date().toISOString(),version:"0"}].concat((0,l._)(e))})},[]),m=(0,p.useCallback)(function(e){d(function(n){return n.filter(function(n,t){return t!==e})})},[]);return(0,c.FD)(ee.S,{gap:8,children:[(0,c.FD)(ee.S,{row:!0,justify:"space-between",children:[(0,c.Y)(ee.S,{css:ep.titleWrapper,row:!0,gap:8,children:(0,c.Y)(X.EY,{variant:"subheadBig",multiline:!1,children:"Account Secrets"})}),(0,c.Y)(ee.S,{align:"center",row:!0,gap:8,children:(0,c.Y)(H.$n,{text:"New secret",iconLeft:(0,c.Y)(ea.A,{}),size:"small",colorway:"primary",onClick:h})})]}),(0,c.FD)(j.ui,{elevated:!0,css:ep.section,children:["Add secrets to your account to access them in any of your Apps.",0===u.length?(0,c.FD)(ee.S,{css:ep.emptyState,gap:8,children:[(0,c.Y)(eo.A,{size:24,color:N.LU.foregroundDimmest}),(0,c.Y)(X.EY,{color:"dimmer",children:"You haven't added any account secrets yet."})]}):(0,c.Y)(j.ui,{elevated:!0,css:ep.secretList,children:u.map(function(e,n){return(0,c.Y)(eS,(0,i._)({secrets:u,onRemoveSecret:function(){return m(n)}},e),e.id)})})]})]})}},84199:(e,n,t)=>{t.d(n,{A:()=>p});var r=t(94086),i=t(10168),o=t(32842),a=t(40172),l=t(40889),s=t(8367),c=t(14753),u=s.D.form,d=(0,i.x)({content:[o.wp.colWithGap(24)]});function p(e){return(0,r.FD)(u,{css:d.content,onSubmit:function(n){n.preventDefault(),e.onConfirm()},children:[(0,r.Y)(l.Y9,{variant:"headerDefault",level:2,children:e.title}),"string"==typeof e.children?(0,r.Y)(l.EY,{children:e.children}):e.children,(0,r.FD)(s.S,{row:!0,gap:12,justify:"end",children:[(0,r.Y)(a.$n,{type:"button",onClick:e.onCancel,text:"Cancel"}),(0,r.Y)(a.$n,{type:"submit",disabled:e.loading,iconLeft:e.loading?(0,r.Y)(c.A,{}):e.confirmIcon,colorway:e.isDestructive?"negative":"primary",text:e.confirmLabel||"Confirm"})]})]})}},23108:(e,n,t)=>{t.d(n,{A:()=>P});var r=t(66622),i=t(94086),o=t(30758),a=t(77325),l=t(42420),s=t(20837),c=t(43952),u=t(45009),d=t(30632),p=t(75838);function h(){var e=(0,u._)(["\n  mutation SendSmsVerification($input: SendSmsVerificationInput!) {\n    sendSmsVerification(input: $input) {\n      ... on SendSmsVerificationResult {\n        __typename\n        success\n      }\n      ... on UserError {\n        __typename\n        message\n      }\n      ... on TooManyRequestsError {\n        __typename\n        message\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return h=function(){return e},e}function m(){var e=(0,u._)(["\n  mutation ConfirmSmsVerification($input: ConfirmSmsVerificationInput!) {\n    confirmSmsVerification(input: $input) {\n      ... on ConfirmSmsVerificationResult {\n        __typename\n        success\n      }\n      ... on UserError {\n        __typename\n        message\n      }\n      ... on TooManyRequestsError {\n        __typename\n        message\n      }\n      ... on UnauthorizedError {\n        __typename\n        message\n      }\n    }\n  }\n"]);return m=function(){return e},e}var f={},v=(0,d.J1)(h()),g=(0,d.J1)(m()),y=function(e,n){switch(n.type){case"setPhoneNumber":return(0,c._)((0,s._)({},e),{phoneNumber:n.phoneNumber});case"setCode":return(0,c._)((0,s._)({},e),{code:n.code});case"setError":return(0,c._)((0,s._)({},e),{error:n.message});case"setMode":return(0,c._)((0,s._)({},e),{mode:n.mode});default:return e}},w=function(){var e,n,t,i,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=a.onSuccess,u=a.context,d=(0,r._)((0,o.useReducer)(y,{mode:"phone-input"}),2),h=d[0],m=d[1],w=(0,r._)((e={onError:function(){return m({type:"setError",message:"Something went wrong"})},onCompleted:function(e){if("SendSmsVerificationResult"===e.sendSmsVerification.__typename){m({type:"setMode",mode:"code-input"});return}m({type:"setError",message:e.sendSmsVerification.message})}},n=(0,s._)({},f,e),p.n(v,n)),2),S=w[0],b=w[1].loading,Y=(0,r._)((t={onError:function(){return m({type:"setError",message:"Something went wrong"})},onCompleted:function(e){if("ConfirmSmsVerificationResult"===e.confirmSmsVerification.__typename){null==l||l(),m({type:"setMode",mode:"success"});return}m({type:"setError",message:e.confirmSmsVerification.message})}},i=(0,s._)({},f,t),p.n(g,i)),2),_=Y[0],C=Y[1].loading;return[(0,c._)((0,s._)({},h),{loading:C||b}),{reset:function(){m({type:"setMode",mode:"phone-input"}),m({type:"setPhoneNumber",phoneNumber:void 0}),m({type:"setCode",code:void 0}),m({type:"setError",message:void 0})},submitCode:function(){if(!C){var e=h.phoneNumber,n=h.code;if(!e){m({type:"setError",message:"Phone number is required"});return}if(!n){m({type:"setError",message:"Verification code is required"});return}m({type:"setError",message:void 0}),_({variables:{input:{phoneNumber:e,code:n,context:u}}})}},submitPhoneNumber:function(){if(!b){var e=h.phoneNumber;if(!e){m({type:"setError",message:"Phone number is required"});return}m({type:"setError",message:void 0}),S({variables:{input:{phoneNumber:e,context:u}}})}},handleCodeChange:function(e){m({type:"setCode",code:e})},handlePhoneNumberChange:function(e){m({type:"setPhoneNumber",phoneNumber:e})}}]},S=t(24955),b=t(73943),Y=t(10168),_=t(2298),C=t(32842),k=t(40172),E=t(28354),x=t(93532),D=t(40889),A=t(8367),F=t(14753),T=(0,Y.x)({mobilePhoneInput:[{".PhoneInput":[C.wp.display.flex,C.wp.rowWithGap(4),_.b.filledAndOutlined,C.wp.px(8),C.wp.py(4),C.wp.color.foregroundDefault,{".PhoneInputCountry":[C.wp.rowWithGap(4),C.wp.display.flex,C.wp.align.center,C.wp.flex.shrink(1),C.wp.position.relative,{".PhoneInputCountryIcon":[C.wp.width(16),C.wp.height(12),{".PhoneInputCountryIconImg":[C.wp.display.block,C.wp.width("100%"),C.wp.height("100%")]}],".PhoneInputCountrySelect":[C.wp.position.absolute,C.wp.top(0),C.wp.left(0),C.wp.width("100%"),C.wp.height("100%"),{opacity:0,zIndex:1,cursor:"pointer"}],".PhoneInputCountrySelectArrow":[C.wp.display.block,C.wp.width(8),C.wp.height(8),C.wp.mx(2),C.wp.mb(4),{content:'""',borderStyle:"solid",borderColor:S.LU.foregroundDefault,borderTopWidth:0,borderBottomWidth:1,borderLeftWidth:0,borderRightWidth:1,transform:"rotate(45deg)"}]}],".PhoneInputInput":[C.wp.flex.grow(1),{appearance:"none",background:"transparent",border:0,"&:focus":{outline:0}}]}]}],resetResendOptions:[C.wp.display.inlineBlock],textButton:[C.wp.reset.button,C.wp.color.accentPrimaryStronger,C.wp.focusRing,C.wp.borderRadius(4),{":focus":{outlineOffset:"2px"},transitionProperty:"color, box-shadow",transitionDuration:b.Ds.duration,transitionTimingFunction:b.Ds.timingFunction,":not([disabled])":{textDecoration:"underline",cursor:"pointer","@media (hover: hover)":{":hover":{color:S.LU.accentPrimaryStrongest}},":not(textarea):active":{color:S.LU.accentPrimaryStrongest}}}]}),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=(0,o.useId)();return e?"".concat(e,"-").concat(n):n};let P=function(e){var n=e.context,t=e.ctas,o=void 0===t?{sendCode:"Send code",confirmCode:"Confirm code"}:t,s=e.onSuccess,c=e.autoFocus,u=(0,r._)(w({onSuccess:s,context:n}),2),d=u[0],p=u[1],h=U("sms-verification-phone"),m=U("sms-verification-phone-error"),f=U("sms-verification-code"),v=U("sms-verification-code-error");switch(d.mode){case"phone-input":return(0,i.FD)(A.S,{css:T.mobilePhoneInput,gap:8,tag:"form",onSubmit:function(e){e.preventDefault(),p.submitPhoneNumber()},children:[(0,i.Y)(D.EY,{children:"Enter your phone number:"}),(0,i.Y)(a.s,{children:(0,i.Y)("label",{htmlFor:h,children:"Phone Number"})}),(0,i.Y)(l.Ay,{id:h,addInternationalOption:!1,countryCallingCodeEditable:!1,defaultCountry:"US",international:!0,value:d.phoneNumber,onChange:p.handlePhoneNumberChange,numberInputProps:{"aria-describedby":m,onKeyDown:function(e){"Enter"===e.key&&p.submitPhoneNumber()},autoFocus:void 0===c||c}}),d.error?(0,i.Y)(x.N,{id:m,colorway:"warning",text:d.error}):null,(0,i.Y)(D.EY,{variant:"small",color:"dimmer",children:"Your phone number is only used for account verification."}),(0,i.Y)(k.$n,{colorway:"primary",text:o.sendCode,loading:d.loading,type:"submit"})]});case"code-input":return(0,i.FD)(A.S,{gap:8,tag:"form",onSubmit:function(e){e.preventDefault(),p.submitCode()},children:[(0,i.FD)(D.EY,{children:["We just sent a verification code to ",d.phoneNumber,". Enter the code below."]}),(0,i.Y)(a.s,{children:(0,i.Y)("label",{htmlFor:f,children:"code"})}),(0,i.Y)(E.pd,{id:f,type:"text",inputMode:"numeric",pattern:"[0-9]*",autoComplete:"one-time-code",value:d.code,onChange:function(e){var n=e.currentTarget.value;return p.handleCodeChange(n)},onKeyDown:function(e){"Enter"===e.key&&p.submitCode()},"aria-describedby":v}),d.error?(0,i.Y)(x.N,{id:v,colorway:"warning",text:d.error}):null,(0,i.FD)(A.S,{gap:0,children:[(0,i.Y)(D.EY,{variant:"small",color:"dimmer",multiline:!0,children:"Didn't get the code?"}),(0,i.FD)(D.EY,{variant:"small",color:"dimmer",css:T.resetResendOptions,children:[(0,i.Y)("button",{disabled:d.loading,css:T.textButton,onClick:p.submitPhoneNumber,type:"button",children:"Resend the code"})," or ",(0,i.Y)("button",{disabled:d.loading,css:T.textButton,onClick:p.reset,type:"button",children:"use a different number"})]})]}),(0,i.Y)(k.$n,{text:o.confirmCode,colorway:"primary",loading:d.loading,type:"submit"})]});case"success":return(0,i.Y)(A.S,{align:"center",children:(0,i.Y)(F.A,{size:24})})}}},7897:(e,n,t)=>{t.d(n,{Ez:()=>p,a$:()=>u});var r=t(20837),i=t(45009),o=t(30632),a=t(72813);function l(){var e=(0,i._)(["\n  fragment ReplSelectorRepl on Repl {\n    id\n    title\n    timeUpdated\n    url\n    slug\n    owner {\n      ... on User {\n        id\n        username\n        image\n        fullName\n      }\n      ... on Team {\n        id\n        username\n        image\n      }\n    }\n    iconUrl\n    templateLabel\n  }\n"]);return l=function(){return e},e}function s(){var e=(0,i._)(["\n  query ReplSelector(\n    $search: String!\n    $excludePrivate: Boolean\n    $excludeMultiplayer: Boolean\n  ) {\n    currentUser {\n      id\n      replSearch(\n        search: $search\n        excludePrivate: $excludePrivate\n        excludeMultiplayer: $excludeMultiplayer\n      ) {\n        id\n        ...ReplSelectorRepl\n      }\n    }\n  }\n  ","\n"]);return s=function(){return e},e}var c={},u=(0,o.J1)(l()),d=(0,o.J1)(s(),u);function p(e){var n=(0,r._)({},c,e);return a.I(d,n)}},71416:(e,n,t)=>{t.d(n,{P:()=>c});var r=t(13454),i=t(5482),o=t(60049),a=t(30758),l=t(26190),s=t(99655);function c(e){var n=e.onAuth,t=e.onClose,c=(0,a.useRef)(null),u=(0,a.useRef)([]),d=(0,l.A)(n),p=(0,l.A)(void 0===t?function(){}:t),h=(0,o.useRouter)(),m=(0,s.Po)(h),f=function(){u.current.forEach(function(e){return e()}),u.current=[]};return(0,a.useEffect)(function(){return function(){f(),c.current&&c.current.close()}},[]),(0,a.useCallback)(function(){var e,n=(e=(0,r._)(function(e){return(0,i.YH)(this,function(n){return(e.origin===window.location.origin||"https://replit.com"===e.origin||"https://repl.it"===e.origin)&&"authenticated"===e.data&&(f(),c.current&&c.current.close(),d.current()),[2]})}),function(n){return e.apply(this,arguments)}),t=setInterval(function(){var e;(null===(e=c.current)||void 0===e?void 0:e.closed)&&(clearInterval(t),f(),p.current())},100);u.current.push(function(){window.removeEventListener("message",n),clearInterval(t)}),m?c.current=window.open("/mobile/auth/github/app_permissions"):c.current=window.open("/auth/github/app_permissions?close=1"),window.addEventListener("message",n)},[d,p,m])}},16335:(e,n,t)=>{t.d(n,{W:()=>a});var r=t(66622),i=t(30758),o=t(68279);function a(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.root,a=n.margin,l=n.amount,s=n.once,c=void 0!==s&&s,u=(0,r._)((0,i.useState)(!1),2),d=u[0],p=u[1];return(0,i.useEffect)(function(){var n;if(e.current&&(!c||!d))return(0,o.l)(e.current,function(){return p(!0),c?void 0:function(){return p(!1)}},{root:null!==(n=null==t?void 0:t.current)&&void 0!==n?n:void 0,rootMargin:a,threshold:l})},[t,e,a,c,l,d]),d}},66224:(e,n,t)=>{t.d(n,{d:()=>p,_:()=>y});var r=t(20837),i=t(78542),o=.5*(Math.sqrt(3)-1),a=(3-Math.sqrt(3))/6,l=new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),s=function(){"use strict";function e(){var n,t,r,o,a,l,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Math.random;(0,i._)(this,e);var c="function"==typeof s?s:(t=0,r=0,o=0,a=1,t=(n=0xefc8249d,l=function(e){e=e.toString();for(var t=0;t<e.length;t++){var r=.02519603282416938*(n+=e.charCodeAt(t));n=r>>>0,r-=n,r*=n,n=r>>>0,r-=n,n+=0x100000000*r}return(n>>>0)*23283064365386963e-26})(" "),r=l(" "),o=l(" "),(t-=l(s))<0&&(t+=1),(r-=l(s))<0&&(r+=1),(o-=l(s))<0&&(o+=1),function(){var e=2091639*t+23283064365386963e-26*a;return t=r,r=o,o=e-(a=0|e)});this.p=function(e){for(var n=new Uint8Array(256),t=0;t<256;t++)n[t]=t;for(var r=0;r<255;r++){var i=r+~~(e()*(256-r)),o=n[r];n[r]=n[i],n[i]=o}return n}(c),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var u=0;u<512;u++)this.perm[u]=this.p[255&u],this.permMod12[u]=this.perm[u]%12}return e.prototype.noise2D=function(e,n){var t,r,i=this.permMod12,s=this.perm,c=0,u=0,d=0,p=(e+n)*o,h=Math.floor(e+p),m=Math.floor(n+p),f=(h+m)*a,v=e-(h-f),g=n-(m-f);v>g?(t=1,r=0):(t=0,r=1);var y=v-t+a,w=g-r+a,S=v-1+2*a,b=g-1+2*a,Y=255&h,_=255&m,C=.5-v*v-g*g;if(C>=0){var k=3*i[Y+s[_]];C*=C,c=C*C*(l[k]*v+l[k+1]*g)}var E=.5-y*y-w*w;if(E>=0){var x=3*i[Y+t+s[_+r]];E*=E,u=E*E*(l[x]*y+l[x+1]*w)}var D=.5-S*S-b*b;if(D>=0){var A=3*i[Y+1+s[_+1]];D*=D,d=D*D*(l[A]*S+l[A+1]*b)}return 70*(c+u+d)},e}(),c=t(79920),u=new s,d=t(65640);function p(e){var n=!1,t=0,r=0,i=null,o=function(l){if(n){var s=l-t;r+=s,t=l,i=window.requestAnimationFrame(o),e({elapsedTime:r,deltaTime:s,stop:a})}},a=function(){n&&(n=!1,i&&window.cancelAnimationFrame(i))};return{start:function(){n||(r=0,t=performance.now(),n=!0,i=window.requestAnimationFrame(o))},stop:a}}var h=function(){return(0,c.Im)(600,1200)},m=function(){return(0,c.Im)(1,3)},f=function(){return{width:(0,c.Im)(5,20),height:(0,c.Im)(5,20)}},v=function(){return(0,c.tR)()};function g(e){return Array.isArray(e)?(0,c.D6)(e):e instanceof Function?e():e}function y(){var e=!1,n=null,t=null,i=[],o=null,a={},l=function(e){var n=!0,t=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0)!function(){var e=i.value;if(!a[e]){var n=new Image;n.src=e,n.onerror=function(){d.error('Failed to load particle image "'.concat(e,'"'))},a[e]=n}}()}catch(e){t=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}};return{getIsInstalled:function(){return e},addParticles:function(e){for(var n=e.x,t=e.y,s=e.numParticles,u=e.spread,d=e.heading,p=e.airDrag,y=void 0===p?.9:p,w=e.color,S=void 0===w?v:w,b=e.gravity,Y=void 0===b?800:b,_=e.velocity,C=void 0===_?h:_,k=e.size,E=void 0===k?f:k,x=e.lifetime,D=void 0===x?m:x,A=e.flip,F=void 0===A||A,T=e.image,U=void 0===T?void 0:T,P=g(void 0===u?60:u),I=g(void 0===d?90:d),L=(0,c.pu)(P),R=(0,c.pu)(-I),M=g(void 0===s?150:s),N=0;N<M;N++){var O=R+(0,c.Im)(-L/2,L/2),K=g(C),H=g(E),V=H.width,B=H.height,W=g(D),$=g(S),z=g(y),q=g(n),G=g(t),Z=g(U);"string"==typeof Z&&(a[Z]||l([Z]),Z=a[Z]),i.push((0,r._)({seed:(0,c.Im)(0,1e5),x:q,y:G,gravity:Y,airDrag:z,scaleX:1,scaleY:1,rotation:(0,c.Im)(0,(0,c.pu)(360)),velocityX:Math.cos(O)*K,velocityY:Math.sin(O)*K,angularVelocity:(0,c.Im)((0,c.pu)(-400),(0,c.pu)(400)),color:$,alpha:1,width:V,height:B,flip:F,lifetime:W,lifetimeRemaining:W},Z?{image:Z,type:"image"}:{type:(0,c.D6)(["rectangle","ellipse"])}))}null==o||o.start()},clearParticles:function(){i=[]},uninstall:function(){var r;e&&(n&&(null===(r=document.body)||void 0===r?void 0:r.contains(n))&&document.body.removeChild(n),o&&o.stop(),n=null,t=null,e=!1,a={})},install:function(){var r;!e&&document&&document.body&&((r=document.createElement("canvas")).style.position="fixed",r.style.top="0px",r.style.left="0px",r.style.pointerEvents="none",r.style.zIndex="999999",r.width=document.documentElement.clientWidth,r.height=document.documentElement.clientHeight,r.id="replit-particles-simulation",r.setAttribute("role","image"),r.ariaHidden="true",(t=(n=r).getContext("2d"))&&(document.body.appendChild(n),o=p(function(e){var r=e.deltaTime,o=e.stop;if(n&&t){var a=t,l=window.scrollX,s=window.scrollY;n.width!==document.documentElement.clientWidth&&(n.width=document.documentElement.clientWidth),n.height!==document.documentElement.clientHeight&&(n.height=document.documentElement.clientHeight),t.clearRect(0,0,n.width,n.height),i.map(function(e){var n,t,i,o,a,l;return t=(n={particle:e,deltaTime:r}).particle,i=n.deltaTime,t.velocityY+=t.gravity*i/1e3,t.x+=t.velocityX*i/1e3,t.y+=t.velocityY*i/1e3,t.rotation+=t.angularVelocity*i/1e3,t.velocityX*=t.airDrag,t.velocityY*=t.airDrag,t.flip&&(t.scaleY=2*(0,c.tH)(t.lifetimeRemaining,.5)),o=(0,c.IC)(t.velocityX,t.velocityY),a=(0,c.wQ)(t.velocityX,t.velocityY),l=o+.05*u.noise2D(t.seed,t.lifetimeRemaining),void(t.velocityX=Math.cos(l)*a,t.velocityY=Math.sin(l)*a,t.lifetimeRemaining-=i/1e3,t.lifetimeRemaining<=0?t.alpha=0:t.alpha=1-(t.lifetime-t.lifetimeRemaining)/t.lifetime)}),i.map(function(e){var n,t,r,i,o,c,u,d,p;return t=(n={particle:e,ctx:a,scrollX:l,scrollY:s}).particle,r=n.ctx,i=n.scrollX,o=n.scrollY,c=t.width*t.scaleX,u=t.height*t.scaleY,d=t.x-i,p=t.y-o,void(r.save(),r.translate(d,p),r.rotate(t.rotation),r.globalAlpha=t.alpha,"image"===t.type?r.drawImage(t.image,-c/2,-u/2,c,u):"rectangle"===t.type?(r.fillStyle=t.color,r.fillRect(-c/2,-u/2,c,u)):"ellipse"===t.type&&(r.fillStyle=t.color,r.beginPath(),r.ellipse(0,0,c/2,u/2,0,0,2*Math.PI),r.fill()),r.restore())}),0===(i=i.filter(function(e){return e.lifetimeRemaining>0})).length&&o()}}),e=!0))},preloadImages:l,unloadImages:function(e){var n=!0,t=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var l=i.value;delete a[l]}}catch(e){t=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(t)throw r}}}}}},60095:(e,n,t)=>{t.d(n,{E_:()=>d,Im:()=>s.Im,mO:()=>p});var r=t(20837),i=t(16530),o=t(30758),a=t(94424),l=t(66224),s=t(79920),c=t(99655),u=(0,l._)(),d=function(e){return e[e.East=0]="East",e[e.NorthEast=45]="NorthEast",e[e.North=90]="North",e[e.NorthWest=135]="NorthWest",e[e.West=180]="West",e[e.SouthWest=225]="SouthWest",e[e.South=270]="South",e}({});function p(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preloadImages,n=(0,a.j)(),t=(0,c.m5)();(0,o.useEffect)(function(){if(!t)return u.install(),function(){u.uninstall()}},[t]),(0,o.useEffect)(function(){e&&u.preloadImages(e)},[e]);var l=function(e){n||u.addParticles(e)},d=function(e){n||u.addParticles((0,r._)({numParticles:125,spread:360,velocity:function(){return(0,s.Im)(400,900)},size:function(){return{width:(0,s.Im)(5,15),height:(0,s.Im)(5,25)}}},e))};return{fireBurst:l,fireBurstFrom:function(e){var t=e.element,o=(0,i._)(e,["element"]);if(!n){var a=(0,s.CL)(t),c=a.x,u=a.y;l((0,r._)({x:c,y:u},o))}},fireCircularBurst:d,fireCircularBurstFrom:function(e){var t=e.element,o=(0,i._)(e,["element"]);if(!n){var a=(0,s.CL)(t),l=a.x,c=a.y;d((0,r._)({x:l,y:c},o))}},fireDirectionalBurst:function(e){var t=e.direction,o=(0,i._)(e,["direction"]);n||u.addParticles((0,r._)({heading:t},o))},fireDirectionalBurstFrom:function(e){var t=e.element,o=e.direction,a=(0,i._)(e,["element","direction"]);if(!n){var l=(0,s.CL)(t),c=l.x,d=l.y;u.addParticles((0,r._)({x:c,y:d,numParticles:100,velocity:function(){return(0,s.Im)(400,1500)},spread:60,size:function(){return{width:(0,s.Im)(5,15),height:(0,s.Im)(5,25)}},heading:o},a))}}}}},79920:(e,n,t)=>{t.d(n,{CL:()=>o,D6:()=>a,IC:()=>u,Im:()=>l,pu:()=>c,tH:()=>p,tR:()=>s,wQ:()=>d});var r=t(19944),i=t.n(r);function o(e){var n,t={x:(n=e.getBoundingClientRect()).left+n.width/2,y:n.top+n.height/2};return{x:t.x+window.scrollX,y:t.y+window.scrollY}}function a(e){var n;return e[n=e.length-1,i()(0,n,!1)]}function l(e,n){return i()(e,n,!0)}function s(){return"hsl(".concat(i()(0,360,!1),", 100%, 70%)")}function c(e){return e*Math.PI/180}function u(e,n){return Math.atan2(n,e)}function d(e,n){return Math.sqrt(Math.pow(e,2)+Math.pow(n,2))}function p(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return t-Math.abs((e%(n=2*t)+n)%n-t)}},68279:(e,n,t)=>{t.d(n,{l:()=>r});function r(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=t.root,i=t.rootMargin,o=t.threshold;if("undefined"==typeof IntersectionObserver)return function(){};var a=new WeakMap,l=new IntersectionObserver(function(e){e.forEach(function(e){var t=a.get(e.target);if(!!t!==e.isIntersecting){if(e.isIntersecting){var r=n(e);"function"==typeof r?a.set(e.target,r):l.unobserve(e.target)}else t&&(t(e),a.delete(e.target))}})},{root:r,rootMargin:i,threshold:void 0===o?1:o});return l.observe(e),function(){return l.disconnect()}}},53367:(e,n,t)=>{t.d(n,{n:()=>k});var r=t(94086),i=t(30758),o=t(97407),a=t(43828),l=t(10454),s=t(77420),c=t(10168),u=t(32842),d=t(40172),p=t(95235),h=t(93532),m=t(8367),f=t(10001),v=t(79653),g=t(14753),y=t(43249),w=(0,c.x)({loadingContainer:[u.wp.minHeight(80)]});function S(e){var n=e.goToNewPaymentMethodForm,t=(0,l.Q)(),c=t.loading,u=t.isOnTrialPlan,S=t.trialWillCancel,b=(0,s.y)(),Y=b.paymentMethod,_=b.loading,C=b.error,k=(0,i.useMemo)(function(){return u&&!S?(0,r.Y)(h.N,{colorway:"primary",icon:(0,r.Y)(v.A,{}),text:(0,r.FD)(r.FK,{children:["Adding a payment method will set your Replit ",o.en," ","membership to auto-renew at the end of the trial."]})}):(0,r.Y)(h.N,{colorway:"primary",icon:(0,r.Y)(v.A,{}),text:"Add a payment method to enable additional resource usage."})},[u,S]);return _||c||null!=C?(0,r.Y)(m.S,{css:w.loadingContainer,justify:"center",align:"center",children:(0,r.Y)(g.A,{})}):(0,r.FD)(m.S,{gap:16,children:[null!=Y?(0,r.Y)(m.S,{gap:16,children:(0,r.FD)(m.S,{row:!0,gap:8,align:"center",children:[(0,r.Y)(p.K0,{alt:"Update Payment Method",onClick:n,children:(0,r.Y)(f.A,{})}),(0,r.Y)(a.l,{last4:Y.last4})]})}):null," ",null==Y?(0,r.FD)(m.S,{gap:6,children:[k,(0,r.Y)(d.$n,{text:"Add Payment Method",iconLeft:(0,r.Y)(y.A,{}),onClick:n})]}):null]})}var b=t(69796),Y=t(15494),_=t(40889),C=t(84761);function k(){var e=(0,Y.r)({step:"card_preferences"}),n=e.currentStep,t=e.goBack,i=e.goTo;switch(n.step){case"card_preferences":return(0,r.Y)(S,{goToNewPaymentMethodForm:function(){return i({step:"new_payment_method_form"})}});case"new_payment_method_form":return(0,r.FD)(m.S,{gap:16,children:[(0,r.FD)(m.S,{row:!0,gap:8,align:"center",children:[(0,r.Y)(p.K0,{alt:"Back",onClick:t,children:(0,r.Y)(C.A,{})}),(0,r.Y)(_.EY,{variant:"subheadDefault",multiline:!1,children:"Update Payment Method"})]}),(0,r.Y)(b.y,{onSuccess:t,context:"account_page"})]})}}},15494:(e,n,t)=>{t.d(n,{r:()=>a});var r=t(66622),i=t(27189),o=t(30758);function a(e){var n=(0,r._)((0,o.useState)(e),2),t=n[0],a=n[1],l=(0,r._)((0,o.useState)([]),2),s=l[0],c=l[1],u=(0,o.useCallback)(function(e){c((0,i._)(s).concat([t])),a(e)},[s,c,t,a]);return{currentStep:t,goTo:u,goBack:(0,o.useCallback)(function(){var e=s.pop();c(s),e&&a(e)},[s,c,a]),canGoBack:s.length>0}}},56573:(e,n,t)=>{t.d(n,{A:()=>b,E:()=>S});var r=t(72275),i=t(20837),o=t(43952),a=t(16530),l=t(66622),s=t(94086),c=t(30758),u=t(30693),d=t(24955),p=t(2298),h=t(32842),m=t(8367),f=t(25688),v=t(30111),g=function(e){var n,t=e.uuid,i=e.isExpanded,o=e.disabled;return n={role:"button",tag:"button"},(0,r._)(n,"aria-expanded",i),(0,r._)(n,"id","".concat("AccordionControl"+t)),(0,r._)(n,"aria-controls","".concat("AccordionContent"+t)),(0,r._)(n,"type","button"),(0,r._)(n,"disabled",o),n},y=function(e){var n=e.toggleOn,t=e.uuid,r=e.onClick,l=e.isExpanded,u=e.children,d=e.className,f=e.disabled,v=void 0!==f&&f,y=(0,a._)(e,["toggleOn","uuid","onClick","isExpanded","children","className","disabled"]),w=(0,c.useMemo)(function(){return g({uuid:t,isExpanded:l,disabled:v})},[t,l,v]);return(0,s.Y)(m.S,(0,o._)((0,i._)({className:d},n?(0,i._)({css:[h.wp.reset.button,p.b.listItem],onClick:v?void 0:r},w,y):y),{children:u}))},w=function(){},S=function(e){var n=e.defaultExpanded,t=e.expanded,r=e.onChange,i=e.disabled,o=void 0!==i&&i,a=(0,l._)((0,u.P)(t,void 0!==n&&n,void 0===r?w:r),2),s=a[0],d=void 0!==s&&s,p=a[1],h=(0,c.useCallback)(function(){o||p(!d)},[o,d,p]);return{isExpanded:d,toggle:h}};function b(e){var n=e.className,t=e.children,a=e.headerContent,l=e.expanded,u=e.defaultExpanded,p=e.variant,b=void 0===p?"default":p,Y=e.chevron,_=void 0===Y?"end":Y,C=e.toggleOn,k=void 0===C?"header":C,E=e.onClick,x=e.round,D=e.animateChevron,A=void 0===D||D,F=e.disabled,T=void 0!==F&&F,U=e.headerProps,P=(0,c.useId)(),I=S({defaultExpanded:void 0!==u&&u,expanded:l,onChange:void 0===E?w:E,disabled:T}),L=I.isExpanded,R=I.toggle,M="large"===b?24:void 0,N="large"===b?[h.wp.py(16),h.wp.px(24),(0,r._)({},(0,f.kT)("mobileMax"),[h.wp.p(16)])]:[h.wp.p(4)],O=(0,c.useMemo)(function(){return g({uuid:P,isExpanded:L,disabled:T})},[P,L,T]);return(0,s.FD)(m.S,{css:[h.wp.flex.column],className:n,children:[(0,s.FD)(y,(0,o._)((0,i._)({},U),{css:[h.wp.display.flex,h.wp.flex.row,h.wp.justify.spaceBetween,h.wp.align.stretch,N,[void 0===x||x?[h.wp.borderRadius(4)]:[h.wp.borderRadius(0)]]],toggleOn:"header"===k,uuid:P,onClick:R,isExpanded:L,disabled:T,children:["start"===_&&(0,s.Y)(y,{css:[h.wp.px(4),h.wp.justify.center],toggleOn:"chevron"===k,uuid:P,onClick:R,isExpanded:L,disabled:T,children:(0,s.Y)(v.A,{size:M,rotate:L?0:180,color:T?d.LU.foregroundDimmest:void 0,css:[A&&h.wp.transition.snappy]})}),"function"==typeof a?a({isExpanded:L,toggle:R,toggleAttributes:O}):a,"end"===_&&(0,s.Y)(y,{css:[h.wp.px(4),h.wp.justify.center],toggleOn:"chevron"===k,uuid:P,onClick:R,isExpanded:L,disabled:T,children:(0,s.Y)(v.A,{size:M,rotate:L?0:180,color:T?d.LU.foregroundDimmest:void 0,css:[A&&h.wp.transition.snappy]})})]})),L?(0,s.Y)(m.S,{"aria-labelledby":"AccordionControl"+P,id:"AccordionContent"+P,children:t}):null]})}},63481:(e,n,t)=>{t.d(n,{A:()=>s});var r=t(94086),i=t(40172),o=t(40889),a=t(8367),l=t(14753);function s(e){var n=e.prompt,t=e.desc,s=e.confirmText,c=e.loading,u=void 0!==c&&c,d=e.onCancel,p=e.onConfirm,h=e.danger,m=e.icon;return(0,r.FD)(a.S,{gap:24,children:[(0,r.Y)(o.Y9,{level:3,variant:"headerDefault",children:n}),(0,r.Y)(o.EY,{children:t}),(0,r.FD)(a.S,{row:!0,gap:12,justify:"end",children:[d?(0,r.Y)(i.$n,{disabled:u,onClick:d,text:"Cancel"}):null,(0,r.Y)(i.$n,{colorway:h?"negative":"primary",disabled:u,onClick:p,text:s||"Ok",iconLeft:u?(0,r.Y)(l.A,{}):m})]})]})}},2420:(e,n,t)=>{t.d(n,{d:()=>w});var r=t(20837),i=t(43952),o=t(16530),a=t(94086),l=t(30758),s=t(57092),c=t(89856),u=t(77071),d=t(44052),p=t(77325),h=t(24955),m=t(10168),f=t(32842),v=t(40889),g=t(8367).D.label,y=(0,m.x)({label:[f.wp.rowWithGap(8),f.wp.align.center],svg:{" [data-switch-outline]":{transition:"stroke 100ms ease-out"},":hover [data-switch-outline]":{transition:"stroke 0ms"}},background:{transition:"fill 80ms ease-out"},button:{transition:"x 80ms ease-out"}}),w=function(e){var n=e.colorway,t=e.dataCy,m=(0,o._)(e,["colorway","dataCy"]),f=h.ky[void 0===n?"primary":n],w=(0,l.useRef)(null),S=(0,s.H)(m),b=(0,c.K)(m,S,w).inputProps,Y=(0,u.o)(m),_=Y.focusProps,C=Y.isFocusVisible,k=(0,d.M)(m),E=k.hoverProps,x=k.isHovered,D=S.isSelected,A=m.isDisabled||!1,F=m.isReadOnly||!1,T=l.Children.count(m.children)>0;void 0!==m["aria-label"]||m["aria-labelledby"];var U=(0,a.FD)("svg",(0,i._)((0,r._)({"aria-hidden":"true"},E),{width:"38",height:"24",viewBox:"0 0 38 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",overflow:C?"visible":"hidden",style:{cursor:A||F?"auto":"pointer"},css:y.svg,children:[(0,a.Y)("rect",{x:"0",y:"0",width:"38",height:"24",rx:"12",fill:D?A||F?f.dimmer:f.default:h.LU.interactiveBorder,css:y.background}),(0,a.Y)("rect",{x:D?"18":"4",y:"4",width:"16",height:"16",rx:"8",fill:h.LU.white,opacity:A?.7:1,css:y.button}),(0,a.Y)("rect",{x:"0.5",y:"0.5",width:"37",height:"23",rx:"12",stroke:!x||A||F?"transparent":D?f.strongest:h.LU.interactiveBorderHover,"data-switch-outline":!0}),(0,a.Y)("rect",{x:"-1",y:"-1",stroke:C?D?f.strongest:f.default:"transparent",width:"40",height:"26",rx:"13",strokeWidth:"2"})]}));return T?(0,a.FD)(g,{css:y.label,"data-cy":t,children:[(0,a.Y)(p.s,{children:(0,a.Y)("input",(0,i._)((0,r._)({},b,_),{ref:w}))}),U,(0,a.Y)(v.EY,{multiline:!1,children:m.children})]}):(0,a.FD)(g,{css:y.label,"data-cy":t,children:[(0,a.Y)(p.s,{children:(0,a.Y)("input",(0,i._)((0,r._)({},b,_),{ref:w}))}),U]})}},62514:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(20837),i=t(43952),o=t(94086),a=t(42022);function l(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M12 4.25a.75.75 0 0 1 .75.75v12.19l5.72-5.72a.75.75 0 1 1 1.06 1.06l-7 7a.75.75 0 0 1-1.06 0l-7-7a.75.75 0 1 1 1.06-1.06l5.72 5.72V5a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}))}},67415:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(20837),i=t(43952),o=t(94086),a=t(42022);function l(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M12 3.75A3.25 3.25 0 0 0 8.75 7v.25h6.5V7A3.25 3.25 0 0 0 12 3.75Zm4.75 3.604V7a4.75 4.75 0 1 0-9.5 0v.354c-.444.125-.842.36-1.164.671L4.53 6.47a.75.75 0 0 0-1.06 1.06l1.85 1.85c-.046.2-.07.407-.07.62v3.25H3a.75.75 0 0 0 0 1.5h2.291a6.709 6.709 0 0 0 1.018 2.88l-1.84 1.84a.75.75 0 1 0 1.061 1.06l1.727-1.727A6.729 6.729 0 0 0 12 20.75a6.728 6.728 0 0 0 4.743-1.947l1.727 1.727a.75.75 0 1 0 1.06-1.06l-1.839-1.84a6.71 6.71 0 0 0 1.018-2.88H21a.75.75 0 0 0 0-1.5h-2.25V10c0-.213-.024-.42-.07-.62l1.85-1.85a.75.75 0 0 0-1.06-1.06l-1.556 1.555a2.747 2.747 0 0 0-1.164-.671Zm-5.5 1.396H8c-.69 0-1.25.56-1.25 1.25v4a5.251 5.251 0 0 0 4.5 5.197V8.75Zm1.5 10.447V8.75H16c.69 0 1.25.56 1.25 1.25v4a5.251 5.251 0 0 1-4.5 5.197Z",clipRule:"evenodd"})}))}},43417:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(20837),i=t(43952),o=t(94086),a=t(42022);function l(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M22.555 4.496a.75.75 0 0 1-.05 1.059l-5.5 5a.75.75 0 0 1-1.01 0l-2.5-2.273a.75.75 0 1 1 1.01-1.11L16.5 8.986l4.996-4.541a.75.75 0 0 1 1.059.05ZM2.25 8A.75.75 0 0 1 3 7.25h6a.75.75 0 1 1 0 1.5H3A.75.75 0 0 1 2.25 8Zm20.305 4.496a.75.75 0 0 1-.05 1.059l-5.5 5a.75.75 0 0 1-1.01 0l-2.5-2.273a.75.75 0 1 1 1.01-1.11l1.995 1.814 4.996-4.54a.75.75 0 0 1 1.059.05ZM2.25 16a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}))}},9735:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(20837),i=t(43952),o=t(94086),a=t(42022);function l(e){return(0,o.Y)(a.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M8.47 11.47a.75.75 0 0 0 0 1.06l6 6a.75.75 0 1 0 1.06-1.06L10.06 12l5.47-5.47a.75.75 0 0 0-1.06-1.06l-6 6Z",clipRule:"evenodd"})}))}},976:(e,n,t)=>{t.d(n,{A:()=>l});var r=t(20837),i=t(43952),o=t(94086),a=t(42022);function l(e){return(0,o.FD)(a.Ay,(0,i._)((0,r._)({},e),{children:[(0,o.Y)("path",{fillRule:"evenodd",d:"M12.5 6.5a1 1 0 1 1 2 0 1 1 0 0 1-2 0ZM16.5 10.5a1 1 0 1 1 2 0 1 1 0 0 1-2 0ZM7.5 7.5a1 1 0 1 1 2 0 1 1 0 0 1-2 0ZM5.5 12.5a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z",clipRule:"evenodd"}),(0,o.Y)("path",{fillRule:"evenodd",d:"M1.25 12C1.25 6.086 6.086 1.25 12 1.25c5.79 0 10.712 4.267 10.742 9.586v.004c0 3.465-2.84 6.304-6.305 6.304h-2.009a.888.888 0 0 0-.905.905v.013c0 .294.082.46.217.594a2.461 2.461 0 0 1 .658 1.656c0 1.337-1.04 2.438-2.398 2.438-5.914 0-10.75-4.836-10.75-10.75ZM12 2.75c-5.086 0-9.25 4.164-9.25 9.25s4.164 9.25 9.25 9.25c.493 0 .898-.391.898-.938a.96.96 0 0 0-.236-.614c-.43-.439-.638-.99-.639-1.63a2.39 2.39 0 0 1 2.424-2.424h1.99c2.636 0 4.804-2.166 4.805-4.802C21.216 6.506 17.131 2.75 12 2.75Z",clipRule:"evenodd"})]}))}},52394:(e,n,t)=>{t.d(n,{P:()=>E});var r=t(13454),i=t(66622),o=t(5482),a=t(94086),l=t(60049),s=t(92809),c=t(54867),u=t(24897),d=t(21847),p=t(39651),h=t(82436),m=t(47096),f=t(99182),v=t(24955),g=t(10168),y=t(32842),w=t(84911),S=t(56573),b=t(40172),Y=t(28354),_=t(40889),C=t(8367),k=t(16021),E=function(e){var n=e.onConfirm,t=(0,p.A)(),u=t.showConfirm,v=t.showError,g=(0,l.useRouter)(),y=(0,f.A)(),E=(0,w.c)(),x=(0,d.W)("",F),U=(0,d.W)("",A),P=(0,i._)((0,s.n$)({onCompleted:function(e){var t;switch(null===(t=e.addPublicSshKey)||void 0===t?void 0:t.__typename){case"UserError":case"UnauthorizedError":case"ServiceUnavailable":v(e.addPublicSshKey.message);break;case"CurrentUser":x.setValue(""),U.setValue(""),u("SSH key added"),n();break;case void 0:case null:v("An unkown error occurred. Please try again.");break;default:(0,c.A)(e.addPublicSshKey)}},onError:function(e){v("Error adding SSH key: ".concat(e.message))}}),2),I=P[0],L=P[1].loading,R="[ -s ".concat(y,"/.ssh/replit.pub ] || ssh-keygen -t ed25519 -f ").concat(y,'/.ssh/replit -q -N "" && cat ').concat(y,"/.ssh/replit.pub");return(0,a.FD)(C.S,{gap:16,children:[(0,a.Y)(_.EY,{variant:"headerDefault",children:"Add a new SSH key"}),(0,a.FD)(C.S,{css:T.input,children:[(0,a.Y)(C.S,{tag:"label",htmlFor:E("label-input"),children:"Label"}),(0,a.Y)(Y.pd,{id:E("label-input"),placeholder:"Enter a label to identify this SSH key...",value:U.value,onChange:function(e){return U.setValue(e.target.value,{preventValidation:!0})},onBlur:U.handleBlur}),U.error?(0,a.Y)(_.EY,{multiline:!1,variant:"small",css:T.inputErrorMessage,children:U.error.message}):null]}),(0,a.FD)(C.S,{css:T.input,children:[(0,a.Y)(C.S,{tag:"label",htmlFor:E("key-input"),children:"Key"}),(0,a.Y)(Y.ov,{autoSize:!0,id:E("key-input"),placeholder:D,value:x.value,css:T.keyInput,onChange:function(e){return x.setValue(e.target.value,{preventValidation:!0})},onBlur:x.handleBlur}),x.error?(0,a.Y)(_.EY,{multiline:!1,variant:"small",css:T.inputErrorMessage,children:x.error.message}):null]}),(0,a.Y)(S.A,{headerContent:(0,a.Y)(_.EY,{color:"dimmer",children:"Learn how to generate an SSH key"}),headerProps:{style:{justifyContent:"start"}},children:(0,a.FD)(C.S,{css:T.dropdownContent,gap:4,children:[(0,a.Y)(_.EY,{color:"dimmer",children:"To generate an SSH key, run this shell command locally on your machine. The value it returns can be pasted into the key field."}),(0,a.Y)(m.A,{code:R,header:"Shell command",multiline:!0})]})}),(0,a.Y)(C.S,{row:!0,children:(0,a.Y)(b.$n,{disabled:L||!!x.error||!!U.error,colorway:"primary",text:"Add SSH key",type:"submit",iconLeft:(0,a.Y)(k.A,{}),onClick:(0,r._)(function(){var e,n;return(0,o.YH)(this,function(t){switch(t.label){case 0:return[4,x.validate()];case 1:return e=t.sent(),[4,U.validate()];case 2:if(n=t.sent(),e)return v(e.message),[2];if(n)return v(n.message),[2];return(0,h.u4)(h.AZ.ACCOUNT_SSH_KEY_ADDED,{path:g.pathname}),[4,I({variables:{input:{key:x.value.trim(),label:U.value.trim()}}})];case 3:return t.sent(),[2]}})})})})]})},x=u.v.map(function(e){return"'".concat(e,"'")}),D="Begins with ".concat(x.slice(0,-1).join(", "),", or ").concat(x[x.length-1]),A=function(e){return""===e.trim()?{message:"Label cannot be empty",severity:"error"}:null},F=function(e){var n=(0,u.A)(e);return n?{message:n,severity:"error"}:null},T=(0,g.x)({input:[y.wp.colWithGap(8)],keyInput:[y.wp.height(v.LU.space128)],inputErrorMessage:[y.wp.color.accentNegativeDefault],dropdownContent:[y.wp.px(6)]})},47096:(e,n,t)=>{t.d(n,{A:()=>m});var r=t(94086),i=t(98734),o=t(24955),a=t(10168),l=t(32842),s=t(95235),c=t(31955),u=t(40889),d=t(8367),p=t(30846),h=(0,a.x)({root:[l.wp.borderRadius(4),l.wp.border({color:o.LU.outlineDimmer,width:1,style:"solid"}),l.wp.p(8),l.wp.backgroundColor.backgroundDefault],body:[l.wp.overflow("auto"),l.wp.font.code,l.wp.flex.growAndShrink(1),l.wp.scrollbar.hidden]});function m(e){var n=e.code,t=e.header,o=e.multiline,a=e.onCopy;return(0,r.FD)(c.ui,{tag:"pre",css:h.root,gap:4,children:[(0,r.FD)(d.S,{row:!0,justify:"space-between",children:[(0,r.Y)(u.EY,{color:"dimmer",children:t}),(0,r.Y)(s.K0,{onClick:function(){null==a||a(),(0,i.A)(n)},alt:"Copy",children:(0,r.Y)(p.A,{})})]}),(0,r.Y)(d.S,{children:(0,r.Y)(u.EY,{multiline:o,css:h.body,maxLines:o?void 0:1,children:n})})]})}},38398:(e,n,t)=>{t.d(n,{p:()=>l});var r=t(94086),i=t(71181),o=t(14968),a=t(92578),l=function(){return(0,r.Y)(o.v,{href:i.R,target:"_blank",rel:"noopener",text:"Need help? Read the docs",variant:"underlinedOnHover",colorway:"primary",iconLeft:(0,r.Y)(a.A,{})})}},60732:(e,n,t)=>{t.d(n,{f:()=>A});var r=t(66622),i=t(94086),o=t(60049),a=t(30758),l=t(92809),s=t(54867),c=t(5846),u=t(35642),d=t(39651),p=t(98734),h=t(82436),m=t(40172),f=t(76985),v=t(93532),g=t(40889),y=t(8367),w=t(68753),S=function(e){var n=e.onClose,t=e.onConfirm,r=e.keyId;return(0,i.Y)(f.a,{centered:!0,isOpen:null!==r,onRequestClose:n,children:(0,i.FD)(y.S,{gap:16,children:[(0,i.Y)(g.EY,{variant:"headerDefault",children:"Delete SSH key"}),(0,i.Y)(v.N,{icon:(0,i.Y)(w.A,{}),colorway:"warning",text:"Are you sure you want to permanently delete this SSH key?"}),(0,i.Y)(g.EY,{multiline:!0,children:"This action cannot be undone. If you want to use this key again in the future, you can add it again."}),(0,i.FD)(y.S,{row:!0,gap:16,justify:"start",children:[(0,i.Y)(m.$n,{text:"Cancel",onClick:n}),(0,i.Y)(m.$n,{colorway:"negative",text:"Confirm and delete SSH key",onClick:null!==r?function(){return t(r)}:function(){}})]})]})})},b=t(24955),Y=t(10168),_=t(32842),C=t(95235),k=t(31955),E=t(30846),x=t(60676),D=t(8351),A=function(e){var n=e.keys,t=(0,o.useRouter)(),u=(0,d.A)(),m=u.showConfirm,f=u.showError,v=(0,r._)((0,a.useState)(null),2),w=v[0],Y=v[1],_=(0,r._)((0,l.P9)({onCompleted:function(e){if(!e.deletePublicSshKey)throw Error("Expected response");switch(e.deletePublicSshKey.__typename){case"UnauthorizedError":case"ServiceUnavailable":case"NotFoundError":f(e.deletePublicSshKey.message);break;case"CurrentUser":m("SSH key deleted");break;default:(0,s.A)(e.deletePublicSshKey)}},onError:function(e){f("Something unexpected happened while deleting the SSH key")}}),2),A=_[0],T=_[1].loading;return 0===n.length?(0,i.FD)(y.S,{css:U.emptyState,gap:8,children:[(0,i.Y)(x.A,{size:24,color:b.LU.foregroundDimmest}),(0,i.Y)(g.EY,{color:"dimmer",children:"You haven't added any SSH keys yet."})]}):(0,i.FD)(y.S,{tag:"ul",gap:8,children:[n.map(function(e){var n=e.timeCreated,t=e.label,r=e.key,o=e.id;return(0,i.FD)(k.ui,{elevated:!0,css:U.sshKeyItem,gap:4,tag:"li",children:[(0,i.FD)(y.S,{row:!0,gap:8,justify:"space-between",align:"center",children:[(0,i.Y)(g.EY,{variant:"small",css:U.keyLabelText,children:t}),(0,i.FD)(y.S,{row:!0,gap:4,children:[(0,i.Y)(C.K0,{alt:"Copy",onClick:function(){(0,p.A)(r)},children:(0,i.Y)(E.A,{size:16})}),(0,i.Y)(C.K0,{alt:"Delete public SSH key",disabled:T,onClick:function(){Y(o)},children:(0,i.Y)(D.A,{size:16})})]})]}),(0,i.FD)(y.S,{row:!0,gap:8,align:"center",children:[(0,i.Y)(x.A,{css:U.keyIcon}),(0,i.Y)(F,{sshKey:r})]}),(0,i.Y)(y.S,{css:U.keyTime,tag:"time",dateTime:n,children:(0,i.FD)(g.EY,{variant:"small",color:"dimmer",children:["Added on"," ",new Date(n).toLocaleDateString(void 0,{dateStyle:"long"})]})})]},o)}),(0,i.Y)(S,{keyId:w,onClose:function(){return Y(null)},onConfirm:function(e){(0,h.u4)(c.AZ.ACCOUNT_SSH_KEY_REMOVED,{path:t.pathname}),A({variables:{input:{id:e}}}),Y(null)}})]})},F=function(e){var n=e.sshKey,t=T(n),o=(0,r._)(t.ok?["".concat(t.value.keyType," ").concat(t.value.encodedKey.slice(0,-8)),"".concat(t.value.encodedKey.slice(-8)," ").concat(t.value.comment)]:[n.slice(0,-8),n.slice(-8)],2),a=o[0],l=o[1];return(0,i.FD)(y.S,{css:U.keyValueWrapper,row:!0,gap:0,children:[(0,i.Y)(g.EY,{variant:"small",color:"dimmer",maxLines:1,css:U.keyValuePrefix,children:a}),(0,i.Y)(g.EY,{variant:"small",color:"dimmer",maxLines:1,css:U.keyValueSuffix,children:l})]})},T=function(e){var n=e.split(" ");return n.length<3?u.Ay.Err("Key is in an unexpected format"):u.Ay.Ok({keyType:n[0],encodedKey:n[1],comment:n[2]})},U=(0,Y.x)({keyIcon:[_.wp.color.foregroundDimmer],sshKeyItem:[_.wp.p(8)],keyValueWrapper:[_.wp.flex.shrink(1)],keyTime:[_.wp.color.foregroundDimmer],keyLabelText:[_.wp.fontWeight.medium],keyValuePrefix:[_.wp.flex.shrink(1),{whiteSpace:"nowrap"},_.wp.truncate,_.wp.font.code],keyValueSuffix:[{whiteSpace:"nowrap"},_.wp.truncate,_.wp.font.code],emptyState:[_.wp.center,_.wp.border({color:b.LU.outlineDefault,width:1,style:"dashed"}),_.wp.borderRadius(4),_.wp.py(24),_.wp.px(12)]})},71181:(e,n,t)=>{t.d(n,{L:()=>i,R:()=>r});var r="https://docs.replit.com/replit-workspace/ssh",i=".config/ssh/.authorized_keys"},92809:(e,n,t)=>{t.d(n,{P9:()=>f,kl:()=>g,n$:()=>h});var r=t(20837),i=t(45009),o=t(30632),a=t(75838),l=t(72813);function s(){var e=(0,i._)(["\n  mutation AddSshKey($input: AddPublicSshKeyInput!) {\n    addPublicSshKey(input: $input) {\n      __typename\n      ... on CurrentUser {\n        id\n        publicSshKeys {\n          ... on PublicSshKeysOutput {\n            __typename\n            keys {\n              id\n              key\n              label\n              timeCreated\n            }\n          }\n          ... on UnauthorizedError {\n            __typename\n            message\n          }\n        }\n      }\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n    }\n  }\n"]);return s=function(){return e},e}function c(){var e=(0,i._)(["\n  mutation DeleteSshKey($input: DeletePublicSshKeyInput!) {\n    deletePublicSshKey(input: $input) {\n      __typename\n      ... on CurrentUser {\n        id\n        publicSshKeys {\n          ... on PublicSshKeysOutput {\n            __typename\n            keys {\n              id\n              key\n              label\n              timeCreated\n            }\n          }\n          ... on UnauthorizedError {\n            __typename\n            message\n          }\n        }\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n    }\n  }\n"]);return c=function(){return e},e}function u(){var e=(0,i._)(["\n  query SshKeysCurrentUser {\n    currentUser {\n      id\n      __typename\n      publicSshKeys {\n        ... on PublicSshKeysOutput {\n          keys {\n            id\n            key\n            label\n            timeCreated\n          }\n        }\n        ... on UnauthorizedError {\n          message\n        }\n      }\n    }\n  }\n"]);return u=function(){return e},e}var d={},p=(0,o.J1)(s());function h(e){var n=(0,r._)({},d,e);return a.n(p,n)}var m=(0,o.J1)(c());function f(e){var n=(0,r._)({},d,e);return a.n(m,n)}var v=(0,o.J1)(u());function g(e){var n=(0,r._)({},d,e);return l.I(v,n)}},99182:(e,n,t)=>{t.d(n,{A:()=>i});var r=t(54191);function i(){return(0,r.d0)()?"%HOMEPATH%":"~"}},89352:(e,n,t)=>{t.d(n,{_l:()=>p,hr:()=>u});var r=t(20837),i=t(45009),o=t(30632),a=t(75838);function l(){var e=(0,i._)(["\n  fragment DeleteDialogTheme on CustomTheme {\n    id\n    status\n    colorScheme\n    title\n  }\n"]);return l=function(){return e},e}function s(){var e=(0,i._)(["\n  mutation ThemesPreferencesDeleteDialogDeleteTheme($input: DeleteThemeInput!) {\n    deleteTheme(input: $input) {\n      ... on CustomTheme {\n        id\n        ...DeleteDialogTheme\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return s=function(){return e},e}var c={},u=(0,o.J1)(l()),d=(0,o.J1)(s(),u);function p(e){var n=(0,r._)({},c,e);return a.n(d,n)}},98427:(e,n,t)=>{t.d(n,{A:()=>d,U:()=>u});var r=t(20837),i=t(94086),o=t(5930),a=t(7564),l=t(84911),s=t(40889),c=t(8367),u=[{id:"replitDark",title:"dark",theme:a.T5,values:(0,r._)({__typename:"ThemeValues"},a.T5.values),dataCy:"preferences-theme-dark"},{id:"replitLight",title:"light",theme:a.FV,values:a.FV.values,dataCy:"preferences-theme-light"},{id:"replitSpooky",title:"spooky",theme:a.u_,values:a.u_.values,dataCy:"preferences-theme-spooky"}].map(function(e){return(0,r._)({type:"official"},e)});let d=function(){var e=(0,l.c)();return(0,i.FD)(c.S,{gap:12,children:[(0,i.Y)(s.EY,{variant:"subheadDefault",multiline:!1,children:"Official Themes"}),(0,i.Y)(o.A,{name:e("official-themes"),themes:u})]})}},5930:(e,n,t)=>{t.d(n,{A:()=>Q});var r=t(66622),i=t(94086),o=t(30758),a=t(43494),l=t.n(a),s=t(91101),c=t.n(s),u=t(24955),d=t(80436),p=t(20837),h=t(16530),m=t(27189),f=t(60049),v=t(30945),g=t(13454),y=t(5482),w=t(55937),S=t(89352),b=t(39651),Y=t(27007),_=t(82542),C=t(7564),k=t(63481),E=t(8367),x=t(8351);let D=function(e){var n,t=e.theme,a=e.onClose,l=e.refetchOptions,s=(0,b.A)(),c=s.showError,u=s.showConfirm,d=(0,_.D)(),p=d.setActiveTheme,h=d.theme,m=l?[{query:l.queryDoc,variables:{authoredThemesInput:l.input}}]:[],f=(0,r._)((0,o.useState)(function(){return t.status===w.vL.Public}),1)[0],v=(0,r._)((0,S._l)({onError:function(e){return c(e.message)},onCompleted:(n=(0,g._)(function(e){var n;return(0,y.YH)(this,function(r){switch(null===(n=e.deleteTheme)||void 0===n?void 0:n.__typename){case"UnauthorizedError":case"UserError":case"NotFoundError":c(e.deleteTheme.message);break;case"CustomTheme":(0,Y.oc)({themeId:t.id,isPublished:f,colorScheme:t.colorScheme}),u("".concat(t.title," deleted")),a();break;default:c("Something went wrong")}return[2]})}),function(e){return n.apply(this,arguments)}),refetchQueries:m}),2),D=v[0],A=v[1].loading;return(0,i.Y)(E.S,{children:(0,i.Y)(k.A,{prompt:"Delete ".concat(t.title),desc:"Are you sure you want to delete ".concat(t.title,"? This cannot be undone."),confirmText:"Yes, delete this Theme",onCancel:a,icon:(0,i.Y)(x.A,{}),onConfirm:(0,g._)(function(){return(0,y.YH)(this,function(e){return"number"!=typeof t.id||A||(h.id===t.id&&p(C.kl.id),D({variables:{input:{themeId:t.id}}})),[2]})}),loading:A,danger:!0})})};var A=t(16596),F=t(12628),T=t(10168),U=t(32842),P=t(84911),I=t(76985),L=t(74547),R=t(40889),M=t(12770),N=t(10001),O=t(83290),K=(0,T.x)({labelWrapper:[U.wp.rowWithGap(8),U.wp.align.center,U.wp.flex.growAndShrink(1)],label:[U.wp.flex.growAndShrink(1),{cursor:"pointer"}],cardLabel:[U.wp.borderRadius(8),{cursor:"pointer"},{border:"1px solid ".concat(u.LU.outlineDimmer)}],header:[U.wp.rowWithGap(8),U.wp.justify.spaceBetween]}),H=function(e){var n=e.theme,t=e.themesLoading,r=(0,P.c)();return(0,i.FD)(E.S,{gap:8,children:[(0,i.Y)(E.S,{css:K.header,children:(0,i.FD)(E.S,{css:K.labelWrapper,dataCy:n.dataCy,children:[(0,i.Y)(L.s,{id:r(n.id),name:r(n.id),disabled:t,value:n.id.toString()}),(0,i.Y)(E.S,{tag:"label",css:K.label,htmlFor:r(n.id),children:(0,i.Y)(R.EY,{multiline:!1,children:n.title})})]})}),(0,i.Y)(E.S,{tag:"label",htmlFor:r(n.id),css:K.cardLabel,children:(0,i.Y)(v.ZF,{values:n.values})})]})},V=[{label:"View",icon:(0,i.Y)(O.A,{}),key:"view"}],B=[{label:"Edit",icon:(0,i.Y)(N.A,{}),key:"edit"}].concat((0,m._)(V),[{label:"Delete",icon:(0,i.Y)(x.A,{}),key:"delete",isDestructive:!0}]),W=(0,m._)(V).concat([{label:"Uninstall",icon:(0,i.Y)(x.A,{}),key:"uninstall",isDestructive:!0}]),$=function(e){return e.Delete="Delete",e.Uninstall="Uninstall",e}($||{}),z=function(e){var n=e.theme,t=e.themesLoading,a=e.refetchOptions,l=(0,P.c)(),s=(0,f.useRouter)(),c=(0,r._)((0,o.useState)(null),2),u=c[0],d=c[1],p=n.isCurrentUserThemeAuthor?B:W;return(0,i.FD)(E.S,{gap:8,children:[(0,i.FD)(E.S,{css:K.header,children:[(0,i.FD)(E.S,{css:K.labelWrapper,children:[(0,i.Y)(L.s,{id:l(n.id),name:l(n.id),disabled:t,value:n.id.toString()}),(0,i.Y)(E.S,{tag:"label",css:K.label,htmlFor:l(n.id),children:(0,i.Y)(R.EY,{multiline:!1,children:n.title})})]}),(0,i.Y)(E.S,{children:(0,i.Y)(M.A,{items:p,orientation:"horizontal",label:"Theme actions",onItemClick:function(e){switch(e.key){case"edit":if(!n.isCurrentUserThemeAuthor||!(null===(t=n.author)||void 0===t?void 0:t.username))return;var t,r=(0,F.QT)({slug:n.slug,themeId:n.id,username:n.author.username}),i=r.href,o=r.as;s.push(i,o);return;case"view":if(!(null===(a=n.author)||void 0===a?void 0:a.username))return;var a,l=(0,F.kk)({slug:n.slug,themeId:n.id,username:n.author.username}),c=l.href,u=l.as;s.push(c,u);return;case"delete":if(!n.isCurrentUserThemeAuthor)return;d("Delete");break;case"uninstall":if(!n.isInstalledByCurrentUser)return;d("Uninstall")}}})})]}),(0,i.Y)(E.S,{tag:"label",css:K.cardLabel,htmlFor:l(n.id),children:(0,i.Y)(v.Ay,{values:n.values,author:n.author})}),(0,i.Y)(I.a,{isOpen:"Delete"===u,onRequestClose:function(){return d(null)},children:(0,i.Y)(D,{refetchOptions:a,theme:n,onClose:function(){return d(null)}})}),(0,i.Y)(I.a,{isOpen:"Uninstall"===u,onRequestClose:function(){return d(null)},children:(0,i.Y)(A.A,{refetchOptions:a,theme:n,onClose:function(){return d(null)}})})]})};let q=function(e){var n=e.theme,t=(0,h._)(e,["theme"]);switch(n.type){case"custom":return(0,i.Y)(z,(0,p._)({theme:n},t));case"official":return(0,i.Y)(H,(0,p._)({theme:n},t))}};var G=t(3460),Z=t(95235),J=t(9735),j=t(50656),X={self:[U.wp.colWithGap(8)],list:[U.wp.display.grid,U.wp.layout.columns,U.wp.justify.spaceBetween,{gridGap:u.LU.space32,gridTemplateColumns:"repeat(2, 1fr)"}],loading:[U.wp.center],paginationWrapper:[U.wp.rowWithGap(8),U.wp.justify.end],paginationButton:function(e){return[e?G.S.backgroundPulse(u.LU.accentPrimaryDimmest,u.LU.accentPrimaryDefault):{}]}};let Q=function(e){var n=e.name,t=e.themes,a=e.paginationOptions,s=e.themesLoading,u=e.refetchOptions,p=e.emptyText,h=(0,_.D)(),m=h.setActiveTheme,f=h.theme,v=h.isSaving,g=(0,r._)((0,o.useState)(!1),2),y=g[0],w=g[1],S=(0,r._)((0,o.useState)(!1),2),b=S[0],k=S[1];(0,o.useEffect)(function(){s||(w(!1),k(!1))},[s,k,w]);var x=a&&(a.hasNext||a.hasPrev),D=t.reduce(function(e,n){return e.set(n.id,n)},new Map);return(0,i.FD)(E.S,{css:X.self,children:[t.length>0?(0,i.Y)(L.z,{name:n,css:X.list,value:f.id.toString(),onChange:function(e){var n=e.target.value,t=c()(n,10);if(!l()(t)){m(t);var r=D.get(t);r&&"custom"===r.type&&(0,Y.Ot)({themeId:t,colorScheme:r.colorScheme,isAlreadyInstalled:r.isInstalledByCurrentUser,isAuthor:r.isCurrentUserThemeAuthor,context:Y.iu.AccountPage});return}(0,C.me)(n)&&m(n)},children:t.map(function(e){return(0,i.Y)(q,{theme:e,themesLoading:s||v,refetchOptions:u},e.id)})}):(0,i.Y)(d.u,{text:void 0===p?"Looks like there's nothing here. Click above to try making your own theme!":p}),x?(0,i.FD)(E.S,{css:X.paginationWrapper,children:[(0,i.Y)(Z.K0,{size:32,css:X.paginationButton(!!s&&b),disabled:!a.hasPrev||s,alt:"Previous page",onClick:function(){k(!0),a.onPrevClick()},children:(0,i.Y)(J.A,{})}),(0,i.Y)(Z.K0,{size:32,css:X.paginationButton(!!s&&y),disabled:!a.hasNext||s,alt:"Next page",onClick:function(){w(!0),a.onNextClick()},children:(0,i.Y)(j.A,{})})]}):null]})}},16596:(e,n,t)=>{t.d(n,{A:()=>Y});var r=t(13454),i=t(66622),o=t(5482),a=t(94086),l=t(20837),s=t(45009),c=t(30632),u=t(75838);function d(){var e=(0,s._)(["\n  fragment UninstallDialogTheme on CustomTheme {\n    id\n    title\n  }\n"]);return d=function(){return e},e}function p(){var e=(0,s._)(["\n  mutation ThemesPreferencesUninstallDialogDeleteTheme(\n    $input: UninstallThemeInput!\n  ) {\n    uninstallTheme(input: $input) {\n      ... on CustomTheme {\n        id\n        ...UninstallDialogTheme\n      }\n      ... on UserError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n    }\n  }\n  ","\n"]);return p=function(){return e},e}var h={},m=(0,c.J1)(d()),f=(0,c.J1)(p(),m),v=t(39651),g=t(82542),y=t(7564),w=t(63481),S=t(8367),b=t(8351);let Y=function(e){var n,t,s,c=e.theme,d=e.onClose,p=e.refetchOptions,m=(0,v.A)(),Y=m.showError,_=m.showConfirm,C=(0,g.D)(),k=C.setActiveTheme,E=C.theme,x=p?[{query:p.queryDoc,variables:{installedThemesInput:p.input}}]:[],D=(0,i._)((t={onError:function(e){return Y(e.message)},onCompleted:(n=(0,r._)(function(e){var n;return(0,o.YH)(this,function(t){switch(null===(n=e.uninstallTheme)||void 0===n?void 0:n.__typename){case"UnauthorizedError":case"UserError":case"NotFoundError":Y(e.uninstallTheme.message);break;case"CustomTheme":_("".concat(c.title," uninstalled")),d();break;default:Y("Something went wrong")}return[2]})}),function(e){return n.apply(this,arguments)}),refetchQueries:x},s=(0,l._)({},h,t),u.n(f,s)),2),A=D[0],F=D[1].loading;return(0,a.Y)(S.S,{children:(0,a.Y)(w.A,{prompt:"Uninstall ".concat(c.title),desc:"Are you sure you want to uninstall ".concat(c.title,"?"),icon:(0,a.Y)(b.A,{}),confirmText:"Uninstall Theme",onCancel:d,onConfirm:(0,r._)(function(){return(0,o.YH)(this,function(e){return"number"!=typeof c.id||F||(E.id===c.id&&k(y.kl.id),A({variables:{input:{themeId:c.id}}})),[2]})}),loading:F,danger:!0})})}},27007:(e,n,t)=>{t.d(n,{J6:()=>o,Ot:()=>u,T0:()=>s,iu:()=>c,l5:()=>i,oc:()=>a,yo:()=>l});var r=t(82436),i=function(e){return e.EditThemePage="EditThemePage",e.ThemeCoverPage="ThemeCoverPage",e}({});function o(e){(0,r.u4)(r.AZ.CUSTOM_THEME_PUBLISHED,e)}function a(e){(0,r.u4)(r.AZ.CUSTOM_THEME_DELETED,e)}function l(e){(0,r.xm)(r.AZ.CUSTOM_THEME_UPDATED,e)}function s(e){(0,r.u4)(r.AZ.CUSTOM_THEME_CREATED,e)}var c=function(e){return e.EditThemePage="EditThemePage",e.ThemeCoverPage="ThemeCoverPage",e.AccountPage="AccountPage",e.Sidebar="Sidebar",e.Workspace="Workspace",e.WorkspacePreferencesPane="WorkspacePreferencesPane",e}({});function u(e){(0,r.u4)(r.AZ.CUSTOM_THEME_APPLIED,e)}},37599:(e,n,t)=>{t.d(n,{g1:()=>z,x7:()=>$,ll:()=>I,Hs:()=>P,aL:()=>B,Ge:()=>M,iJ:()=>O});var r=t(13454),i=t(20837),o=t(43952),a=t(66622),l=t(5482),s=t(94086),c=t(30758),u=[{title:"OpenAI",description:"Integrate with GPT-4, DALL-E, Whisper, and more.",pattern:/^OPENAI_.*/,defaultLink:"https://replit.com/guides/gpt-4o-quickstart-guide#set-up-your-openai-api-key",presetSecrets:[{key:"OPENAI_API_KEY"},{key:"OPENAI_ORG_ID"}]},{title:"Gemini",description:"Leverage Google's latest AI models.",pattern:/^(GEMINI_.*|GOOGLE_API_KEY)/,defaultLink:"https://replit.com/guides/gemini-flash-quickstart-guide#set-up-a-google-api-key"},{title:"Groq",description:"Try a variety of AI models with Groq.",pattern:/^GROQ_.*/,defaultLink:"https://replit.com/guides/groq-chatbot-quickstart#set-up-your-groq-api-key"},{title:"Anthropic",description:"Explore Anthropic's latest Claude AI models.",pattern:/^ANTHROPIC_.*/,defaultLink:"https://replit.com/guides/image2text-ai-app-with-anthropic#add-anthropic-api-key-to-secrets"},{title:"Slack",description:"Use Slack to build interactive apps and bots.",pattern:/^SLACK_.*/,defaultLink:"https://replit.com/guides/slackbot-quickstart#add-secrets",presetSecrets:[{key:"SLACK_SIGNING_SECRET"},{key:"SLACK_APP_TOKEN"},{key:"SLACK_BOT_TOKEN"}]},{title:"HubSpot",description:"Use HubSpot's API to pull customer data.",pattern:/^HUBSPOT_.*/,defaultLink:"https://replit.com/guides/hubspot-deal-data-api-python-flask#getting-started"},{title:"Coinbase Developer Platform",description:"Use Coinbase Developer Platform to build on chain agents and apps.",pattern:/^(CDP_|COINBASE_).*/,defaultLink:"https://replit.com/guides/coinbase-developer-platform-agentkit-quickstart-guide"}],d=t(24955),p=t(10168),h=t(32842),m=t(40172),f=t(68463),v=t(57542),g=t(95235),y=t(28354),w=t(60872),S=t(76985),b=t(31955),Y=t(40889),_=t(17605),C=t(65599),k=t(8367),E=t(12770),x=t(10001),D=t(83290),A=t(98335),F=t(85213),T=t(99413),U=t(8351),P=/^[a-zA-Z_][a-zA-Z0-9_]*$/,I="Use only letters, numbers, and underscores (must start with a letter or underscore)",L=(0,p.x)({valueInput:[h.wp.flex.grow(0),{'&[data-sensitive="true"]':{fontFamily:"text-security-disc"}}],linkedSecret:[{'&[data-unlinking="true"]':{opacity:.5,pointerEvents:"none"}}]}),R=(0,p.x)({root:[h.wp.p(4),h.wp.rowWithGap(4),h.wp.borderRadius(8),h.wp.width("40%"),h.wp.display.flex,h.wp.overflowX("hidden"),h.wp.backgroundColor.backgroundHigher],text:[h.wp.flex.growAndShrink(1)]});function M(e){var n=e.value;return(0,s.FD)(b.ui,{elevated:!0,css:R.root,children:[(0,s.Y)(f.r,{tooltipText:"Copy secret key",textToCopy:n}),(0,s.Y)(C.m_,{tooltip:(0,s.Y)(Y.EY,{children:n}),children:function(e,t){return(0,s.Y)(Y.EY,(0,o._)((0,i._)({ref:t},e),{multiline:!1,css:R.text,children:n}))}})]})}var N=(0,p.x)({root:[h.wp.p(4),h.wp.rowWithGap(4),h.wp.borderRadius(8),h.wp.flex.growAndShrink(1),h.wp.align.center,h.wp.backgroundColor.backgroundHigher],text:[h.wp.flex.growAndShrink(1),h.wp.truncate,{fontFamily:d.LU.fontFamilyCode}],input:[{border:"none",background:"inherit",fontFamily:d.LU.fontFamilyCode,'&[data-sensitive="true"]':{fontFamily:"text-security-disc"}}]});function O(e){var n=e.value,t=e.placeholder,r=void 0===t?"Enter your secret value":t,i=e.onChange,o=e.canEditDisabledMessage,l=(0,a._)((0,c.useState)(!1),2),u=l[0],d=l[1],p=void 0===o;return(0,s.FD)(b.ui,{elevated:!0,css:N.root,children:[(0,s.Y)(f.r,{tooltipText:p?"Copy secret value":o,textToCopy:p?n:""}),i&&p?(0,s.Y)(y.pd,{value:n,onChange:function(e){return i(e.target.value)},placeholder:r,css:N.input,"data-sensitive":n&&!u}):(0,s.Y)(Y.EY,{multiline:!1,css:N.text,children:n?(0,s.Y)(s.FK,{children:u?n:"•".repeat(8)}):r}),(0,s.Y)(g.K0,{alt:"Toggle Secret",tooltipContents:o,tooltipBehavior:p?"hidden":void 0,onClick:function(){return d(!u)},disabled:!p,children:u?(0,s.Y)(A.A,{}):(0,s.Y)(D.A,{})})]})}var K=(0,p.x)({keySection:[h.wp.width("40%")],valueSection:[h.wp.flex.growAndShrink(1)],titleLabel:[h.wp.pt(2),h.wp.pb(4),{label:[h.wp.flex.row,h.wp.gap(4),h.wp.align.center]}],flexGrow:[h.wp.flex.grow(1)]}),H=(0,p.x)({root:[h.wp.height("100%"),h.wp.borderRadius(8),{'& [aria-haspopup="listbox"]':[h.wp.height(32)]}],item:[h.wp.flex.row,h.wp.rowWithGap(8),h.wp.align.center],itemDanger:[h.wp.flex.row,h.wp.rowWithGap(8),h.wp.align.center,{color:d.LU.accentNegativeStronger}]});function V(e){var n=e.name,t=e.value,r=void 0===t?"":t,a=e.isEditing,l=e.isSensitive,c=e.canEdit,u=void 0===c||c,d=e.editDisabledMessage,p=e.onToggleSensitive,h=e.renderSuffix,m=e.renderKeyExtra;return(0,s.FD)(k.S,{row:!0,gap:8,align:"center",children:[(0,s.FD)(k.S,{css:R.root,children:[(0,s.Y)(f.r,{tooltipText:"Copy secret key",textToCopy:n}),(0,s.Y)(C.m_,{tooltip:(0,s.Y)(Y.EY,{children:n}),children:function(e,t){return(0,s.Y)(Y.EY,(0,o._)((0,i._)({ref:t},e),{multiline:!1,css:R.text,children:n}))}}),m?(0,s.Y)(k.S,{justify:"center",children:null==m?void 0:m()}):null]}),(0,s.FD)(k.S,{css:N.root,children:[(0,s.Y)(f.r,{tooltipText:u?"Copy secret value":d,textToCopy:u?r:""}),a&&u?(0,s.Y)(y.pd,{value:r,onChange:function(){},placeholder:"Enter your secret value",css:N.input,"data-sensitive":r&&l}):(0,s.Y)(Y.EY,{multiline:!1,css:N.text,children:r?(0,s.Y)(s.FK,{children:l?"•".repeat(8):r}):"Enter your secret value"}),(0,s.Y)(g.K0,{alt:"Toggle Secret",tooltipContents:d,tooltipBehavior:u?"hidden":void 0,onClick:p,disabled:!u,children:l?(0,s.Y)(D.A,{}):(0,s.Y)(A.A,{})})]}),null==h?void 0:h()]})}function B(e){var n=e.secret,t=e.onUpdateSecret,r=e.onDeleteSecret,l=e.onSearchSecret,d=e.editAuthorizationErrorMessage,p=(0,a._)((0,c.useState)(""===n.value?{key:n.key,value:""}:null),2),h=p[0],m=p[1],f=(0,a._)((0,c.useState)(!1),2),v=f[0],g=f[1],y=(0,a._)((0,c.useState)(!0),2),w=y[0],S=y[1],_=(0,c.useMemo)(function(){var e,t,r,i,o,a;return t=null!==(e=null==h?void 0:h.key)&&void 0!==e?e:n.key,null!==(i=null==(a=null==(o=u.find(function(e){return e.pattern.test(t)}))?void 0:null===(r=o.presetSecrets)||void 0===r?void 0:r.find(function(e){return e.key===t}))?void 0:a.link)&&void 0!==i?i:null==o?void 0:o.defaultLink},[null==h?void 0:h.key,n.key]),C=void 0===d;return h?(0,s.FD)(s.FK,{children:[(0,s.Y)(W,{keyValue:h.key,onKeyChange:function(e){return m(function(n){return n?(0,o._)((0,i._)({},n),{key:e}):n})},value:h.value,onValueChange:function(e){return m(function(n){return n?(0,o._)((0,i._)({},n),{value:e}):n})},isSensitive:w,onToggleSensitive:function(){return S(!w)},renderValueExtra:function(){return _&&(0,s.Y)(Y.EY,{variant:"small",children:(0,s.Y)("a",{href:_,target:"_blank",children:"Where do I find this?"})})},onDelete:function(){return g(!0)},onCancel:function(){return m(null)},onSave:function(){t(n.key,{key:h.key.trim(),value:h.value}),m(null)},saveButtonText:""===n.value?"Add Secret":"Update Secret"}),v&&(0,s.Y)(z,{keys:[n.key],isOpen:v,onClose:function(){return g(!1)},onConfirm:function(){return r(n.key)}})]}):(0,s.Y)(V,{name:n.key,value:n.value,isEditing:!1,isSensitive:w,canEdit:C,editDisabledMessage:d,onToggleSensitive:function(){return S(!w)},renderSuffix:function(){return(0,s.FD)(s.FK,{children:[(0,s.Y)(b.ui,{elevated:!0,css:H.root,children:(0,s.Y)(E.A,{label:"Options",items:[C&&{label:(0,s.FD)(k.S,{css:H.item,children:[(0,s.Y)(x.A,{}),(0,s.Y)(Y.EY,{multiline:!1,children:"Edit"})]}),onClick:function(){return m({key:n.key,value:n.value})}},{label:(0,s.FD)(k.S,{css:H.item,children:[(0,s.Y)(T.A,{}),(0,s.Y)(Y.EY,{multiline:!1,children:"Find Usages"})]}),onClick:function(){return l(n.key)}},C&&{label:(0,s.FD)(k.S,{css:H.itemDanger,children:[(0,s.Y)(U.A,{}),(0,s.Y)(Y.EY,{multiline:!1,children:"Delete"})]}),isDestructive:!0,onClick:function(){return g(!0)}}].filter(Boolean),onItemClick:function(e){var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e)}})}),v&&(0,s.Y)(z,{keys:[n.key],isOpen:v,onClose:function(){return g(!1)},onConfirm:function(){return r(n.key)}})]})}})}function W(e){var n=e.keyLabel,t=e.keyValue,r=e.onKeyChange,i=e.valueLabel,o=e.value,a=e.onValueChange,l=e.isSensitive,u=e.onToggleSensitive,d=e.isValueReadOnly,p=e.disableValueVisibilityToggle,h=e.renderValueExtra,f=e.onDelete,S=e.onCancel,b=e.onSave,Y=e.saveButtonText,C=e.deleteButtonText,E=e.isSaving,x=e.keyError,F=(0,c.useMemo)(function(){return null!==t.match(P)},[t]),T=x||(!F&&t?I:void 0);return(0,s.FD)(k.S,{gap:8,onKeyDown:function(e){"Enter"===e.key&&b()},children:[(0,s.FD)(k.S,{row:!0,gap:8,children:[(0,s.Y)(k.S,{css:K.keySection,gap:2,children:(0,s.FD)(_.A_,{validate:function(){return x||(!F&&t?I:void 0)},validationBehavior:"aria",isRequired:!0,minLength:1,maxLength:128,name:"secretKey",value:t,onChange:r,isInvalid:!!T,children:[(0,s.Y)(w.J,{color:"dimmer",multiline:!1,css:K.titleLabel,children:void 0===n?"Key":n}),(0,s.Y)(y.pd,{placeholder:"SECRET_KEY",autoComplete:"off",css:L.valueInput,autoFocus:!0}),(0,s.Y)(v.bg,{children:T})]})}),(0,s.FD)(k.S,{css:K.valueSection,gap:2,children:[(0,s.FD)(_.A_,{isRequired:!0,minLength:1,name:"secretValue",value:o,onChange:function(e){return null==a?void 0:a(e)},children:[(0,s.FD)(w.J,{color:"dimmer",multiline:!1,css:K.titleLabel,children:[void 0===i?"Value":i," ",(0,s.Y)(g.K0,{alt:"Toggle Visibility",tooltipBehavior:"hidden",onClick:u,disabled:p,size:12,children:l?(0,s.Y)(D.A,{}):(0,s.Y)(A.A,{})})]}),(0,s.Y)(y.pd,{"data-sensitive":l,css:L.valueInput,readOnly:d,autoComplete:"off"})]}),null==h?void 0:h()]})]}),(0,s.FD)(k.S,{row:!0,gap:8,children:[f?(0,s.Y)(m.$n,{size:"small",text:void 0===C?"Delete":C,colorway:"negative",onClick:f,disabled:!!T,loading:E}):null,(0,s.Y)(k.S,{css:K.flexGrow}),(0,s.FD)(k.S,{row:!0,gap:8,children:[(0,s.Y)(m.$n,{size:"small",text:"Cancel",onClick:S,loading:E}),(0,s.Y)(m.$n,{size:"small",colorway:"primary",text:Y,disabled:!t.length||!!T||!F,loading:E,onClick:b})]})]})]})}function $(e){var n=e.link,t=e.onUpdateLink,i=e.onUnlink,o=e.existingKeys,u=(0,a._)((0,c.useState)(null),2),p=u[0],h=u[1],m=(0,a._)((0,c.useState)(!0),2),f=m[0],v=m[1],g=(0,a._)((0,c.useState)(!1),2),y=g[0],w=g[1],S=(0,a._)((0,c.useState)(!1),2),_=S[0],D=S[1],A=p&&o.has(p.alias)&&p.alias!==n.alias?"A secret with this name already exists":void 0;return p?(0,s.Y)(W,{keyLabel:"Name",keyValue:p.alias,onKeyChange:function(e){return h({alias:e})},value:n.secret.value,isSensitive:f,onToggleSensitive:function(){return v(!f)},isValueReadOnly:!0,onDelete:(0,r._)(function(){return(0,l.YH)(this,function(e){switch(e.label){case 0:D(!0),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,i(n.id)];case 2:return e.sent(),[3,4];case 3:return D(!1),[7];case 4:return[2]}})}),onCancel:function(){return h(null)},onSave:(0,r._)(function(){return(0,l.YH)(this,function(e){switch(e.label){case 0:if(A)return[2];w(!0),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,t(n.id,p.alias.trim())];case 2:return e.sent(),h(null),[3,4];case 3:return w(!1),[7];case 4:return[2]}})}),saveButtonText:"Update",deleteButtonText:"Unlink",isSaving:y||_,keyError:A}):(0,s.Y)(k.S,{css:L.linkedSecret,"data-unlinking":_,children:(0,s.Y)(V,{name:n.alias,value:n.secret.value,isEditing:!1,isSensitive:f,canEdit:!0,onToggleSensitive:function(){return v(!f)},renderKeyExtra:function(){return(0,s.Y)(C.m_,{tooltip:"Linked to Account Secret: ".concat(n.secret.name),children:(0,s.Y)(F.A,{color:d.LU.accentPrimaryStronger})})},renderSuffix:function(){return(0,s.Y)(b.ui,{elevated:!0,css:H.root,children:(0,s.Y)(E.A,{label:"Options",items:[{label:(0,s.FD)(k.S,{css:H.item,children:[(0,s.Y)(x.A,{}),(0,s.Y)(Y.EY,{multiline:!1,children:"Edit"})]}),onClick:function(){return h({alias:n.alias})}},{label:(0,s.FD)(k.S,{css:H.itemDanger,children:[(0,s.Y)(U.A,{}),(0,s.Y)(Y.EY,{multiline:!1,children:"Unlink"})]}),isDestructive:!0,onClick:(0,r._)(function(){return(0,l.YH)(this,function(e){switch(e.label){case 0:D(!0),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,i(n.id)];case 2:return e.sent(),[3,4];case 3:return D(!1),[7];case 4:return[2]}})})}].filter(Boolean),onItemClick:function(e){var n;return null===(n=e.onClick)||void 0===n?void 0:n.call(e)}})})}})})}function z(e){var n=e.keys,t=e.isOpen,r=e.onClose,i=e.onConfirm,o=e.loading,a=n.length>1;return(0,s.Y)(S.a,{isOpen:t,onRequestClose:r,children:(0,s.FD)(k.S,{gap:12,children:[(0,s.Y)(Y.EY,{variant:"subheadDefault",multiline:!1,children:a?"Delete secrets?":"Delete ".concat(n[0],"?")}),(0,s.FD)(Y.EY,{color:"dimmer",children:["Are you sure you would like to delete"," ",a?"these secrets (".concat(n.join(", "),")"):"this secret","? This cannot be undone."]}),(0,s.FD)(k.S,{justify:"end",row:!0,gap:8,children:[(0,s.Y)(m.$n,{text:"Cancel",onClick:r}),(0,s.Y)(m.$n,{text:"Delete",colorway:"negative",onClick:i,loading:o})]})]})})}},53667:(e,n,t)=>{t.d(n,{L:()=>r});var r=20},24897:(e,n,t)=>{t.d(n,{A:()=>i,v:()=>r});var r=["ssh-rsa","ssh-dss","ecdsa-sha2-nistp256","sk-ecdsa-sha2-nistp256@openssh.com","ecdsa-sha2-nistp384","ecdsa-sha2-nistp521","ssh-ed25519","sk-ssh-ed25519@openssh.com"];function i(e){var n=e.trim();if(""===n)return"Key cannot be empty";var t=n.split(" ");if(t.length<3||t.length>4)return"Key must have either 3 or 4 separate components";var i=3===t.length?t[0]:t[1];return r.includes(i)?null:"".concat(i," is not a valid key type")}}}]);
//# sourceMappingURL=8241-9256fa86107828fc.js.map