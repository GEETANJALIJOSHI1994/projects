!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=Error().stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="535af3fc-5d7f-4f6e-9d03-f31a5bb73607",e._sentryDebugIdIdentifier="sentry-dbid-535af3fc-5d7f-4f6e-9d03-f31a5bb73607")}catch(e){}}();var _global="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};_global.SENTRY_RELEASE={id:"335618f7"},(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8582],{59111:(e,n,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/replsDashboard",function(){return t(16206)}])},84199:(e,n,t)=>{"use strict";t.d(n,{A:()=>p});var r=t(94086),i=t(10168),o=t(32842),l=t(40172),a=t(40889),d=t(8367),s=t(14753),u=d.D.form,c=(0,i.x)({content:[o.wp.colWithGap(24)]});function p(e){return(0,r.FD)(u,{css:c.content,onSubmit:function(n){n.preventDefault(),e.onConfirm()},children:[(0,r.Y)(a.Y9,{variant:"headerDefault",level:2,children:e.title}),"string"==typeof e.children?(0,r.Y)(a.EY,{children:e.children}):e.children,(0,r.FD)(d.S,{row:!0,gap:12,justify:"end",children:[(0,r.Y)(l.$n,{type:"button",onClick:e.onCancel,text:"Cancel"}),(0,r.Y)(l.$n,{type:"submit",disabled:e.loading,iconLeft:e.loading?(0,r.Y)(s.A,{}):e.confirmIcon,colorway:e.isDestructive?"negative":"primary",text:e.confirmLabel||"Confirm"})]})]})}},61465:(e,n,t)=>{"use strict";t.d(n,{A:()=>b});var r=t(94086),i=t(22510),o=t(74587),l=t(33005),a=t(19169),d=t(30790),s=t(26196),u=Array.prototype.concat,c=function(e){return{recursive:!!e.recursive,bail:e.bail&&e.bail>0?e.bail:1e3}},p=function(e){return u.apply([],e)},m=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;if(!e||t>=n.bail||!e.isDirectory||!e.createReader)return Promise.resolve([]);var i=null!=r?r:e.name;return new Promise(function(r){e.createReader().readEntries(function(e){return Promise.all(e.map(function(e){var r,o,l,a;return r=e,o=n,l=t,a=i,r.isDirectory?o.recursive?m(r,o,l+1,(0,s.join)(a,r.name)):Promise.resolve([]):new Promise(function(e,n){r.file?r.file(e,n):e(null)}).catch(function(){return null}).then(function(e){return e&&(e.dirPath=(0,s.join)(a,e.name)),e?[e]:[]})})).then(function(e){return r(p(e))})},function(){return r([])})})},f=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return m("function"==typeof e.getAsEntry?e.getAsEntry():e.webkitGetAsEntry?e.webkitGetAsEntry():null,c(n))},h=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=c(n),new Promise(function(t){var r,i;(null==e?void 0:null===(r=e.dataTransfer)||void 0===r?void 0:r.items)?Promise.all(p(e.dataTransfer.items).filter(function(e){return"file"===e.kind}).map(function(e){return f(e,n).then(function(n){if(!n.length){var t=e.getAsFile();n=t?[t]:n}return n})})).then(function(e){return t(p(e))}):(null==e?void 0:null===(i=e.dataTransfer)||void 0===i?void 0:i.files)?t(p(e.dataTransfer.files)):t([])})},v=t(54191);document.addEventListener("drop",function(e){var n;(null===(n=e.dataTransfer)||void 0===n?void 0:n.files.length)&&e.preventDefault()});var g=null,D=null;function b(e){var n=function(e){var n=e.isTouchBackend;if(D&&n)return D;if(g&&!n)return g;var t={dragDropManager:(0,d.b)(function(e){var t=n?(0,a.qi)(e,void 0,{delayTouchStart:500}):(0,o.t2)(e),r=t.handleTopDropCapture;return t.handleTopDropCapture=function(e){var n,i=t.monitor.getItemType();i===l.HTML||i===l.TEXT||i===l.FILE?(t.dropTargetIds=[],null===(n=t.currentNativeSource)||void 0===n||n.loadDataTransfer(e.dataTransfer),t.enterLeaveCounter.reset()):r.call(t,e),t.currentNativeSource&&(t.currentNativeSource.item.dirContent=h(e,{recursive:!0}))},t})};return n?D=t:g=t,t}({isTouchBackend:(0,v.JD)()});return(0,r.Y)(i.M.Provider,{value:n,children:e.children})}},12770:(e,n,t)=>{"use strict";t.d(n,{A:()=>I});var r=t(20837),i=t(43952),o=t(66622),l=t(94086),a=t(25204),d=t.n(a),s=t(60049),u=t(30758),c=t(40114),p=t(26190),m=t(52757),f=t(24955),h=t(10168),v=t(32842),g=t(95235),D=t(31955),b=t(40889),y=t(8367),w=t(82489),Y=t(43698),A=t(73128),R=y.D.ul,_=y.D.li,S=y.D.a,F=function(e){var n=e.isDestructive,t=e.elevated;return(0,m.AH)([v.wp.height(32),v.wp.rowWithGap(8),v.wp.align.center,v.wp.p(8),v.wp.cursor.pointer,v.wp.borderRadius(4),n&&[v.wp.color.accentNegativeStronger],t?v.wp.backgroundColor.backgroundHigher:v.wp.backgroundColor.backgroundDefault,{":hover":{background:f.LU.backgroundHigher}},t&&{":hover":{backgroundColor:f.LU.backgroundHighest}}])},C=(0,h.x)({label:[v.wp.flex.shrink(1)],labelLink:[v.wp.align.center,v.wp.rowWithGap(8),{color:"inherit"}],menuList:[v.wp.minWidth(120),v.wp.overflow("hidden"),v.wp.borderRadius(6),v.wp.p(4)]});function x(e){var n=e.item,t=(0,l.FD)(l.FK,{children:[n.icon,(0,l.Y)(b.EY,{css:C.label,multiline:!1,children:n.label})]});return n.link&&(d(),(0,i._)((0,r._)({legacyBehavior:!0,passHref:!0},n.link),{children:(0,l.Y)(S,{css:C.labelLink,children:t})})),t}function I(e){var n=e.label,t=e.items,a=e.onItemClick,d=e.onOpenChange,m=e.large,h=e.orientation,b=e.resetOnSelect,S=e.dataCy,I=e.elevated,U=void 0!==I&&I,L=(0,s.useRouter)(),E=(0,o._)((0,u.useState)(!1),2),k=E[0],M=E[1],T=(0,p.A)(d);(0,u.useEffect)(function(){T.current&&T.current(k)},[k,T]);var P=(0,c.WM)({isOpen:k,items:t,onSelectedItemChange:function(e){var n=e.selectedItem;n&&(M(!1),b&&$(),n.link?L.push(n.link.href,n.link.as):a(n))}}),H=P.getToggleButtonProps,B=P.getMenuProps,z=P.getItemProps,N=P.getLabelProps,$=P.reset;return(0,l.FD)(w.A,{isOpen:k,padding:0,gap:4,zIndex:v.U3,placement:"bottom-end",onClickOutside:function(){return M(!1)},borderColor:U?f.LU.outlineDimmer:f.LU.outlineDimmest,children:[(0,l.FD)(y.S,{children:[(0,l.Y)(g.K0,(0,i._)((0,r._)((0,i._)((0,r._)({size:m?32:24},H({onClick:function(){return M(function(e){return!e})}})),{alt:n,tooltipBehavior:"hidden"}),N()),{dataCy:S,children:"horizontal"===h?(0,l.Y)(Y.A,{size:16}):(0,l.Y)(A.A,{size:16})})),(0,l.Y)(y.S,(0,r._)({},B({refKey:"innerRef"})))]}),(0,l.Y)(D.ui,{background:U?"higher":"default",children:(0,l.Y)(R,{css:C.menuList,children:t.map(function(e,n){return(0,l.Y)(_,(0,i._)((0,r._)({css:F({isDestructive:e.isDestructive,elevated:U})},z({item:e,index:n})),{children:(0,l.Y)(x,{item:e})}),"".concat(e.label).concat(n))})})})]})}},82489:(e,n,t)=>{"use strict";t.d(n,{A:()=>y});var r=t(20837),i=t(43952),o=t(66622),l=t(94086),a=t(30758),d=t(53426),s=t(41322),u=t(26190),c=t(24955),p=t(10168),m=t(32842),f=t(76554),h=t(31955),v=t(65599),g=t(8367).D.div,D=(0,p.x)({popoverSurface:[m.wp.borderRadius(6),{overflow:"hidden",boxShadow:c.LU.shadow1,border:"1px solid"}]}),b=v.RE;function y(e){var n=e.children,t=e.isOpen,p=e.showArrow,v=e.placement,y=e.onClickOutside,w=e.padding,Y=e.backgroundColor,A=e.borderColor,R=void 0===A?c.LU.backgroundHighest:A,_=e.zIndex,S=void 0===_?m.U3:_,F=e.maxWidth,C=e.gap,x=e.growToMaxWidth,I=e.elevated,U=e.popperRef,L=e.containerRef,E=e.disableFocusLock,k=void 0!==E&&E,M=(0,a.useId)(),T=(0,u.A)(y),P=(0,o._)((0,a.useState)(null),2),H=P[0],B=P[1],z=(0,o._)((0,a.useState)(null),2),N=z[0],$=z[1],V=(0,o._)((0,a.useState)(null),2),O=V[0],J=V[1],Z=(0,h.IU)({elevated:!0}),W=Y||Z,G=(0,o._)(n,2),q=G[0],j=G[1],X=(0,s.E)(H,N,{modifiers:[{name:"arrow",options:{element:O,padding:8}},{name:"offset",options:{offset:[0,void 0===C?16:C]}},{name:"preventOverflow",options:{padding:16}}],placement:v});(0,a.useEffect)(function(){U&&(U.current=X)},[X]);var K=X.styles,Q=X.attributes;return(0,a.useEffect)(function(){var e=function(e){!T.current||e.target===N||e.target===H||(null==N?void 0:N.contains(e.target))||(null==H?void 0:H.contains(e.target))||T.current(e)};if(t)return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[t,N,H,T]),(0,l.FD)(l.FK,{children:[(0,l.Y)(d.Ay,{as:"span",ref:B,group:M,disabled:!t||k,className:"popover-control-container",children:q}),t?(0,l.Y)(f.Z,{portalContainer:L,children:(0,l.Y)(d.Ay,{group:M,disabled:!t||k,children:(0,l.FD)(g,(0,i._)((0,r._)({ref:$,style:K.popper,css:[{zIndex:S},m.wp.maxWidth(void 0===F?300:F),x&&m.wp.width("100%")]},Q.popper),{children:[(0,l.Y)(h.ui,{elevated:void 0===I||I,css:[D.popoverSurface,{padding:void 0===w?16:w,borderColor:R,backgroundColor:W}],children:j}),p?(0,l.Y)(g,{ref:J,style:K.arrow,css:[b,R&&{"&::after":{borderColor:R,backgroundColor:W}}]}):null]}))})}):null]})}},1670:(e,n,t)=>{"use strict";t.d(n,{$p:()=>c,XV:()=>l,h7:()=>a,lX:()=>u});var r=t(54867),i=t(3596),o=t(34805),l=.01,a=function(e,n){var t=n.resourceUsageType,r=n.forceGib,i=n.precision,o=n.skipUnits,l=n.additional,a=n.minimumValue,d=n.truncateToMillions,u=n.gibsDisplayAsBytes,c=s({input:e,resourceUsageType:t,forceGib:void 0!==r&&r,precision:void 0===i?4:i,minimumValue:void 0===a?null:a,truncateToMillions:void 0!==d&&d,gibsDisplayAsBytes:void 0!==u&&u});return void 0!==o&&o?c.formattedValue:void 0!==l&&l?[c.formattedValue,"additional",c.units].join(" "):[c.formattedValue,c.units].join(" ")};function d(e,n){var t=n.precision,r=n.minimumValue,i=n.forceGib,o=r&&0!==e;return e>=0x40000000*(null!=r?r:1)||i?o&&e<0x40000000*r?{formattedValue:"<".concat(r.toLocaleString(void 0,{minimumFractionDigits:t})),units:"GiB"}:{formattedValue:c(e).toFixed(t),units:"GiB"}:o&&e<1048576*r?{formattedValue:"<".concat(r.toLocaleString(void 0,{minimumFractionDigits:t})),units:"MiB"}:{formattedValue:u(e).toFixed(t),units:"MiB"}}var s=function(e){var n=e.input,t=e.resourceUsageType,l=e.forceGib,a=e.precision,s=e.minimumValue,u=e.truncateToMillions,c=e.gibsDisplayAsBytes,p=s&&0!==n&&n<s;switch(t){case"Bytes":return d(n,{precision:a,minimumValue:s,forceGib:l});case"GiB":if(0===n)return{formattedValue:n.toFixed(a),units:"GiB"};if(c)return d(0x40000000*n,{precision:a,minimumValue:s,forceGib:!1});if(p)return{formattedValue:"<".concat(s.toLocaleString(void 0,{minimumFractionDigits:a})),units:"GiB"};return{formattedValue:n.toFixed(a),units:"GiB"};case"GiB-months":if(0===n)return{formattedValue:n.toFixed(a),units:"GiB-months"};if(p)return{formattedValue:"<".concat(s.toLocaleString(void 0,{minimumFractionDigits:a})),units:"GiB-months"};return{formattedValue:n.toFixed(a),units:"GiB-months"};case"ComputeUnits":if(n>=1e6&&u)return{formattedValue:(n/1e6).toLocaleString(void 0,{maximumFractionDigits:n>=1e6&&u?2:0})+" million",units:"compute units"};return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:"compute units"};case"ComputeHours":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:"compute hours"};case"Requests":if(n>=1e6&&u)return{formattedValue:(n/1e6).toLocaleString(void 0,{maximumFractionDigits:n>=1e6&&u?2:0})+" million",units:"requests"};return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:"requests"};case"Site":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:"site"};case"Hours":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:2}),units:"hours"};case"Deployments":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:2}),units:"days"};case"Tokens":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:"tokens"};case"Minutes":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:"minutes"};case"Dollars":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:2,style:"currency",currency:"USD"}),units:"dollars"};case"PlanSteps":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:"plan steps"};case"Checkpoints":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:"checkpoints"};case"EditRequests":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:(0,o.A)(i.go)};case"None":return{formattedValue:n.toLocaleString(void 0,{maximumFractionDigits:0}),units:""};default:(0,r.A)(t)}},u=function(e){return e/1048576},c=function(e){return e/0x40000000}},8726:(e,n,t)=>{"use strict";t.d(n,{F:()=>o});var r=t(45009);function i(){var e=(0,r._)(["\n  fragment BuildStatusBadgeHostingDeployment on HostingDeployment {\n    id\n    currentBuild {\n      id\n      status\n      timeCreated\n      user {\n        id\n        displayName\n      }\n    }\n  }\n"]);return i=function(){return e},e}var o=(0,t(30632).J1)(i())},41155:(e,n,t)=>{"use strict";t.d(n,{y:()=>c});var r=t(94086),i=t(37824),o=t(55937),l=t(17944),a=t(40889),d=t(65599),s=t(8367),u=t(63516);function c(e){var n=e.deployment,t=e.small,c=n.currentBuild,p=l.v[c.status],m=p.title,f=p.color,h=(0,i.A)(new Date(c.timeCreated),Date.now(),{addSuffix:!0}),v="Deployed ".concat(h," by ").concat(c.user.displayName),g=c.status===o.nH.Success?"Deployed":m;return(0,r.Y)(d.m_,{tooltip:v,children:(0,r.FD)(s.S,{row:!0,gap:4,align:"center",children:[(0,r.Y)(u.A,{size:t?12:16,color:f}),(0,r.Y)(a.EY,{variant:t?"small":void 0,color:"dimmest",multiline:!1,children:g})]})})}},17944:(e,n,t)=>{"use strict";t.d(n,{f:()=>p,v:()=>c});var r,i=t(72275),o=t(94086),l=t(55937),a=t(24955),d=t(12923),s=t(96955),u=t(68753),c=(r={},(0,i._)(r,l.nH.Suspended,{title:"Paused",color:a.LU.greyDefault,colorway:"grey",icon:(0,o.Y)(d.A,{})}),(0,i._)(r,"SystemSuspended",{title:"Suspended",color:a.LU.greyDefault,colorway:"negative",icon:(0,o.Y)(u.A,{})}),(0,i._)(r,l.nH.UpdatingTier,{title:"Updating tier",color:a.LU.orangeStronger,colorway:"orange",icon:(0,o.Y)(s.A,{})}),(0,i._)(r,l.nH.Suspending,{title:"Pausing",color:a.LU.orangeStronger,colorway:"orange",icon:(0,o.Y)(s.A,{})}),(0,i._)(r,l.nH.Resuming,{title:"Resuming",color:a.LU.orangeStronger,colorway:"orange",icon:(0,o.Y)(s.A,{})}),(0,i._)(r,l.nH.Pending,{title:"Provisioning",color:a.LU.orangeStronger,colorway:"orange",icon:(0,o.Y)(s.A,{})}),(0,i._)(r,l.nH.Building,{title:"Building",color:a.LU.orangeStronger,colorway:"orange",icon:(0,o.Y)(s.A,{})}),(0,i._)(r,l.nH.Running,{title:"Bundling",color:a.LU.orangeStronger,colorway:"orange",icon:(0,o.Y)(s.A,{})}),(0,i._)(r,l.nH.Promoting,{title:"Promoting",color:a.LU.orangeStronger,colorway:"orange",icon:(0,o.Y)(s.A,{})}),(0,i._)(r,l.nH.Failed,{title:"Failed",color:a.LU.accentNegativeDefault,colorway:"negative",icon:(0,o.Y)(u.A,{})}),(0,i._)(r,l.nH.Success,{title:"Deployed",color:a.LU.accentPositiveDefault,colorway:"positive"}),r);function p(e,n){switch(e){case l.nH.Building:case l.nH.Promoting:case l.nH.Running:case l.nH.Pending:return"is deploying";case l.nH.Resuming:return"is resuming";case l.nH.Suspending:return"is pausing";case l.nH.Failed:return"failed to deploy";case l.nH.Success:return"deployed";case l.nH.Suspended:return n===l.UV.Ubb||n===l.UV.SubscriptionRequired?"suspended":"paused";case l.nH.UpdatingTier:return"is updating tier"}}},24109:(e,n,t)=>{"use strict";t.d(n,{A:()=>h});var r=t(20837),i=t(66622),o=t(94086),l=t(30758),a=t(50109),d=t(52757),s=t(10168),u=t(32842),c=t(31955),p=t(48729),m=t(42022),f=(0,d.AH)([u.wp.overflow("hidden"),u.wp.position.relative]);function h(e){var n,t,d,s,u=e.width,f=e.height,h=e.alt,g=e.imageUrl,D=e.style,b=(0,l.useRef)(null);u=void 0===(d=(t=(n=(0,i._)((0,a.JT)({width:u,height:f,alt:h},b,m.Vx),2))[0]).width)?32:d,f=void 0===(s=t.height)?32:s,h=t.alt,b=n[1];var y=u<32?4:8;return(0,o.Y)(c.ui,{elevated:!0,css:v.imageSurface,style:(0,r._)({borderRadius:y,width:u,height:f},D),children:(0,o.Y)(p.A,{alt:h,src:g,width:u,height:f,objectFit:"contain"})})}var v=(0,s.x)({imageSurface:[f]})},68384:(e,n,t)=>{"use strict";t.d(n,{A:()=>x});var r=t(13454),i=t(66622),o=t(5482),l=t(94086),a=t(30758),d=t(20837),s=t(45009),u=t(30632),c=t(75838);function p(){var e=(0,s._)(["\n  mutation ReplCoverImageUpdate($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        imageUrl\n      }\n    }\n  }\n"]);return p=function(){return e},e}var m={},f=(0,u.J1)(p()),h=t(40581),v=t(24129),g=t(39651),D=t(41705),b=t(24109),y=t(10168),w=t(32842),Y=t(84911),A=t(40172),R=t(93149),_=t(40889),S=t(65599),F=t(8367),C=(0,y.x)({uploadActions:[w.wp.flex.growAndShrink(1)],buttonWrapper:[w.wp.flex.grow(1),w.wp.flex.shrink(1),{flexBasis:0}],button:[w.wp.width("100%")]});let x=function(e){var n,t,s,u,p=e.replId,y=e.authz,w=e.initialImageUrl,x=e.originImageUrl,I=(0,g.A)(),U=I.showError,L=I.showConfirm,E=(0,Y.c)()("cover-image"),k=(0,i._)((0,a.useState)(w),2),M=k[0],T=k[1],P=(0,i._)((n={onError:function(){U("Something unexpected happened")},onCompleted:function(e){e.updateRepl.repl&&L("App cover image updated successfully")}},t=(0,d._)({},m,n),c.n(f,t)),2),H=P[0],B=P[1].loading,z=M!==x,N=(0,v.A)({onUpload:(s=(0,r._)(function(e){var n;return(0,o.YH)(this,function(t){switch(t.label){case 0:return[4,H({variables:{input:{id:p,imageUrl:n=e.url}}})];case 1:return t.sent(),T(n),[2]}})}),function(e){return s.apply(this,arguments)}),onUploadPreview:function(){L("Uploading repl cover image")},onError:function(e){return U(e.message)}});(0,a.useEffect)(function(){T(w)},[w]);var $=(u=(0,r._)(function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:return[4,H({variables:{input:{id:p,imageUrl:null}}})];case 1:return e.sent(),[2]}})}),function(){return u.apply(this,arguments)});return(0,l.FD)(F.S,{gap:4,children:[(0,l.Y)("label",{htmlFor:E,children:(0,l.Y)(_.EY,{variant:"small",color:"dimmer",multiline:!1,children:"Cover image"})}),(0,l.FD)(F.S,{row:!0,gap:16,align:"center",children:[(0,l.Y)(b.A,{alt:"",width:64,height:48,imageUrl:M}),(0,l.FD)(F.S,{css:C.uploadActions,row:!0,gap:16,children:[(0,l.Y)(F.S,{css:C.buttonWrapper,children:(0,l.Y)(R.y,{onSelect:function(e){e&&e.length>0&&N.uploadImage(e[0],h.VL.ReplCoverImage)},acceptedFileTypes:D.DA,dropZoneDisabled:!0,children:(0,l.Y)(S.m_,{tooltip:"Not allowed to update image",isDisabled:y.isAuthorized,children:(0,l.Y)(A.$n,{"aria-labelledby":E,text:z?"Replace image":"Upload image",disabled:!y.isAuthorized,css:C.button,size:"small",loading:B})})})}),z?(0,l.Y)(F.S,{css:C.buttonWrapper,children:(0,l.Y)(A.$n,{text:"Reset",size:"small",disabled:!y.isAuthorized,onClick:$,css:C.button,loading:B})}):null]})]})]})}},96311:(e,n,t)=>{"use strict";t.d(n,{A:()=>x});var r=t(13454),i=t(66622),o=t(5482),l=t(94086),a=t(30758),d=t(20837),s=t(45009),u=t(30632),c=t(75838);function p(){var e=(0,s._)(["\n  mutation ReplIconUpdate($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        iconUrl\n      }\n    }\n  }\n"]);return p=function(){return e},e}var m={},f=(0,u.J1)(p()),h=t(40581),v=t(24129),g=t(39651),D=t(41705),b=t(10168),y=t(32842),w=t(84911),Y=t(40172),A=t(93149),R=t(40889),_=t(65599),S=t(8367),F=t(62484),C=(0,b.x)({uploadActions:[y.wp.flex.growAndShrink(1)],buttonWrapper:[y.wp.flex.grow(1),y.wp.flex.shrink(1),{flexBasis:0}],button:[y.wp.width("100%")]});let x=function(e){var n,t,s,u,p=e.replId,b=e.authz,y=e.initialIconUrl,x=e.originIconUrl,I=(0,g.A)(),U=I.showError,L=I.showConfirm,E=(0,w.c)()("repl-icon"),k=(0,i._)((0,a.useState)(y),2),M=k[0],T=k[1],P=(0,i._)((n={onError:function(){U("Something unexpected happened")},onCompleted:function(e){e.updateRepl.repl&&L("App icon updated successfully")}},t=(0,d._)({},m,n),c.n(f,t)),2),H=P[0],B=P[1].loading,z=M!==x,N=(0,v.A)({onUpload:(s=(0,r._)(function(e){var n;return(0,o.YH)(this,function(t){switch(t.label){case 0:return[4,H({variables:{input:{id:p,iconUrl:n=e.url}}})];case 1:return t.sent(),T(n),[2]}})}),function(e){return s.apply(this,arguments)}),onUploadPreview:function(){L("Uploading App icon")},onError:function(e){return U(e.message)}});(0,a.useEffect)(function(){T(y)},[y]);var $=(u=(0,r._)(function(){return(0,o.YH)(this,function(e){switch(e.label){case 0:return[4,H({variables:{input:{id:p,iconUrl:null}}})];case 1:return e.sent(),[2]}})}),function(){return u.apply(this,arguments)});return(0,l.FD)(S.S,{gap:4,children:[(0,l.Y)("label",{htmlFor:E,children:(0,l.Y)(R.EY,{variant:"small",color:"dimmer",multiline:!1,children:"App icon"})}),(0,l.FD)(S.S,{row:!0,gap:16,align:"center",children:[(0,l.Y)(F.A,{alt:"",size:32,iconUrl:null!=M?M:""}),(0,l.FD)(S.S,{css:C.uploadActions,row:!0,gap:16,children:[(0,l.Y)(S.S,{css:C.buttonWrapper,children:(0,l.Y)(A.y,{onSelect:function(e){e&&e.length>0&&N.uploadImage(e[0],h.VL.ReplIcon)},acceptedFileTypes:D.DA,dropZoneDisabled:!0,children:(0,l.Y)(_.m_,{tooltip:"Not allowed to update icon",isDisabled:b.isAuthorized,children:(0,l.Y)(Y.$n,{text:z?"Replace icon":"Upload icon",disabled:!b.isAuthorized,css:C.button,size:"small",loading:B})})})}),z?(0,l.Y)(S.S,{css:C.buttonWrapper,children:(0,l.Y)(Y.$n,{text:"Reset",size:"small","aria-labelledby":E,disabled:!b.isAuthorized,onClick:$,css:C.button,loading:B})}):null]})]})]})}},78608:(e,n,t)=>{"use strict";t.d(n,{y:()=>h});var r=t(66622),i=t(94086),o=t(30758),l=t(97407),a=t(32652),d=t(6867),s=t(99532),u=t(48091),c=t(10168),p=t(32842),m=t(65599),f=t(68753),h=function(){var e=(0,r._)((0,o.useState)({type:"closed"}),2),n=e[0],t=e[1],c=(0,d.g)();if("loading"===c.type||"error"===c.type)return null;var p=c.replCount,h=c.isStarterUser,g=c.shouldEnforceUsersOverLimit,D=c.refetch,b=g||p===a.qN;if(!h||!b)return null;var y=p>=a.qN,w="Click here to upgrade to Replit ".concat(l.en," and create more than ").concat(a.qN," Apps."),Y=y?"(".concat(p,"/").concat(a.qN,") You've hit the limit for Apps in the Starter Plan. "):"",A="(".concat(p,"/").concat(a.qN,") Apps");return(0,i.FD)(i.FK,{children:[(0,i.Y)(m.m_,{tooltip:Y+w,children:(0,i.Y)(u.a,{css:v.pill,text:A,iconLeft:y?(0,i.Y)(f.A,{size:20}):void 0,onClick:function(){return t({type:"open",onUpgradeConfirm:D})}})}),(0,i.Y)(s.k,{setState:t,state:n})]})},v=(0,c.x)({pill:[p.wp.cursor.pointer,p.wp.px(8),p.wp.py(16),p.wp.fontSize(16)]})},64744:(e,n,t)=>{"use strict";t.d(n,{l:()=>a});var r=t(45009),i=t(30632),o=t(8726);function l(){var e=(0,r._)(["\n  fragment BulkDeleteConfirmationModalRepl on Repl {\n    id\n    iconUrl\n    title\n    hostingDeployment {\n      ... on HostingDeployment {\n        id\n        replitAppSubdomain\n        ...BuildStatusBadgeHostingDeployment\n      }\n    }\n  }\n  ","\n"]);return l=function(){return e},e}var a=(0,i.J1)(l(),o.F)},36741:(e,n,t)=>{"use strict";t.d(n,{A:()=>Y});var r=t(66622),i=t(94086),o=t(30758),l=t(41155),a=t(34805),d=t(95344),s=t(24955),u=t(10168),c=t(32842),p=t(40172),m=t(28354),f=t(76985),h=t(93532),v=t(40889),g=t(8367),D=t(8351),b=t(68753),y=(0,u.x)({repls:[c.wp.maxHeight("60vh"),c.wp.overflow("auto"),{"& > div":[c.wp.py(8),{borderTop:"1px solid "+s.LU.outlineDimmest}],"& > div:last-of-type":{borderBottom:"1px solid "+s.LU.outlineDimmest}}],row:[c.wp.colWithGap(8)]}),w=function(e){var n,t=e.repl,a=e.onConfirmedChange,s=(0,r._)((0,o.useState)(""),2),u=s[0],c=s[1],p=(null===(n=t.hostingDeployment)||void 0===n?void 0:n.__typename)==="HostingDeployment"?t.hostingDeployment:null,f=(0,o.useRef)(!1),D=(null==p?void 0:p.replitAppSubdomain)?p.replitAppSubdomain:t.title;return(0,i.FD)(g.S,{gap:8,children:[(0,i.FD)(g.S,{row:!0,gap:8,align:"center",children:[(0,i.Y)(d.Ay,{size:24,iconUrl:t.iconUrl,alt:""}),(0,i.Y)(v.EY,{height:"singleLine",multiline:!1,children:t.title}),p?(0,i.Y)(l.y,{deployment:p}):null]},t.id),p?(0,i.FD)(i.FK,{children:[(0,i.Y)(h.N,{icon:(0,i.Y)(b.A,{}),colorway:"red",text:"This App has been deployed. If you delete this App, the associated\nproduction deployment will also be shut down and deleted. To\nproceed, please type: ".concat(D)}),(0,i.Y)(m.pd,{placeholder:"Type here",value:u,onChange:function(e){var n=e.currentTarget.value;c(n);var t=n.trim()===D;t!==f.current&&a(t),f.current=t}})]}):null]})};let Y=function(e){var n=e.selectedRepls,t=e.isOpen,l=e.onClose,d=e.onDelete,s=e.deleting,u=n.length,c=(0,a.A)("Repl",u),m=n.filter(function(e){var n;return(null===(n=e.hostingDeployment)||void 0===n?void 0:n.__typename)==="HostingDeployment"}).length,h=(0,a.A)("Deployment",m),b=m>0?" & ".concat(m>1?m+" ":""," ").concat(h):"",Y=(0,r._)((0,o.useState)(0),2),A=Y[0],R=Y[1];return(0,o.useEffect)(function(){t||R(0)},[t]),(0,i.Y)(f.a,{isOpen:t,onRequestClose:l,children:(0,i.FD)(g.S,{gap:16,children:[(0,i.FD)(v.Y9,{variant:"subheadBig",level:2,children:["Delete ",c,m>0?" & ".concat(h):"","?"]}),(0,i.Y)(v.EY,{color:"dimmer",children:"Are you sure? This cannot be undone. Some Apps may take a few minutes to finish deleting."}),(0,i.Y)(g.S,{css:y.repls,children:n.map(function(e){return(0,i.Y)(w,{css:y.row,repl:e,onConfirmedChange:function(e){return R(function(n){return n+(e?1:-1)})}},e.id)})}),(0,i.FD)(g.S,{row:!0,gap:12,justify:"end",children:[(0,i.Y)(p.$n,{text:"Cancel",onClick:l,disabled:s}),(0,i.Y)(p.$n,{iconLeft:(0,i.Y)(D.A,{}),onClick:d,disabled:s||A<m,text:"Yes, delete ".concat(u>1?u+" ":""," ").concat(c).concat(b),colorway:"negative"})]})]})})}},91113:(e,n,t)=>{"use strict";t.d(n,{P_:()=>p,kh:()=>u});var r=t(20837),i=t(45009),o=t(30632),l=t(75838);function a(){var e=(0,i._)(["\n  fragment DeleteReplDialogRepl on Repl {\n    id\n    title\n  }\n"]);return a=function(){return e},e}function d(){var e=(0,i._)(["\n  mutation DeleteReplDialogReplDelete($id: String!) {\n    deleteRepl(id: $id) {\n      id\n    }\n  }\n"]);return d=function(){return e},e}var s={},u=(0,o.J1)(a()),c=(0,o.J1)(d());function p(e){var n=(0,r._)({},s,e);return l.n(c,n)}},25352:(e,n,t)=>{"use strict";t.d(n,{B:()=>d});var r=t(66622),i=t(94086),o=t(91113),l=t(39651),a=t(1694);function d(e){var n=e.repl,t=e.onDeleteRequested,d=e.onDone,s=(0,l.A)(),u=s.showConfirm,c=s.showError,p=(0,r._)((0,o.P_)({onCompleted:function(e){"Repl"===e.deleteRepl.__typename?(u("App scheduled for deletion"),null==t||t(),null==d||d()):c("Something went wrong")},onError:function(e){return c(e.message)},variables:{id:n.id},update:function(e,n){var t;(null===(t=n.data)||void 0===t?void 0:t.deleteRepl.id)&&(e.evict({id:e.identify(n.data.deleteRepl)}),e.gc())}}),2),m=p[0],f=p[1];return(0,i.Y)(a.A,{name:n.title,entityType:"App",isDeleting:f.loading,delete:function(){f.loading||m()},hideModal:function(){return null==d?void 0:d()}})}},24946:(e,n,t)=>{"use strict";t.d(n,{Sc:()=>p,pV:()=>u});var r=t(20837),i=t(45009),o=t(30632),l=t(75838);function a(){var e=(0,i._)(["\n  fragment EditReplFormRepl on Repl {\n    id\n    title\n    description\n    imageUrl\n    iconUrl\n    templateInfo {\n      iconUrl\n      imageUrl\n    }\n    authorizations {\n      editMetadata {\n        isAuthorized\n      }\n    }\n  }\n"]);return a=function(){return e},e}function d(){var e=(0,i._)(["\n  mutation EditReplFormEdit($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        ...EditReplFormRepl\n      }\n    }\n  }\n  ","\n"]);return d=function(){return e},e}var s={},u=(0,o.J1)(a()),c=(0,o.J1)(d(),u);function p(e){var n=(0,r._)({},s,e);return l.n(c,n)}},22687:(e,n,t)=>{"use strict";t.d(n,{A:()=>S});var r=t(66622),i=t(94086),o=t(30758),l=t(24946),a=t(21847),d=t(39651),s=t(68384),u=t(96311),c=t(36935),p=t(10168),m=t(32842),f=t(40172),h=t(28354),v=t(40889),g=t(8367),D=t(99167),b=t(16021),y=t(14753),w=t(68753),Y=function(e){return 0===e.length?{message:"Title cannot be blank"}:e.length>60?{message:"Title cannot be greater than ".concat(60," characters")}:void 0},A=function(e){if(e.length>c.z)return{message:"Description cannot be greater than ".concat(c.z," characters")}},R=(0,p.x)({inputLabel:[m.wp.flex.row,m.wp.justify.spaceBetween,m.wp.align.end],descriptionInput:[m.wp.minHeight(96),m.wp.maxHeight(256),{resize:"vertical"}],inputErrorIcon:[m.wp.color.accentNegativeStronger],inputErrorMessage:[m.wp.flex.growAndShrink(1),m.wp.color.accentNegativeStronger]});function _(e){var n=e.error,t=e.id;return n?(0,i.FD)(g.S,{id:t,row:!0,gap:4,align:"center",children:[(0,i.Y)(w.A,{css:R.inputErrorIcon}),(0,i.Y)(v.EY,{css:R.inputErrorMessage,children:n.message})]}):null}function S(e){var n,t,p,m,w,S=e.repl,F=e.onDone,C=(0,d.A)(),x=C.showConfirm,I=C.showError,U=(0,r._)((0,l.Sc)({onCompleted:function(){x("App edited"),F()},onError:function(e){I(e.message)}}),2),L=U[0],E=U[1].loading,k=(0,a.W)(S.title,Y),M=(0,a.W)(null!==(m=S.description)&&void 0!==m?m:"",A),T=(0,o.useId)(),P=(0,o.useId)(),H=(0,o.useId)(),B=(0,o.useId)(),z=!!k.error||!!M.error;return(0,i.FD)(g.S,{tag:"form",gap:24,onSubmit:function(e){e.preventDefault(),E||null!=k.validate()||null!=M.validate()||L({variables:{input:{id:S.id,title:k.value,description:M.value}}})},children:[(0,i.Y)(v.Y9,{variant:"headerDefault",level:2,children:"Edit App"}),(0,i.FD)(g.S,{gap:4,children:[(0,i.FD)(g.S,{css:R.inputLabel,children:[(0,i.Y)("label",{htmlFor:T,children:(0,i.Y)(v.EY,{variant:"small",color:"dimmer",multiline:!1,children:"Name"})}),(0,i.Y)(D.A,{maxLength:60,value:k.value,hideLabel:!0})]}),(0,i.Y)(h.pd,{style:{cursor:S.authorizations.editMetadata.isAuthorized?"auto":"not-allowed"},disabled:!S.authorizations.editMetadata.isAuthorized,maxLength:60,value:k.value,onChange:function(e){return k.setValue(e.target.value)},spellCheck:!1,id:T,"aria-describedby":P}),(0,i.Y)(_,{id:P,error:k.error})]}),(0,i.FD)(g.S,{gap:4,children:[(0,i.FD)(g.S,{css:R.inputLabel,children:[(0,i.Y)("label",{htmlFor:H,children:(0,i.Y)(v.EY,{variant:"small",color:"dimmer",multiline:!1,children:"Description"})}),(0,i.Y)(D.A,{maxLength:c.z,value:M.value,hideLabel:!0})]}),(0,i.Y)(h.ov,{disabled:!S.authorizations.editMetadata.isAuthorized,maxLength:c.z,value:M.value,onChange:function(e){return M.setValue(e.target.value)},placeholder:"What does this App do?",css:R.descriptionInput,id:H,"aria-describedby":B}),(0,i.Y)(_,{id:B,error:M.error})]}),(0,i.Y)(u.A,{replId:S.id,authz:S.authorizations.editMetadata,initialIconUrl:S.iconUrl,originIconUrl:null===(n=S.templateInfo)||void 0===n?void 0:n.iconUrl}),(0,i.Y)(s.A,{replId:S.id,authz:S.authorizations.editMetadata,initialImageUrl:null!==(w=S.imageUrl)&&void 0!==w?w:null===(t=S.templateInfo)||void 0===t?void 0:t.imageUrl,originImageUrl:null===(p=S.templateInfo)||void 0===p?void 0:p.imageUrl}),(0,i.FD)(g.S,{row:!0,gap:12,justify:"end",children:[(0,i.Y)(f.$n,{type:"button",text:"Cancel",onClick:F}),(0,i.Y)(f.$n,{type:"submit",iconLeft:E?(0,i.Y)(y.A,{}):(0,i.Y)(b.A,{}),disabled:E||z,text:"Save",colorway:"primary"})]})]})}},22631:(e,n,t)=>{"use strict";t.d(n,{Nr:()=>p,eD:()=>u});var r=t(20837),i=t(45009),o=t(30632),l=t(75838);function a(){var e=(0,i._)(["\n  fragment LeaveMultiplayerReplDialogRepl on Repl {\n    id\n    title\n  }\n"]);return a=function(){return e},e}function d(){var e=(0,i._)(["\n  mutation LeaveMultiplayerReplDialogRemove($id: String!) {\n    removeSharedRepl(replId: $id) {\n      id\n    }\n  }\n"]);return d=function(){return e},e}var s={},u=(0,o.J1)(a()),c=(0,o.J1)(d());function p(e){var n=(0,r._)({},s,e);return l.n(c,n)}},91218:(e,n,t)=>{"use strict";t.d(n,{Qo:()=>g,Lv:()=>b});var r=t(20837),i=t(45009),o=t(30632),l=t(75838),a=t(81074),d=t(8726),s=t(9782),u=t(64744),c=t(22631);function p(){var e=(0,i._)(["\n  fragment ReplsDashboardReplItemActionsRepl on Repl {\n    id\n    url\n    slug\n    pinnedToProfile\n    isPrivate\n    title\n    description\n    authorizations {\n      deleteRepl {\n        isAuthorized\n      }\n      editFileContents {\n        isAuthorized\n      }\n      editFolder {\n        isAuthorized\n      }\n      editMetadata {\n        isAuthorized\n      }\n      editPermissions {\n        isAuthorized\n      }\n      editVisibility {\n        isAuthorized\n      }\n      fork {\n        isAuthorized\n      }\n      removeSelf {\n        isAuthorized\n      }\n      star {\n        isAuthorized\n      }\n    }\n  }\n"]);return p=function(){return e},e}var m=(0,o.J1)(p());function f(){var e=(0,i._)(["\n  fragment ReplsDashboardReplItemRepl on Repl {\n    id\n    title\n    description\n    timeCreated\n    isStarred\n    isPrivate\n    isOwner\n    owner {\n      __typename\n      ... on Team {\n        id\n      }\n      ... on User {\n        id\n      }\n    }\n    bytesUsed {\n      ... on ReplBytesUsed {\n        value\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on ServiceUnavailable {\n        message\n      }\n    }\n    iconUrl\n    publishedAs\n    slug\n    url\n    templateInfo {\n      label\n      iconUrl\n      imageUrl\n    }\n    ...ReplsDashboardReplItemActionsRepl\n    ...ReplLinkRepl\n    user {\n      id\n      image\n      username\n      ...UserLinkUser\n    }\n    config {\n      isServer\n    }\n    isRenamed\n    hostingDeployment {\n      ... on HostingDeployment {\n        id\n        ...BuildStatusBadgeHostingDeployment\n      }\n    }\n    ...BulkDeleteConfirmationModalRepl\n    ...LeaveMultiplayerReplDialogRepl\n  }\n  ","\n  ","\n  ","\n  ","\n  ","\n  ","\n"]);return f=function(){return e},e}function h(){var e=(0,i._)(["\n  mutation ReplsDashboardUpdateRepl($input: UpdateReplInput!) {\n    updateRepl(input: $input) {\n      repl {\n        id\n        ...ReplsDashboardReplItemRepl\n      }\n    }\n  }\n  ","\n"]);return h=function(){return e},e}var v={},g=(0,o.J1)(f(),m,a.r,s.N,d.F,u.l,c.eD),D=(0,o.J1)(h(),g);function b(e){var n=(0,r._)({},v,e);return l.n(D,n)}},51190:(e,n,t)=>{"use strict";t.d(n,{im:()=>d,pK:()=>s});var r=t(66622),i=t(27189),o=t(94086),l=t(30758),a=(0,l.createContext)(null),d=function(e){var n=e.children,t=(0,r._)((0,l.useState)([]),2),d=t[0],s=t[1],u=(0,r._)((0,l.useState)(null),2),c=u[0],p=u[1];return(0,o.Y)(a.Provider,{value:{selectedRepls:d,isReplSelected:function(e){return d.some(function(n){return n.id===e})},selectRepl:function(e){if(50===d.length){p("You have selected the maximum number of repls!"),setTimeout(function(){return p(null)},2500);return}s((0,i._)(d).concat([e]))},deselectRepl:function(e){s(d.filter(function(n){return n.id!==e}))},clearSelectedRepls:function(){s([])},message:c,setMessage:p},children:n})};function s(){var e=(0,l.useContext)(a);if(null===e)throw Error("SelectedReplsContextProvider missing!");return e}},93149:(e,n,t)=>{"use strict";t.d(n,{y:()=>h});var r=t(20837),i=t(43952),o=t(16530),l=t(94086),a=t(30758),d=t(62315),s=t(48376),u=t(24955),c=t(10168),p=t(32842),m=(0,c.x)({dropZone:[{'&[data-drop-target="true"]':[p.wp.colorMixBg(u.LU.accentPrimaryDimmer,"transparent",.2),p.wp.border({width:1,color:u.LU.outlineDefault})]}]}),f=(0,a.forwardRef)(function(e,n){return(0,l.Y)(d.w,(0,i._)((0,r._)({ref:n},e),{css:m.dropZone}))}),h=function(e){var n=e.acceptedFileTypes,t=e.allowsMultiple,a=e.acceptDirectory,d=e.dropZoneDisabled,u=e.children,c=e.onDrop,p=e.onSelect,m=(0,o._)(e,["acceptedFileTypes","allowsMultiple","acceptDirectory","dropZoneDisabled","children","onDrop","onSelect"]);return(0,l.Y)(f,{onDrop:c,isDisabled:void 0!==d&&d,children:(0,l.Y)(s.F,(0,i._)((0,r._)({acceptedFileTypes:n,allowsMultiple:void 0!==t&&t,acceptDirectory:void 0!==a&&a,onSelect:p},m),{children:u}))})}},43417:(e,n,t)=>{"use strict";t.d(n,{A:()=>a});var r=t(20837),i=t(43952),o=t(94086),l=t(42022);function a(e){return(0,o.Y)(l.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M22.555 4.496a.75.75 0 0 1-.05 1.059l-5.5 5a.75.75 0 0 1-1.01 0l-2.5-2.273a.75.75 0 1 1 1.01-1.11L16.5 8.986l4.996-4.541a.75.75 0 0 1 1.059.05ZM2.25 8A.75.75 0 0 1 3 7.25h6a.75.75 0 1 1 0 1.5H3A.75.75 0 0 1 2.25 8Zm20.305 4.496a.75.75 0 0 1-.05 1.059l-5.5 5a.75.75 0 0 1-1.01 0l-2.5-2.273a.75.75 0 1 1 1.01-1.11l1.995 1.814 4.996-4.54a.75.75 0 0 1 1.059.05ZM2.25 16a.75.75 0 0 1 .75-.75h6a.75.75 0 0 1 0 1.5H3a.75.75 0 0 1-.75-.75Z",clipRule:"evenodd"})}))}},24572:(e,n,t)=>{"use strict";t.d(n,{A:()=>a});var r=t(20837),i=t(43952),o=t(94086),l=t(42022);function a(e){return(0,o.Y)(l.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M4 3.75A1.25 1.25 0 0 0 2.75 5v14A1.25 1.25 0 0 0 4 20.25h16A1.25 1.25 0 0 0 21.25 19V8A1.25 1.25 0 0 0 20 6.75h-9a.75.75 0 0 1-.624-.334L8.599 3.75H4Zm-1.945-.695A2.75 2.75 0 0 1 4 2.25h5a.75.75 0 0 1 .624.334l1.777 2.666H20A2.75 2.75 0 0 1 22.75 8v11A2.75 2.75 0 0 1 20 21.75H4A2.75 2.75 0 0 1 1.25 19V5c0-.73.29-1.429.805-1.945ZM12 10.25a.75.75 0 0 1 .75.75v2.25H15a.75.75 0 0 1 0 1.5h-2.25V17a.75.75 0 0 1-1.5 0v-2.25H9a.75.75 0 0 1 0-1.5h2.25V11a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}))}},61541:(e,n,t)=>{"use strict";t.d(n,{A:()=>a});var r=t(20837),i=t(43952),o=t(94086),l=t(42022);function a(e){return(0,o.Y)(l.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M4 21.75A2.75 2.75 0 0 1 1.25 19V5A2.75 2.75 0 0 1 4 2.25h5a.75.75 0 0 1 .624.334l1.777 2.666H20A2.75 2.75 0 0 1 22.75 8v1.213c.835.559 1.34 1.56 1.2 2.643l-.98 7.5a2.75 2.75 0 0 1-2.726 2.394H4ZM3.116 4.116A1.25 1.25 0 0 1 4 3.75h4.599l1.777 2.666A.75.75 0 0 0 11 6.75h9A1.25 1.25 0 0 1 21.25 8v.75H5.256a2.75 2.75 0 0 0-2.506 1.617V5c0-.332.132-.65.366-.884ZM4.278 20.25h15.966a1.25 1.25 0 0 0 1.24-1.088l.978-7.5a1.25 1.25 0 0 0-1.24-1.412H5.256a1.25 1.25 0 0 0-1.24 1.088l-.978 7.5a1.25 1.25 0 0 0 1.24 1.412Z",clipRule:"evenodd"})}))}},43698:(e,n,t)=>{"use strict";t.d(n,{A:()=>a});var r=t(20837),i=t(43952),o=t(94086),l=t(42022);function a(e){return(0,o.Y)(l.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M3.25 12a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0Zm7 0a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0Zm7 0a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0Z",clipRule:"evenodd"})}))}},73128:(e,n,t)=>{"use strict";t.d(n,{A:()=>a});var r=t(20837),i=t(43952),o=t(94086),l=t(42022);function a(e){return(0,o.Y)(l.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M10.25 5a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0Zm0 7a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0Zm0 7a1.75 1.75 0 1 1 3.5 0 1.75 1.75 0 0 1-3.5 0Z",clipRule:"evenodd"})}))}},12923:(e,n,t)=>{"use strict";t.d(n,{A:()=>a});var r=t(20837),i=t(43952),o=t(94086),l=t(42022);function a(e){return(0,o.Y)(l.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M8 3.25a.75.75 0 0 1 .75.75v16a.75.75 0 0 1-1.5 0V4A.75.75 0 0 1 8 3.25Zm8 0a.75.75 0 0 1 .75.75v16a.75.75 0 0 1-1.5 0V4a.75.75 0 0 1 .75-.75Z",clipRule:"evenodd"})}))}},27052:(e,n,t)=>{"use strict";t.d(n,{A:()=>a});var r=t(20837),i=t(43952),o=t(94086),l=t(42022);function a(e){return(0,o.Y)(l.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M12 21.75a.75.75 0 0 0 .75-.75V10.81l3.72 3.72a.75.75 0 1 0 1.06-1.06l-5-5a.75.75 0 0 0-1.06 0l-5 5a.75.75 0 1 0 1.06 1.06l3.72-3.72V21c0 .414.336.75.75.75Zm-9-12A.75.75 0 0 0 3.75 9V5A1.25 1.25 0 0 1 5 3.75h14A1.25 1.25 0 0 1 20.25 5v4a.75.75 0 0 0 1.5 0V5A2.75 2.75 0 0 0 19 2.25H5A2.75 2.75 0 0 0 2.25 5v4c0 .414.336.75.75.75Z",clipRule:"evenodd"})}))}},76421:(e,n,t)=>{"use strict";t.d(n,{A:()=>a});var r=t(20837),i=t(43952),o=t(94086),l=t(42022);function a(e){return(0,o.Y)(l.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M12 1.25a.75.75 0 0 1 .673.418l2.915 5.907 6.52.953a.75.75 0 0 1 .415 1.28l-4.717 4.594 1.113 6.491a.75.75 0 0 1-1.088.79L12 18.618l-5.83 3.067a.75.75 0 0 1-1.09-.79l1.114-6.492-4.717-4.595a.75.75 0 0 1 .415-1.28l6.52-.952 2.915-5.907A.75.75 0 0 1 12 1.25Zm0 2.444L9.583 8.592a.75.75 0 0 1-.565.41l-5.407.79 3.912 3.81a.75.75 0 0 1 .216.665l-.923 5.382 4.835-2.543a.75.75 0 0 1 .698 0l4.835 2.543-.923-5.382a.75.75 0 0 1 .216-.664l3.912-3.81-5.407-.79a.75.75 0 0 1-.564-.411L12 3.694Z",clipRule:"evenodd"})}))}},96955:(e,n,t)=>{"use strict";t.d(n,{A:()=>a});var r=t(20837),i=t(43952),o=t(94086),l=t(42022);function a(e){return(0,o.Y)(l.Ay,(0,i._)((0,r._)({},e),{children:(0,o.Y)("path",{fillRule:"evenodd",d:"M17.08 2.86a5.25 5.25 0 0 0-5.867 7.3.75.75 0 0 1-.153.84l-6.91 6.91a1.371 1.371 0 0 0 1.94 1.94L13 12.94a.75.75 0 0 1 .84-.153 5.25 5.25 0 0 0 7.3-5.867l-2.915 2.916a1.75 1.75 0 0 1-2.45 0l-.005-.006-1.606-1.605a1.75 1.75 0 0 1 0-2.45l.006-.005 2.91-2.91Zm-2.294-1.504a6.75 6.75 0 0 1 3.993.49A.75.75 0 0 1 19 3.06l-3.766 3.767a.25.25 0 0 0 0 .346l1.593 1.593a.25.25 0 0 0 .346 0L20.94 5a.75.75 0 0 1 1.213.22 6.75 6.75 0 0 1-8.444 9.132L7.15 20.91a2.871 2.871 0 1 1-4.06-4.06l6.558-6.559a6.75 6.75 0 0 1 5.138-8.935Z",clipRule:"evenodd"})}))}},48091:(e,n,t)=>{"use strict";t.d(n,{a:()=>a});var r=t(94086),i=t(10168),o=t(32842),l=t(98541),a=function(e){var n=e.className,t=e.text,i=e.iconLeft,o=e.onClick;return(0,r.Y)(l.a,{onClick:o,className:n,colorway:"yellow",css:d.self,text:t,iconLeft:i})},d=(0,i.x)({self:[o.wp.borderRadius(4),{padding:"4px 3px"}]})},9782:(e,n,t)=>{"use strict";t.d(n,{N:()=>a,m:()=>d});var r=t(45009),i=t(30632);function o(){var e=(0,r._)(["\n  fragment UserLinkUser on User {\n    id\n    url\n    username\n  }\n"]);return o=function(){return e},e}function l(){var e=(0,r._)(["\n  fragment UserLinkCurrentUser on CurrentUser {\n    id\n    url\n    username\n  }\n"]);return l=function(){return e},e}var a=(0,i.J1)(o()),d=(0,i.J1)(l())},60510:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var r=t(38265),i=t(429);function o(e,n){(0,i.A)(2,arguments);var t=(0,r.A)(e),o=(0,r.A)(n);return t.getTime()-o.getTime()}},18462:(e,n,t)=>{"use strict";t.d(n,{A:()=>d});var r=t(38265),i=t(429),o=t(81668),l=t(54530),a=t(87198);function d(e,n){(0,i.A)(2,arguments);var t,d=(0,r.A)(e),s=(0,r.A)(n),u=(0,o.A)(d,s),c=Math.abs(function(e,n){(0,i.A)(2,arguments);var t=(0,r.A)(e),o=(0,r.A)(n);return 12*(t.getFullYear()-o.getFullYear())+(t.getMonth()-o.getMonth())}(d,s));if(c<1)t=0;else{1===d.getMonth()&&d.getDate()>27&&d.setDate(30),d.setMonth(d.getMonth()-u*c);var p=(0,o.A)(d,s)===-u;(function(e){(0,i.A)(1,arguments);var n=(0,r.A)(e);return(0,l.A)(n).getTime()===(0,a.A)(n).getTime()})((0,r.A)(e))&&1===c&&1===(0,o.A)(e,s)&&(p=!1),t=u*(c-Number(p))}return 0===t?0:t}},39729:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var r=t(60510),i=t(429);function o(e,n){(0,i.A)(2,arguments);var t=(0,r.A)(e,n)/1e3;return t>0?Math.floor(t):Math.ceil(t)}},54530:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var r=t(38265),i=t(429);function o(e){(0,i.A)(1,arguments);var n=(0,r.A)(e);return n.setHours(23,59,59,999),n}},87198:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});var r=t(38265),i=t(429);function o(e){(0,i.A)(1,arguments);var n=(0,r.A)(e),t=n.getMonth();return n.setFullYear(n.getFullYear(),t+1,0),n.setHours(23,59,59,999),n}},37824:(e,n,t)=>{"use strict";t.d(n,{A:()=>c});var r=t(81668),i=t(18462),o=t(39729),l=t(16823),a=t(38265),d=t(80697),s=t(26738),u=t(429);function c(e,n){var t,c,p,m=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};(0,u.A)(2,arguments);var f=m.locale||l.A;if(!f.formatDistance)throw RangeError("locale must contain formatDistance property");var h=(0,r.A)(e,n);if(isNaN(h))throw RangeError("Invalid time value");var v=(0,d.A)(m);v.addSuffix=!!m.addSuffix,v.comparison=h,h>0?(t=(0,a.A)(n),c=(0,a.A)(e)):(t=(0,a.A)(e),c=(0,a.A)(n));var g=(0,o.A)(c,t),D=Math.round((g-((0,s.A)(c)-(0,s.A)(t))/1e3)/60);if(D<2){if(m.includeSeconds){if(g<5)return f.formatDistance("lessThanXSeconds",5,v);if(g<10)return f.formatDistance("lessThanXSeconds",10,v);if(g<20)return f.formatDistance("lessThanXSeconds",20,v);if(g<40)return f.formatDistance("halfAMinute",null,v);else if(g<60)return f.formatDistance("lessThanXMinutes",1,v);else return f.formatDistance("xMinutes",1,v)}return 0===D?f.formatDistance("lessThanXMinutes",1,v):f.formatDistance("xMinutes",D,v)}if(D<45)return f.formatDistance("xMinutes",D,v);if(D<90)return f.formatDistance("aboutXHours",1,v);if(D<1440){var b=Math.round(D/60);return f.formatDistance("aboutXHours",b,v)}if(D<2520)return f.formatDistance("xDays",1,v);if(D<43200){var y=Math.round(D/1440);return f.formatDistance("xDays",y,v)}if(D<86400)return p=Math.round(D/43200),f.formatDistance("aboutXMonths",p,v);if((p=(0,i.A)(c,t))<12){var w=Math.round(D/43200);return f.formatDistance("xMonths",w,v)}var Y=p%12,A=Math.floor(p/12);return Y<3?f.formatDistance("aboutXYears",A,v):Y<9?f.formatDistance("overXYears",A,v):f.formatDistance("almostXYears",A+1,v)}},16206:(e,n,t)=>{"use strict";t.r(n),t.d(n,{default:()=>n0});var r,i,o=t(72275),l=t(94086),a=t(60049),d=t.n(a),s=t(81273),u=t(5846),c=t(33352),p=t(3005),m=t(82436),f=t(62500),h=t(78608),v=t(20837),g=t(43952),D=t(66622),b=t(27189),y=t(30758),w=t(45009),Y=t(30632),A=t(72813),R=t(75838);function _(){var e=(0,w._)(["\n  fragment DeleteFolderDialogFolder on ReplFolder {\n    id\n    pathnames\n  }\n"]);return _=function(){return e},e}function S(){var e=(0,w._)(["\n  mutation DeleteFolderDialogDeleteFolder($folderId: String!) {\n    deleteReplFolder(folderId: $folderId) {\n      id\n    }\n  }\n"]);return S=function(){return e},e}var F={},C=(0,Y.J1)(_()),x=(0,Y.J1)(S());function I(){var e=(0,w._)(["\n  fragment ReplsDashboardFolderItemReplFolder on ReplFolder {\n    id\n    name\n    canEdit\n    pathnames\n    image\n    timeCreated\n    replsCount\n    folderType\n    ...DeleteFolderDialogFolder\n  }\n  ","\n"]);return I=function(){return e},e}var U=(0,Y.J1)(I(),C),L=t(91218);function E(){var e=(0,w._)(["\n  query ReplsDashboardReplFolderList(\n    $path: String!\n    $starred: Boolean\n    $after: String\n  ) {\n    currentUser {\n      id\n      username\n      replFolderByPath(path: $path) {\n        id\n        ownerId: userId\n        pathnames\n        canEdit\n        canCreateSubFolders\n        parent {\n          id\n          pathnames\n        }\n        folders {\n          id\n          ...ReplsDashboardFolderItemReplFolder\n        }\n        repls(starred: $starred, after: $after) {\n          items {\n            id\n            ...ReplsDashboardReplItemRepl\n          }\n          pageInfo {\n            nextCursor\n          }\n        }\n      }\n      replCount {\n        ... on ReplCount {\n          count\n        }\n      }\n    }\n  }\n  ","\n  ","\n"]);return E=function(){return e},e}function k(){var e=(0,w._)(["\n  mutation ReplsDashboardCreateReplFolder(\n    $name: String!\n    $parentId: String\n    $teamId: Int\n  ) {\n    createReplFolder(name: $name, parentId: $parentId, teamId: $teamId) {\n      id\n      ...ReplsDashboardFolderItemReplFolder\n    }\n  }\n  ","\n"]);return k=function(){return e},e}function M(){var e=(0,w._)(["\n  mutation ReplsDashboardMoveItemsToFolder(\n    $replIds: [String!]!\n    $folderIds: [String!]!\n    $destFolderId: String!\n    $teamId: Int\n  ) {\n    moveItemsToFolder(\n      replIds: $replIds\n      folderIds: $folderIds\n      destFolderId: $destFolderId\n      teamId: $teamId\n    ) {\n      ... on Repl {\n        __typename\n        id\n        ...ReplsDashboardReplItemRepl\n      }\n      ... on ReplFolder {\n        __typename\n        id\n        ...ReplsDashboardFolderItemReplFolder\n      }\n    }\n  }\n  ","\n  ","\n"]);return M=function(){return e},e}var T={},P=(0,Y.J1)(E(),U,L.Qo),H=(0,Y.J1)(k(),U),B=(0,Y.J1)(M(),L.Qo,U);function z(e){var n=(0,v._)({},T,e);return R.n(B,n)}var N=t(39651),$=t(25204),V=t.n($),O=t(23438),J=t(52757),Z=t(24955),W=t(42022);function G(e){return(0,l.Y)(W.Ay,(0,g._)((0,v._)({},e),{children:(0,l.Y)("path",{fillRule:"evenodd",d:"M4 3.75A1.25 1.25 0 0 0 2.75 5v14A1.25 1.25 0 0 0 4 20.25h16A1.25 1.25 0 0 0 21.25 19V8A1.25 1.25 0 0 0 20 6.75h-9a.75.75 0 0 1-.624-.334L8.599 3.75H4Zm-1.945-.695A2.75 2.75 0 0 1 4 2.25h5a.75.75 0 0 1 .624.334l1.777 2.666H20A2.75 2.75 0 0 1 22.75 8v11A2.75 2.75 0 0 1 20 21.75H4A2.75 2.75 0 0 1 1.25 19V5c0-.73.29-1.429.805-1.945ZM13.47 10.47a.75.75 0 0 1 1.06 0l3 3a.75.75 0 0 1 0 1.06l-3 3a.75.75 0 1 1-1.06-1.06l1.72-1.72H7a.75.75 0 0 1 0-1.5h8.19l-1.72-1.72a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})}))}var q=(0,J.AH)({".icon":{color:Z.LU.foregroundDimmest,padding:"0 8px"},"&":{minHeight:"64px",display:"grid",gridColumnGap:"20px",gridTemplateColumns:"40px auto",alignItems:"center",marginBottom:Z.LU.space24,padding:Z.LU.space8,borderRadius:Z.LU.borderRadius8,color:Z.LU.foregroundDimmer,fontSize:Z.LU.fontSizeSubheadDefault,textDecoration:"none",border:"1px solid transparent"},"a:hover":{backgroundColor:Z.LU.backgroundDefault},"a:active":{backgroundColor:Z.LU.backgroundHigher,borderColor:Z.LU.accentPrimaryDefault}});let j=function(e){var n=e.pathnames;return(0,l.Y)(V(),(0,g._)((0,v._)({legacyBehavior:!0},(0,O.do)({pathnames:n})),{children:(0,l.FD)("a",{css:q,children:[(0,l.Y)("div",{className:"icon",children:(0,l.Y)(G,{size:24,css:{transform:"scaleX(-1)"}})}),(0,l.Y)("div",{children:"(up 1 level)"})]})}))};function X(){var e=(0,w._)(["\n  mutation ReplsDashboardBatchDeleteRepls($input: BatchDeleteReplsInput!) {\n    batchDeleteRepls(input: $input) {\n      __typename\n      ... on UserError {\n        message\n      }\n      ... on UnauthorizedError {\n        message\n      }\n      ... on NotFoundError {\n        message\n      }\n      ... on BatchDeleteReplsResult {\n        repls {\n          id\n        }\n      }\n    }\n  }\n"]);return X=function(){return e},e}var K={},Q=(0,Y.J1)(X()),ee=t(34805),en=t(36741),et=t(51190),er=t(10168),ei=t(95235),eo=t(40889),el=t(8367),ea=t(70953),ed=t(14753),es=t(8351),eu=(0,J.i7)("\n  from { transform: translateY(100%); }\n  to { transform: translateY(0%); }\n"),ec=(0,er.x)({container:{position:"fixed",bottom:32,marginTop:-32,marginRight:12,padding:8,paddingLeft:16,borderRadius:Z.LU.borderRadiusContainer,backgroundColor:Z.LU.accentPrimaryDimmest,border:"1px solid "+Z.LU.accentPrimaryDimmer,boxShadow:Z.LU.shadow2,flexDirection:"row",alignItems:"center",alignSelf:"flex-end",animation:eu+" 200ms forwards cubic-bezier(0.16, 1, 0.3, 1)"},countText:{fontWeight:Z.LU.fontWeightMedium,marginRight:12},actions:{flexDirection:"row"},iconButton:{padding:16,transition:"none"," > *":{color:Z.LU.foregroundDefault}}});let ep=function(e){var n,t,r=e.onDelete,i=(0,et.pK)(),o=i.selectedRepls,a=i.clearSelectedRepls,d=i.message,s=i.setMessage,u=(0,D._)((0,y.useState)(!1),2),c=u[0],p=u[1],m=(0,N.A)(),f=m.showConfirm,h=m.showError,g=o.length,b=(0,ee.A)("Apps",g),w=(0,D._)((n={onCompleted:function(e){"BatchDeleteReplsResult"===e.batchDeleteRepls.__typename?(s(null),f("".concat(g," ").concat(b," deleted")),a(),r()):h("Unable to delete ".concat(g," ").concat(b))},onError:function(e){return h(e.message)},variables:{input:{ids:o.map(function(e){return e.id})}},update:function(e,n){var t,r;(null===(r=n.data)||void 0===r?void 0:null===(t=r.batchDeleteRepls)||void 0===t?void 0:t.__typename)==="BatchDeleteReplsResult"&&n.data.batchDeleteRepls.repls&&(n.data.batchDeleteRepls.repls.forEach(function(n){e.evict({id:n.id})}),e.gc())}},t=(0,v._)({},K,n),R.n(Q,t)),2),Y=w[0],A=w[1].loading,_=o.length,S=[{alt:"Delete",onClick:function(){A||p(!0)},icon:(0,l.Y)(es.A,{})},{alt:"Clear selection",onClick:a,icon:(0,l.Y)(ea.A,{})}];return((0,y.useEffect)(function(){var e=function(e){"Escape"===e.key&&a()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}},[a]),0===_)?null:(0,l.FD)(el.S,{css:ec.container,children:[(0,l.Y)(en.A,{selectedRepls:o,isOpen:c,onClose:function(){return p(!1)},onDelete:function(){s("Deleting ".concat(_," ").concat(b,"...")),Y(),p(!1)},deleting:A}),d?(0,l.FD)(el.S,{row:!0,gap:8,align:"center",children:[(0,l.Y)(eo.EY,{multiline:!1,children:d}),(0,l.Y)(ed.A,{})]}):(0,l.FD)(l.FK,{children:[(0,l.FD)(eo.EY,{css:ec.countText,multiline:!1,children:[_," ",b," selected"]}),(0,l.Y)(el.S,{css:ec.actions,children:S.map(function(e,n){return(0,l.Y)(ei.K0,{alt:e.alt,colorway:"primary",onClick:e.onClick,css:ec.iconButton,children:e.icon},n)})})]})]})};var em=t(76306),ef=function(e){return e.Repl="REPL",e.Folder="FOLDER",e}({}),eh=(0,J.AH)({"header, .sidebar-layout-header":{pointerEvents:"none"}});let ev=function(e){var n=e.folder,t=e.onMove,r=e.children,i=(0,D._)((0,em.i)({type:ef.Folder,item:function(){return{id:n.id,type:ef.Folder}},collect:function(e){return{isDragging:e.isDragging()}},end:function(e,r){if(r.didDrop()){var i=r.getDropResult();i&&i.id!==n.id&&t({to:i,folder:n})}}}),2),o=i[0].isDragging,a=i[1];return(0,l.FD)("div",{ref:a,style:{opacity:o?.5:1},children:[o?(0,l.Y)(J.mL,{styles:[eh]}):null,r]})};var eg=(0,J.AH)({"header, .sidebar-layout-header":{pointerEvents:"none"}});let eD=function(e){var n=e.repl,t=e.onMove,r=e.children,i=(0,D._)((0,em.i)({type:ef.Repl,item:function(){return{id:n.id,type:ef.Repl}},collect:function(e){return{isDragging:e.isDragging()}},end:function(e,r){if(r.didDrop()){var i=r.getDropResult();i&&t({to:i,repl:n})}}}),2),o=i[0].isDragging,a=i[1];return(0,l.FD)("div",{ref:a,style:{opacity:o?.5:1},children:[o?(0,l.Y)(J.mL,{styles:[eg]}):null,r]})};var eb=t(25930),ey=t(14487),ew=t.n(ey),eY=(0,J.AH)({".is-active":{outline:"2px solid ".concat(Z.LU.accentPrimaryDefault)}});let eA=function(e){var n=e.folder,t=e.children,r=(0,D._)((0,eb.H)({accept:[ef.Folder,ef.Repl],drop:function(){return n},collect:function(e){var t=e.getItem()||!1;return{isActive:e.isOver()&&e.canDrop()&&t&&t.id!==n.id}}}),2),i=r[0].isActive,o=r[1];return(0,l.Y)("div",{ref:o,className:ew()({"is-active":i}),css:eY,children:t})};var eR=t(55937);function e_(){var e=(0,w._)(["\n  mutation ReplsDashboardFolderItemUpdate($folderId: String!, $name: String!) {\n    updateReplFolder(folderId: $folderId, name: $name) {\n      id\n      name\n      pathnames\n    }\n  }\n"]);return e_=function(){return e},e}var eS={},eF=(0,Y.J1)(e_()),eC=t(32842),ex=t(84911),eI=t(40172),eU=t(28354),eL=el.D.form,eE=(0,er.x)({root:[eC.wp.colWithGap(24)]});function ek(e){var n,t,r=e.folder,i=e.onDelete,o=e.onCancel,a=(0,ex.c)()("confirmInput"),d=(0,D._)((0,y.useState)(""),2),s=d[0],u=d[1],c=(0,N.A)(),p=c.showConfirm,m=c.showError,f=(0,D._)((n={variables:{folderId:r.id},onCompleted:function(){p("Folder deleted"),i()},onError:function(e){m(e.message)}},t=(0,v._)({},F,n),R.n(x,t)),2),h=f[0],g=f[1].loading,b=r.pathnames.slice(1).join("/"),w=g||s!==b;return(0,l.FD)(eL,{css:eE.root,onSubmit:function(e){e.preventDefault(),w||h()},children:[(0,l.Y)(eo.Y9,{variant:"headerDefault",level:2,children:"Delete folder"}),(0,l.FD)(el.S,{gap:24,children:[(0,l.Y)(eo.EY,{children:"Are you sure you want to delete this folder? This will remove all Apps and folders within. This cannot be undone."}),(0,l.FD)(el.S,{gap:4,children:[(0,l.Y)("label",{htmlFor:a,children:(0,l.FD)(eo.EY,{color:"dimmer",variant:"small",children:["Type the folder path (",b,") to delete"]})}),(0,l.Y)(eU.pd,{id:a,disabled:g,autoFocus:!0,value:s,onChange:function(e){return u(e.currentTarget.value)}})]}),(0,l.FD)(el.S,{row:!0,gap:12,justify:"end",children:[(0,l.Y)(eI.$n,{type:"button",onClick:o,text:"Cancel"}),(0,l.Y)(eI.$n,{type:"submit",disabled:w,iconLeft:g?(0,l.Y)(ed.A,{}):(0,l.Y)(es.A,{}),colorway:"negative",text:"Yes, delete this folder"})]})]})]})}var eM=t(12770),eT=t(53055),eP=t(43417),eH=t(77425),eB=t(10001),ez=t(83290),eN=t(16709),e$=t(41725),eV=(0,J.AH)([{"&&:hover button":[eC.wp.backgroundColor.backgroundHigher]}]);function eO(e){var n=e.repl,t=e.editRepl,r=e.deleteRepl,i=e.forkRepl,o=e.moveItem,a=e.removeMultiplayerRepl,d=e.selectRepl,s=n.authorizations,u=[];return s.editMetadata.isAuthorized&&u.push({label:"Edit",value:"edit",icon:(0,l.Y)(eB.A,{})}),u.push({label:"Cover page",value:"coverpage",link:(0,eT.z9)(n),icon:(0,l.Y)(ez.A,{})}),s.fork.isAuthorized&&u.push({label:"Remix",value:"fork",icon:(0,l.Y)(e$.A,{})}),s.editFolder.isAuthorized&&u.push({label:"Move",value:"move",icon:(0,l.Y)(eN.A,{})}),d&&u.push({label:"Select",value:"select",icon:(0,l.Y)(eP.A,{})}),s.deleteRepl.isAuthorized&&u.push({label:"Delete",value:"delete",isDestructive:!0,icon:(0,l.Y)(es.A,{})}),s.removeSelf.isAuthorized&&u.push({label:"Remove",value:"remove",isDestructive:!0,icon:(0,l.Y)(eH.A,{})}),(0,l.Y)(el.S,{css:eV,children:(0,l.Y)(eM.A,{elevated:!0,label:"Repl Actions",orientation:"vertical",items:u,onItemClick:function(e){switch(e.value){case"edit":t();break;case"coverpage":break;case"fork":i();break;case"move":o();break;case"remove":a();break;case"select":null==d||d();break;case"delete":r()}}})})}function eJ(e){var n=e.renameFolder,t=e.moveItem,r=e.deleteFolder,i=[{value:"rename",label:"Rename",icon:(0,l.Y)(eB.A,{})},{value:"move",label:"Move",icon:(0,l.Y)(eN.A,{})},{value:"delete",label:"Delete",isDestructive:!0,icon:(0,l.Y)(es.A,{})}];return(0,l.Y)(el.S,{css:eV,children:(0,l.Y)(eM.A,{label:"Folder Actions",orientation:"vertical",items:i,elevated:!0,onItemClick:function(e){switch(e.value){case"rename":n();break;case"move":t();break;case"delete":r()}}})})}var eZ=t(13454),eW=t(5482);function eG(){var e=(0,w._)(["\n  fragment ReplsDashboardMoveItemReplFolder on ReplFolder {\n    id\n    pathnames\n    folderType\n    name\n    parentId\n    timeCreated\n  }\n"]);return eG=function(){return e},e}function eq(){var e=(0,w._)(["\n  query ReplsDashboardMoveItemModalFolder($id: String!, $teamId: Int) {\n    currentUser {\n      id\n      replFolder(id: $id, teamId: $teamId) {\n        id\n        folders {\n          id\n          ...ReplsDashboardMoveItemReplFolder\n        }\n      }\n    }\n  }\n  ","\n"]);return eq=function(){return e},e}var ej={},eX=(0,Y.J1)(eG()),eK=(0,Y.J1)(eq(),eX),eQ=t(44147),e0=t(29032),e1={__typename:"ReplFolder",id:"__ROOT_ID__",name:"(home)/",pathnames:["(home)/"],canEdit:!1,timeCreated:null},e5=(0,er.x)({folderPicker:[eC.wp.height(250),eC.wp.overflow("auto"),eC.wp.borderRadius(4),eC.wp.border({color:Z.LU.outlineDimmest})]}),e2=(0,J.AH)({"&":{height:"40px",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0 10px"},"&:hover":{cursor:"pointer",backgroundColor:Z.LU.backgroundRoot},".small-folder-icon-container":{height:"20px",width:"20px",display:"flex",justifyContent:"center",alignItems:"center"},".small-back-folder-icon":{transform:"rotate(90deg)",width:"17px"},".small-folder-icon":{width:"20px"},".small-folder-title":{display:"flex",alignItems:"center"},".small-folder-title a":{marginLeft:"20px",borderBottom:"none",color:"inherit"},".small-folder-time":{fontSize:"12px",color:Z.LU.foregroundDimmer},"&.is-selected:hover,.is-selected":{backgroundColor:Z.LU.accentPrimaryDefault,color:Z.LU.backgroundHigher},".is-selected .small-folder-time":{color:"inherit"}}),e7=function(e){var n=e.folder,t=e.onSelect,r=e.onNavigate,i=e.isSelected,o=e.isBack;return(0,l.FD)("div",{className:ew()({"is-selected":i}),onClick:function(){t&&t(n)},css:e2,children:[(0,l.FD)("div",{className:"small-folder-title",children:[(0,l.Y)("div",{className:"small-folder-icon-container",children:void 0!==o&&o?(0,l.Y)("div",{className:"small-back-folder-icon",children:(0,l.Y)(e0.A,{})}):(0,l.Y)("div",{className:"small-folder-icon",children:(0,l.Y)(eN.A,{})})}),(0,l.Y)("a",{onClick:function(e){return r?r(n,e):function(){}},children:n.name})]}),(0,l.Y)("div",{className:"small-folder-time",children:n.timeCreated?(0,eQ.K)(n.timeCreated):""})]})};let e4=function(e){var n,t,r,i,o,a=e.item,s=e.isRepl,u=e.teamId,c=e.hideModal,p=/\/@([^/]*)/.exec(d().asPath||""),m=p?p[1]:null,f=u&&m?{__typename:"ReplFolder",id:"__TEAM__".concat(u,"__"),name:"@".concat(m),pathnames:["@".concat(m)],canEdit:!1,timeCreated:null}:e1,h=(0,D._)((0,y.useState)(null),2),b=h[0],w=h[1],Y=(0,D._)((0,y.useState)(f),2),R=Y[0],_=Y[1],S=(0,D._)((0,y.useState)([]),2),F=S[0],C=S[1],x=(n={fetchPolicy:"cache-and-network",variables:{id:R.id,teamId:u},ssr:!1,notifyOnNetworkStatusChange:!0},t=(0,v._)({},ej,n),A.I(eK,t)),I=x.data,U=x.loading,L=function(e){e===b?w(null):w(e)},E=function(e,n){n.stopPropagation(),e.pathnames.length>R.pathnames.length?F.push(R):F.pop(),_(e),w(e),C(F)},k=(r=(0,eZ._)(function(){var n,t;return(0,eW.YH)(this,function(r){return n=[],t=[],s?n.push(a.id):t.push(a.id),e.onSubmit({variables:{destFolderId:b?b.id:"",replIds:n,folderIds:t,teamId:u}}),c(),[2]})}),function(){return r.apply(this,arguments)}),M=((null==I?void 0:null===(o=I.currentUser)||void 0===o?void 0:null===(i=o.replFolder)||void 0===i?void 0:i.folders)||[]).filter(function(e){return!("Unnamed"===e.name&&null===e.parentId)&&e.folderType===eR.XJ.Default&&(!!s||e.id!==a.id)}).map(function(e){return(0,g._)((0,v._)({},e),{pathnames:e.pathnames.slice(1)})}),T=F[F.length-1]||f,P=b?b.id:"",H="name"in a?a.name:a.title;return(0,l.FD)(el.S,{gap:8,tag:"form",onSubmit:function(e){e.preventDefault(),k()},children:[(0,l.FD)(eo.EY,{children:["Move ",H," to:"]}),(0,l.FD)(el.S,{css:e5.folderPicker,children:[R.pathnames&&R.pathnames.join()!==f.pathnames.join()?(0,l.Y)(e7,{folder:(0,g._)((0,v._)({},T),{name:"(up one level)"}),isBack:!0,onNavigate:E,isSelected:P===T.id}):null,M?M.map(function(e){return(0,l.Y)(e7,{folder:e,onSelect:L,onNavigate:E,isSelected:e.id===P},"move-folder-".concat(e.id))}):null]}),(0,l.FD)(eo.EY,{children:["Moving to:"," ",b?b.pathnames[b.pathnames.length-1]:R.pathnames[R.pathnames.length-1]||"(home)/"]}),(0,l.FD)(el.S,{row:!0,gap:8,justify:"end",children:[U?null:(0,l.Y)(eI.$n,{text:"Cancel",onClick:function(){return c()}}),(0,l.Y)(eI.$n,{colorway:"primary",iconLeft:U?(0,l.Y)(ed.A,{}):(0,l.Y)(G,{}),disabled:U,text:s?"Move App":"Move folder",type:"submit"})]})]})};var e6=t(24572),e3=(0,er.x)({header:[eC.wp.maxWidth("100%")]});let e8=function(e){var n=e.onSubmit,t=e.hideModal,r=e.defaultValue,i=e.loading,o=e.errorMessage,a=e.mode,d=(0,D._)((0,y.useState)(r||""),2),s=d[0],u=d[1],c=(0,y.useRef)(null);(0,y.useEffect)(function(){(null==c?void 0:c.current)&&c.current.select()},[]);var p=function(){if(!o)return n(s);(null==c?void 0:c.current)&&c.current.select()},m=(0,ex.c)();return(0,l.FD)(el.S,{gap:24,children:[(0,l.FD)(eo.Y9,{variant:"headerDefault",level:2,css:e3.header,children:["create"===a?"Create":"Rename"," folder"]}),(0,l.FD)(el.S,{gap:4,children:[(0,l.Y)("label",{htmlFor:m("title"),children:(0,l.Y)(eo.EY,{color:"dimmer",variant:"small",multiline:!1,children:"Title"})}),(0,l.Y)(eU.pd,{disabled:i,value:s,placeholder:"Name your folder",onChange:function(e){u(e.currentTarget.value)},name:"folderName",ref:c,onKeyDown:function(e){"Enter"===e.key&&p()},id:m("title")})]}),(0,l.FD)(el.S,{row:!0,gap:12,justify:"end",children:[(0,l.Y)(eI.$n,{text:"Cancel",onClick:t}),(0,l.Y)(eI.$n,{iconLeft:(0,l.Y)(e6.A,{}),disabled:i,loading:i,onClick:p,text:"".concat("create"===a?"Create":"Rename"," folder"),colorway:"primary"})]})]})};var e9=t(2298),ne=t(81243),nn=t(76985),nt=t(31955),nr=t(25688),ni=t(43730),no=function(e){return e[e.RenameFolder=0]="RenameFolder",e[e.DeleteFolder=1]="DeleteFolder",e[e.MoveItem=2]="MoveItem",e}(no||{}),nl=function(e){var n,t=e.folder;return t.folderType===eR.XJ.Multiplayer?(0,l.Y)(ni.A,{size:16}):t.folderType===eR.XJ.Team?(0,l.Y)(ne.e,{src:null!==(n=t.image)&&void 0!==n?n:null,username:"Team"}):t.folderType===eR.XJ.AllTeams?(0,l.Y)(ni.A,{size:16}):(0,l.Y)(eN.A,{size:16})};let na=function(e){var n,t=e.folder,r=e.teamId,i=e.onDelete,a=e.onMove,d=(0,D._)((0,y.useState)(null),2),s=d[0],u=d[1],c=(0,N.A)(),p=c.showConfirm,m=c.showError,f=(0,D._)((n=(0,v._)({},eS,void 0),R.n(eF,n)),2),h=f[0],b=f[1],w=(0,D._)(z(),2),Y=w[0],A=w[1],_=[b.error,A.error];(0,y.useEffect)(function(){var e=!0,n=!1,t=void 0;try{for(var r,i=_[Symbol.iterator]();!(e=(r=i.next()).done);e=!0){var o=r.value;o&&(o.graphQLErrors[0]&&o.graphQLErrors[0].message?m(o.graphQLErrors[0].message):m("Something went wrong when updating this folder"))}}catch(e){n=!0,t=e}finally{try{e||null==i.return||i.return()}finally{if(n)throw t}}},_),(0,y.useEffect)(function(){b.data&&p("Folder renamed")},[b.data]),(0,y.useEffect)(function(){A.data&&(p("Folder moved"),a())},[A.data]);var S=function(e){b.loading||h({variables:{folderId:t.id,name:e}})};return(0,l.FD)(l.FK,{children:[(0,l.FD)(el.S,{css:[eC.wp.position.relative,eC.wp.flex.growAndShrink(1)],children:[(0,l.Y)(V(),(0,g._)((0,v._)({legacyBehavior:!0,passHref:!0},(0,O.do)({pathnames:t.pathnames})),{children:(0,l.Y)(nt.ui,{elevated:!0,tag:"a",className:ew()("folder-item",{team:t.folderType===eR.XJ.Team}),css:[eC.wp.p(8),eC.wp.color.foregroundDefault,eC.wp.flex.growAndShrink(1),e9.b.listItem,(0,o._)({},(0,nr.wm)("mobileMax"),eC.wp.borderRadius())],row:!0,gap:32,justify:"space-between",align:"center",children:(0,l.FD)(el.S,{css:[eC.wp.flex.growAndShrink(1),t.canEdit?eC.wp.pr(32):null],row:!0,gap:8,align:"center",children:[(0,l.Y)(el.S,{css:eC.wp.p(2),children:(0,l.Y)(nl,{folder:t})}),(0,l.FD)(eo.EY,{css:[eC.wp.flex.growAndShrink(1),eC.wp.fontWeight.medium],multiline:!1,children:[t.name,t.replsCount?" (".concat(t.replsCount,")"):null]})]})})})),t.canEdit?(0,l.Y)(el.S,{css:{position:"absolute",right:12,top:"50%",transform:"translateY(-50%)"},children:(0,l.Y)(eJ,{renameFolder:function(){return u(0)},deleteFolder:function(){return u(1)},moveItem:function(){return u(2)}})}):null]}),(0,l.FD)(nn.a,{isOpen:null!==s,onRequestClose:function(){u(null)},children:[0===s?(0,l.Y)(e8,{mode:"rename",defaultValue:t.name,hideModal:function(){return u(null)},onSubmit:function(e){S(e),u(null)},loading:b.loading}):null,1===s?(0,l.Y)(ek,{folder:t,onDelete:function(){i(),u(null)},onCancel:function(){u(null)}}):null,2===s?(0,l.Y)(e4,{item:t,teamId:r,isRepl:!1,onSubmit:function(e){A.loading||Y(e)},hideModal:function(){return u(null)}}):null]})]})};var nd=t(32889),ns=t.n(nd),nu=function(e){var n=e.getBoundingClientRect();return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)};let nc=function(e){var n=e.loadMore,t=(0,y.useRef)(null);return(0,y.useEffect)(function(){var e=ns()(function(){t.current&&nu(t.current)&&n()},200);return window.addEventListener("scroll",e),function(){window.removeEventListener("scroll",e)}},[n]),(0,l.Y)("div",{ref:t})},np=function(e){var n,t,r=e.onCreate,i=e.parentId,o=e.teamId,a=(0,D._)((0,y.useState)(!1),2),d=a[0],s=a[1],u=(0,N.A)(),c=u.showConfirm,p=u.showError,m=(0,D._)((n=(0,v._)({},T,void 0),R.n(H,n)),2),f=m[0],h=m[1];return(0,y.useEffect)(function(){h.data?(c("Folder created"),s(!1),r()):h.error&&p(h.error.graphQLErrors[0].message||"Something went wrong when creating this folder")},[h.data,h.error,r,c,p]),(0,l.FD)(l.FK,{children:[(0,l.Y)(nn.a,{isOpen:d,onRequestClose:function(){s(!1)},children:(0,l.Y)(e8,{mode:"create",onSubmit:function(e){h.loading||f({variables:{name:e,parentId:i,teamId:o}})},hideModal:function(){s(!1)},loading:h.loading,errorMessage:null===(t=h.error)||void 0===t?void 0:t.message})}),(0,l.Y)(eI.$n,{iconLeft:(0,l.Y)(e6.A,{}),text:"New folder",onClick:function(){return s(!0)}})]})};var nm=t(82542),nf=t(76421),nh=t(39153),nv=function(e){var n=e.enabled,t=e.onClick,r=(0,nm.D)().isDarkColorScheme,i=r?Z.LU.yellowStrongest:Z.LU.yellowDimmest,o=r?Z.LU.yellowDefault:Z.LU.yellowStronger;return(0,l.Y)(el.S,{css:[eC.wp.transition.snappy,{height:28,width:44,backgroundColor:n?Z.LU.yellowDimmest:Z.LU.backgroundDefault,borderRadius:14,border:n?"1px solid "+Z.LU.yellowDimmer:"1px solid "+Z.LU.outlineDimmest}],onClick:t,title:"Toggle starred Apps",children:(0,l.Y)(el.S,{css:[eC.wp.center,eC.wp.transition.snappy,{margin:1,height:24,width:24,borderRadius:"100%",backgroundColor:n?o:Z.LU.backgroundHigher,color:n?i:Z.LU.foregroundDimmer,transform:n?"translateX(16px)":"translateX(0px)"}],children:n?(0,l.Y)(nh.A,{size:16}):(0,l.Y)(nf.A,{size:16})})})},ng=function(e){var n=e.starred,t=(0,a.useRouter)();return(0,l.Y)(V(),{legacyBehavior:!0,href:{pathname:t.pathname,query:(0,v._)({},n?{}:{starred:!0})},as:{pathname:"/repls",query:(0,v._)({},n?{}:{starred:!0})},scroll:!1,shallow:!0,children:(0,l.Y)("a",{children:(0,l.Y)(nv,{enabled:n,onClick:void 0})})})},nD=t(44052),nb=t(92695),ny=t(41155),nw=t(25352),nY=t(22687),nA=t(22631),nR=t(84199);function n_(e){var n=e.repl,t=e.onLeave,r=e.onCancel,i=(0,N.A)(),o=i.showConfirm,a=i.showError,d=(0,D._)((0,nA.Nr)({variables:{id:n.id},onCompleted:function(){o("App removed"),t()},onError:function(e){a(e.message)}}),2),s=d[0],u=d[1].loading;return(0,l.Y)(nR.A,{title:"Leave multiplayer App",confirmLabel:"Yes, leave this App",isDestructive:!0,loading:u,confirmIcon:(0,l.Y)(eH.A,{}),onCancel:r,onConfirm:function(){u||s()},children:(0,l.FD)(eo.EY,{children:["Are you sure you want to leave this multiplayer App (",n.title,")? You will no longer be able to access its content."]})})}var nS=t(47303),nF=t(78563),nC=t(82489),nx=t(1670),nI=t(62484),nU=t(74894),nL=t(36954),nE=t(27052),nk=function(e){return e.EditRepl="EditRepl",e.DeleteRepl="DeleteRepl",e.RemoveRepl="RemoveRepl",e.MoveItem="MoveItem",e}(nk||{}),nM=function(e){var n=e.selected,t=e.onClick,r=e.isDarkColorScheme?Z.LU.yellowStrongest:Z.LU.yellowDimmest;return(0,l.Y)(ei.K0,{className:"replStar",onClick:t,css:[eC.wp.color.foregroundDimmer,{":hover":{color:r}}],alt:n?"Unstar":"Star",children:n?(0,l.Y)(nh.A,{color:r}):(0,l.Y)(nf.A,{})})},nT=function(e){var n=e.repl,t=e.toggleIsPrivate,r=e.showPrivacy,i=(0,D._)((0,y.useState)(!1),2),o=i[0],a=i[1],d=(0,D._)((0,y.useState)(!1),2),s=d[0],u=d[1],c=(0,y.useRef)(!1);return(0,y.useEffect)(function(){o&&(c.current=!0);var e=setTimeout(function(){u(o)},250);return function(){clearTimeout(e)}},[o]),(0,l.FD)(nC.A,{disableFocusLock:!0,isOpen:s,onClickOutside:function(){return u(!1)},padding:0,showArrow:!0,placement:"bottom-start",maxWidth:360,gap:8,children:[(0,l.FD)(el.S,{row:!0,gap:4,align:"center",onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},children:[n.isPrivate?(0,l.Y)(nL.A,{size:16,color:Z.LU.foregroundDimmest}):(0,l.Y)(nU.A,{size:16,color:Z.LU.foregroundDimmest}),(0,l.Y)(eo.EY,{color:"dimmest",multiline:!1,children:n.isPrivate?"Private":"Public"})]}),(0,l.FD)(el.S,{onMouseEnter:function(){return a(!0)},onMouseLeave:function(){return a(!1)},onClick:function(e){return e.preventDefault()},css:eC.wp.p(8),children:[(0,l.Y)(eo.EY,{css:{marginBottom:r?6:0},children:n.isPrivate?"Only you and invited multiplayers can see this App":"Anyone can see this App"}),r?(0,l.Y)(eI.$n,{text:n.isPrivate?"Make public":"Make private",iconLeft:n.isPrivate?(0,l.Y)(nU.A,{}):(0,l.Y)(nL.A,{}),onClick:function(){return t()}}):null]})]})},nP=(0,er.x)({wrapper:[eC.wp.height(20),eC.wp.width(20),{"& > div > input":[{":not([disabled])":{borderColor:Z.LU.interactiveBorderHover}}]}]}),nH=function(e){var n=e.replId,t=e.isSelected,r=e.onSelection;return(0,l.Y)(el.S,{onClick:function(e){e.preventDefault(),e.stopPropagation(),document.activeElement instanceof HTMLElement&&document.activeElement.blur()},css:nP.wrapper,onKeyDownCapture:function(e){"Enter"===e.key&&r()},children:(0,l.Y)(nS.S,{id:n,checked:t,onChange:r})})},nB=function(e){var n=e.children,t=e.repl,r=e.disabled,i=e.onInactiveClick;return r?(0,l.Y)(el.S,{onClick:i,children:n}):(0,l.Y)(V(),(0,g._)((0,v._)({legacyBehavior:!0},(0,eT.q1)(t)),{passHref:!0,children:n}))},nz=function(e){var n,t,r=e.repl,i=e.position,a=e.onDelete,d=e.onMove,s=e.teamId,u=(0,nm.D)().isDarkColorScheme,c=(0,nF.Z)(),p=(0,N.A)(),f=p.showConfirm,h=p.showError,b=(0,nD.M)({}),w=b.hoverProps,Y=b.isHovered,A=(0,D._)((0,y.useState)(!1),2),R=A[0],_=A[1],S=(0,nb.R)({onFocusWithinChange:function(e){_(e)}}).focusWithinProps,F=(0,D._)((0,y.useState)(null),2),C=F[0],x=F[1],I=(0,et.pK)(),U=I.selectedRepls,E=I.isReplSelected,k=I.selectRepl,M=I.deselectRepl,T=r.isOwner&&(Y||R||U.length>0),P=E(r.id),H=function(){P?M(r.id):k(r)},B=(0,D._)((0,L.Lv)(),2),$=B[0],V=B[1],O=(0,D._)(z({onCompleted:function(e){e.moveItemsToFolder.every(function(e){return"Repl"===e.__typename||"ReplFolder"===e.__typename})?(f("App moved"),d()):h("Something went wrong")},onError:function(e){h(e.message)}}),2),J=O[0],W=O[1],G=r.authorizations.star.isAuthorized;return(0,l.FD)(l.FK,{children:[(0,l.FD)(el.S,(0,g._)((0,v._)({},w,S),{css:(t={position:"relative"," .replStar":{opacity:1}},(0,o._)(t,(0,nr.wm)("mobileMax"),{" .replStar":{opacity:r.isStarred?1:0}}),(0,o._)(t,":hover .replStar",{opacity:1}),(0,o._)(t,":focus-within .replStar",{opacity:1}),t),children:[(0,l.Y)(nB,{repl:r,disabled:U.length>0,onInactiveClick:H,children:(0,l.FD)(nt.ui,{tag:"a",elevated:!0,css:[e9.b.listItem,eC.wp.colWithGap(8),eC.wp.color.foregroundDefault,eC.wp.p(8),(0,o._)({},(0,nr.wm)("mobileMax"),[0===i?eC.wp.borderRadius(4,4,0,0):null,1===i?eC.wp.borderRadius(0,0,4,4):null,-1===i?eC.wp.borderRadius():null]),P?{backgroundColor:Z.LU.interactiveBackground}:null],children:[(0,l.FD)(el.S,{css:[eC.wp.flex.growAndShrink(1),G?eC.wp.pr(64):eC.wp.pr(40),{gap:8}],row:!0,align:"center",children:[T?(0,l.Y)(nH,{replId:r.id,isSelected:P,onSelection:H}):(0,l.Y)(nI.A,{size:20,iconUrl:r.iconUrl,alt:""}),(0,l.FD)(el.S,{css:[eC.wp.align.baseline,eC.wp.flex.growAndShrink(1),{gap:12}],row:!0,children:[(0,l.Y)(eo.EY,{multiline:!1,css:[eC.wp.fontWeight.medium,eC.wp.flex.growAndShrink(1),eC.wp.maxWidth("max-content")],children:r.title}),(0,l.FD)(el.S,{css:[eC.wp.display.none,(0,o._)({},(0,nr.wm)("mobileMax"),eC.wp.display.flex)],row:!0,gap:12,children:[!r.isOwner&&r.user?(0,l.FD)(eo.EY,{color:"dimmer",multiline:!1,children:["@",r.user.username]}):null,(0,l.Y)(eo.EY,{color:"dimmer",multiline:!1,children:(0,eQ.K)(new Date(r.timeCreated))}),"ReplBytesUsed"===r.bytesUsed.__typename?(0,l.Y)(eo.EY,{color:"dimmer",multiline:!1,children:(0,nx.h7)(Number(r.bytesUsed.value),{resourceUsageType:"Bytes",precision:2})}):null]})]})]}),(0,l.FD)(el.S,{css:[eC.wp.px(2),eC.wp.display.flex,(0,o._)({},(0,nr.wm)("mobileMax"),eC.wp.display.none)],row:!0,gap:12,children:[!r.isOwner&&r.user?(0,l.FD)(eo.EY,{color:"dimmer",multiline:!1,children:["@",r.user.username]}):null,(0,l.Y)(eo.EY,{color:"dimmer",multiline:!1,children:(0,eQ.K)(new Date(r.timeCreated))})]}),(0,l.FD)(el.S,{css:[(0,o._)({},(0,nr.wm)("mobileMax"),eC.wp.px(2))],row:!0,gap:12,children:["Template"===r.publishedAs?(0,l.Y)(l.FK,{}):null,(0,l.Y)(nT,{repl:r,showPrivacy:!1,toggleIsPrivate:function(){if(!V.loading){var e=!r.isPrivate;$({variables:{input:{id:r.id,isPrivate:e}},optimisticResponse:{__typename:"RootMutationType",updateRepl:{__typename:"UpdateReplPayload",repl:(0,g._)((0,v._)({},r),{isPrivate:e})}}}).then(function(n){n.errors?h(n.errors[0].message):f(e?"App made private":"App made public")}),(0,m.u4)(m.AZ.PRIVATE_TOGGLED,{enabled:e,source:"my_repls"})}}}),(null===(n=r.hostingDeployment)||void 0===n?void 0:n.__typename)==="HostingDeployment"?(0,l.Y)(ny.y,{deployment:r.hostingDeployment}):null,r.publishedAs?(0,l.FD)(el.S,{row:!0,gap:4,align:"center",children:[(0,l.Y)(nE.A,{size:16,color:Z.LU.foregroundDimmest}),(0,l.Y)(eo.EY,{color:"dimmest",multiline:!1,children:"Published"})]}):null]})]})}),(0,l.FD)(nt.ui,{background:Y||P?"higher":"default",elevated:!0,css:[eC.wp.position.absolute,eC.wp.top(12),eC.wp.right(12),{backgroundColor:"transparent"}],row:!0,gap:2,children:[G?(0,l.Y)(nM,{selected:r.isStarred,onClick:function(){if(!V.loading){var e=!r.isStarred;$({variables:{input:{id:r.id,isStarred:e}},optimisticResponse:{__typename:"RootMutationType",updateRepl:{__typename:"UpdateReplPayload",repl:(0,g._)((0,v._)({},r),{isStarred:e})}}}).then(function(n){n.errors?h(n.errors[0].message):f(e?"App starred":"App unstarred")})}},isDarkColorScheme:u}):null,(0,l.Y)(eO,{editRepl:function(){return x("EditRepl")},deleteRepl:function(){return x("DeleteRepl")},removeMultiplayerRepl:function(){return x("RemoveRepl")},moveItem:function(){return x("MoveItem")},forkRepl:function(){c.isForking||c.fork()},repl:r,selectRepl:r.isOwner?H:void 0})]})]})),(0,l.Y)(nn.a,{isOpen:"EditRepl"===C,onRequestClose:function(){return x(null)},children:(0,l.Y)(nY.A,{repl:r,onDone:function(){return x(null)}})}),(0,l.Y)(nn.a,{isOpen:"DeleteRepl"===C,onRequestClose:function(){return x(null)},children:(0,l.Y)(nw.B,{repl:r,onDone:function(){return x(null)}})}),(0,l.Y)(nn.a,{isOpen:"MoveItem"===C,onRequestClose:function(){return x(null)},children:(0,l.Y)(e4,{item:r,teamId:s,isRepl:!0,onSubmit:function(e){W.loading||J(e)},hideModal:function(){return x(null)}})}),(0,l.Y)(nn.a,{isOpen:"RemoveRepl"===C,onRequestClose:function(){return x(null)},children:(0,l.Y)(n_,{repl:r,onCancel:function(){return x(null)},onLeave:function(){x(null),a()}})})]})};let nN=function(e){var n;return(0,l.Y)(nF.B,{forkParams:{trackingData:{forkSource:"replsDashboard"}},repl:e.repl,teamContext:(null===(n=e.repl.owner)||void 0===n?void 0:n.__typename)==="Team"?e.repl.owner.id:void 0,children:(0,l.Y)(nz,(0,v._)({},e))})};var n$=t(14968),nV=t(61465),nO=t(43249),nJ=(r={display:"grid",gridTemplateColumns:"minmax(0, 1fr)",gap:4,paddingBottom:4},(0,o._)(r,(0,nr.wm)("mobileMax"),{gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:12,paddingBottom:24}),(0,o._)(r,(0,nr.wm)("tabletMin"),{gridTemplateColumns:"repeat(3, minmax(0, 1fr))"}),r),nZ=(0,J.AH)({"&":{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px",width:"100%",height:"100%"}}),nW=(0,J.AH)((i={".cta-box":{padding:"20px 25px 30px 25px",borderStyle:"dashed",borderColor:Z.LU.outlineDimmer,borderRadius:"15px",borderWidth:"thin",textAlign:"center",maxWidth:"500px",display:"flex",flexDirection:"column",gap:"8px",alignItems:"center"},".empty-state":{margin:"40px auto",width:"fit-content",color:Z.LU.outlineDefault},".button-container":{marginTop:"15px"},".cta-button":{padding:"5px",display:"grid",verticalAlign:"middle"},".content":{marginLeft:"4px"},".spacer":{height:Z.LU.space8,userSelect:"none",pointerEvents:"none"}},(0,o._)(i,"@media screen and (min-width:450px)",{".cta-button":{padding:"5px",display:"inline-block",verticalAlign:"middle"}}),(0,o._)(i,".spinner",{width:"100%",height:"100%"}),(0,o._)(i,".spinner,.load-more-spinner",{display:"flex",justifyContent:"center",alignItems:"center",padding:"20px"}),(0,o._)(i,".header",{display:"grid",gridTemplateColumns:"1fr auto auto",gridColumnGap:"20px",alignItems:"center"}),(0,o._)(i,".empty-folder",{display:"flex",flexDirection:"column",alignItems:"center"}),(0,o._)(i,".new-folder",{maxWidth:"fit-content"}),(0,o._)(i,".empty-folder *",{padding:Z.LU.space16}),i)),nG=(0,J.AH)({"&":{width:"100%",height:"100%",display:"flex",justifyContent:"center",marginTop:Z.LU.space16}});let nq=function(e){var n,t,r,i=e.path,o=e.starred,a=(0,et.pK)(),d=a.deselectRepl,s=a.isReplSelected,u=a.clearSelectedRepls,p=(0,D._)((0,y.useState)(i),2),f=p[0],h=p[1];i!==f&&(h(i),u());var w=(n={fetchPolicy:"cache-and-network",nextFetchPolicy:"cache-first",variables:{path:i,starred:o},ssr:!1,notifyOnNetworkStatusChange:!0},t=(0,v._)({},T,n),A.I(P,t)),Y=w.data,R=w.loading,_=w.refetch,S=w.fetchMore,F=(0,N.A)(),C=F.showError,x=F.showConfirm,I=(0,D._)(z({onError:function(e){return C(e.message)},onCompleted:function(e){e.moveItemsToFolder.forEach(function(e){"Repl"===e.__typename&&s(e.id)&&d(e.id)})},update:function(e,n){var t=n.data;t&&E&&(t.moveItemsToFolder.forEach(function(n){e.modify({id:e.identify({__typename:"ReplFolder",id:E.id}),optimistic:!0,fields:{folders:function(e,t){var r=t.readField;return"ReplFolder"!==n.__typename?e:e.filter(function(e){return r("id",e)!==n.id})},repls:function(e,t){var r=t.readField;if("Repl"!==n.__typename)return e;var i=e.items.filter(function(e){return r("id",e)!==n.id});return{pageInfo:e.pageInfo,items:i}}}})}),x("Item moved!"))}}),2),U=I[0],L=I[1],E=Y&&Y.currentUser&&Y.currentUser.replFolderByPath?Y.currentUser.replFolderByPath:null,k=(null==E?void 0:E.pathnames.length)===1&&(null==E?void 0:E.pathnames[0])===""?void 0:null==E?void 0:E.id,M=!!o,H=E&&E.folders.length+E.repls.items.length===0,B=E&&1===E.folders.length&&0===E.repls.items.length&&"multiplayer"===E.folders[0].pathnames[0],$=!M&&(H||B)&&((null==E?void 0:E.canEdit)||!k),V=E&&E.repls.pageInfo.nextCursor?E&&E.repls.pageInfo.nextCursor:null,O=(null==E?void 0:E.ownerId)&&(null==E?void 0:E.ownerId)!==(null==Y?void 0:null===(r=Y.currentUser)||void 0===r?void 0:r.id)?E.ownerId:void 0,J=(0,c.A)(),Z=function(e){L.loading||U({variables:{replIds:"repl"in e?[e.repl.id]:[],folderIds:"folder"in e?[e.folder.id]:[],destFolderId:e.to.id,teamId:O}})};return!Y&&R?(0,l.Y)("div",{className:"spinner",css:nZ,children:(0,l.Y)(ed.A,{})}):E?(0,l.FD)(l.FK,{children:[(0,l.FD)("div",{css:nW,children:[(0,l.FD)(el.S,{css:[eC.wp.pb(16)],row:!0,justify:"space-between",align:"center",children:[$||!E.canCreateSubFolders&&k?(0,l.Y)("div",{}):(0,l.Y)("div",{className:"new-folder",children:(0,l.Y)(np,{onCreate:_,parentId:k,teamId:O})}),(0,l.Y)(ng,{starred:!!o})]}),(0,l.Y)(nV.A,{children:(0,l.FD)("div",{children:[E.parent&&E.canEdit?(0,l.Y)("div",{children:(0,l.Y)(eA,{folder:E.parent,children:(0,l.Y)(j,{pathnames:E.parent.pathnames})})}):null,E.parent&&!E.canEdit?(0,l.Y)(j,{pathnames:E.parent.pathnames}):null,!M&&E.folders.length?(0,l.Y)(el.S,{css:nJ,children:E.folders.map(function(e){return e.canEdit?(0,l.Y)(eA,{folder:e,children:(0,l.Y)(ev,{onMove:Z,folder:e,children:(0,l.Y)(na,{onDelete:_,folder:e,teamId:O,onMove:_})})},e.id):(0,l.Y)(na,{onDelete:_,teamId:O,onMove:_,folder:e},e.id)})}):null,(0,l.Y)(el.S,{gap:1,children:E.repls.items.map(function(e,n){return(0,l.Y)(eD,{onMove:Z,repl:e,children:(0,l.Y)(nN,{position:E.repls.items.length>1?n/(E.repls.items.length-1):-1,repl:e,onMove:_,onDelete:_,teamId:O})},e.id)})}),$?(0,l.Y)("div",{className:"cta-box",children:(0,l.FD)("div",{className:"button-container",children:[(0,l.Y)("div",{className:"cta-button",children:(0,l.Y)(np,{onCreate:_,parentId:k,teamId:O})}),(0,l.Y)("div",{className:"cta-button",children:(0,l.Y)(n$.v,{iconLeft:(0,l.Y)(nO.A,{}),text:"New Repl",href:{pathname:"/new",query:{folderId:J}},as:"/new",onClick:function(){(0,m.u4)(m.AZ.OPEN_REPL_CREATION_PAGE,{source:"repl folder"})}})})]})}):null]})}),R?(0,l.Y)("div",{className:"load-more-spinner",children:(0,l.Y)(ed.A,{})}):null,V&&!R?(0,l.Y)(nc,{loadMore:function(){V&&!R&&S({variables:{path:i,starred:o,after:V},updateQuery:function(e,n){var t=n.fetchMoreResult;return e&&e.currentUser&&e.currentUser.replFolderByPath&&t&&t.currentUser&&t.currentUser.replFolderByPath?{__typename:"RootQueryType",currentUser:(0,g._)((0,v._)({},t.currentUser),{replFolderByPath:(0,g._)((0,v._)({},t.currentUser.replFolderByPath),{repls:{__typename:"ReplConnection",pageInfo:(0,v._)({},t.currentUser.replFolderByPath.repls.pageInfo),items:(0,b._)(e.currentUser.replFolderByPath.repls.items).concat((0,b._)(t.currentUser.replFolderByPath.repls.items))}})})}:e}})}}):null]}),(0,l.Y)(ep,{onDelete:_})]}):(0,l.Y)("div",{css:nG,children:(0,l.Y)(eo.EY,{variant:"text",multiline:!1,children:"Unable to fetch repls. Please try again."})})},nj=function(e){var n=e.links;return(0,l.Y)(eo.EY,{multiline:!1,children:n.map(function(e,t){var r=e.pathnames,i=e.text;return(0,l.FD)(y.Fragment,{children:[t===n.length-1?i:(0,l.Y)(V(),(0,g._)((0,v._)({legacyBehavior:!0},(0,O.do)({pathnames:r})),{children:(0,l.Y)("a",{css:{color:Z.LU.foregroundDefault},children:i})})),(0,l.Y)("span",{css:{color:Z.LU.foregroundDimmest},children:" / "})]},r.join("/"))})})};var nX=t(59201),nK=t(61541),nQ=(0,er.x)({content:[(0,o._)({margin:"20px auto",padding:10},eC.$_.min("tabletMin"),[eC.wp.width("90%")])]});let n0=function(){var e=(0,a.useRouter)(),n=e.asPath,t=e.query,r=(0,s.wR)(),i=(0,O.iE)(n),o=(0,c.A)(),d=r?[]:(0,O.TT)(i);return(0,l.Y)(et.im,{children:(0,l.Y)(nX.A,{title:"Apps",hideSidebar:!1,children:(0,l.FD)(el.S,{css:nQ.content,gap:16,children:[(0,l.FD)(el.S,{tag:"header",css:f.DE.pageHeader,children:[(0,l.FD)(el.S,{css:f.DE.pageTitle,children:[(0,l.Y)(nK.A,{size:24}),(0,l.Y)(eo.Y9,{level:2,variant:"headerDefault",children:(0,l.FD)(el.S,{row:!0,gap:16,justify:"start",align:"center",children:[(0,l.Y)(el.S,{children:"Apps"}),(0,l.Y)(h.y,{})]})})]}),(0,l.Y)(el.S,{css:f.DE.pageHeaderActions,children:(0,l.Y)(n$.v,{colorway:"primary",href:{pathname:"/new",query:{folderId:o}},as:"/new",onClick:function(){(0,m.u4)(u.AZ.OPEN_REPL_CREATION_MODAL,{source:"repls-dashboard",href:window.location.href,context:(0,p.po)()})},text:"Create",iconLeft:(0,l.Y)(nO.A,{})})})]}),(0,l.FD)(el.S,{gap:16,children:[(0,l.Y)(nj,{links:d}),(0,l.Y)(nq,{path:i,starred:t.starred?!!t.starred:void 0})]})]})})})}},62315:(e,n,t)=>{"use strict";t.d(n,{w:()=>S});var r=t(50109),i=t(90030),o=t(69183),l=t(91654),a=t(924),d=t(44052),s=t(77071),u=t(85643),c=t(88247),p=t(98020),m=t(39969),f=t(30758),h=t(24554);let v=new Map;function g(e,n){let t=v.get(e);if(!t){let n=new Set,r=e=>{for(let t of n)t(e)};t={listener:r,handlers:n},v.set(e,t),document.addEventListener(e,r)}return t.handlers.add(n),()=>{t.handlers.delete(n),0===t.handlers.size&&(document.removeEventListener(e,t.listener),v.delete(e))}}var D=t(60620),b=t(77325),y=t(41021),w=t(33192),Y=t(36826),A=t(89742),R=t(9491);let _=(0,f.createContext)(null),S=(0,f.forwardRef)(function(e,n){var t;let{isDisabled:v=!1}=e;[e,n]=(0,r.JT)(e,n,_);let S=(0,y.U)(n),F=(0,f.useRef)(null),{dropProps:C,dropButtonProps:x,isDropTarget:I}=(0,l.H)({...e,ref:F,hasDropButton:!0}),{buttonProps:U}=(0,a.s)(x||{},F),{hoverProps:L,isHovered:E}=(0,d.M)(e),{focusProps:k,isFocused:M,isFocusVisible:T}=(0,s.o)(),P=(0,u.o)((t=i.A)&&t.__esModule?t.default:t,"react-aria-components"),H=(0,w.X1)(),B=e["aria-label"]||P.format("dropzoneLabel"),z=[H,e["aria-labelledby"]].filter(Boolean).join(" "),N=(0,Y.b)({"aria-label":B,"aria-labelledby":z}),{clipboardProps:$}=function(e){let{isDisabled:n}=e,t=(0,f.useRef)(!1),{focusProps:r}=(0,h.i)({onFocusChange:e=>{t.current=e}}),i=(0,p.J)(n=>{t.current&&e.getItems&&n.preventDefault()}),o=(0,p.J)(n=>{var r;t.current&&e.getItems&&(n.preventDefault(),(0,c.m5)(n.clipboardData,e.getItems()),null===(r=e.onCopy)||void 0===r||r.call(e))}),l=(0,p.J)(n=>{t.current&&e.onCut&&e.getItems&&n.preventDefault()}),a=(0,p.J)(n=>{t.current&&e.onCut&&e.getItems&&(n.preventDefault(),(0,c.m5)(n.clipboardData,e.getItems()),e.onCut())}),d=(0,p.J)(n=>{t.current&&e.onPaste&&n.preventDefault()}),s=(0,p.J)(n=>{if(!t.current||!e.onPaste)return;n.preventDefault();let r=(0,c.Cb)(n.clipboardData);e.onPaste(r)});return(0,f.useEffect)(()=>{if(!n)return(0,m.c)(g("beforecopy",i),g("copy",o),g("beforecut",l),g("cut",a),g("beforepaste",d),g("paste",s))},[n,i,o,l,a,d,s]),{clipboardProps:r}}({isDisabled:v,onPaste:n=>{var t;return null===(t=e.onDrop)||void 0===t?void 0:t.call(e,{type:"drop",items:n,x:0,y:0,dropOperation:"copy"})}}),V=(0,r.Sl)({...e,values:{isHovered:E,isFocused:M,isFocusVisible:T,isDropTarget:I,isDisabled:v},defaultClassName:"react-aria-DropZone"}),O=(0,A.$)(e);return delete O.id,f.createElement(r.Kq,{values:[[o.h,{id:H,slot:"label"}]]},f.createElement("div",{...(0,D.v)(C,L,O),...V,slot:e.slot||void 0,ref:S,onClick:e=>{var n,t;let r=e.target;for(;r&&(null===(n=S.current)||void 0===n?void 0:n.contains(r))&&!(0,R.tp)(r);){if(r===S.current){null===(t=F.current)||void 0===t||t.focus();break}r=r.parentElement}},"data-hovered":E||void 0,"data-focused":M||void 0,"data-focus-visible":T||void 0,"data-drop-target":I||void 0,"data-disabled":v||void 0},f.createElement(b.s,null,f.createElement("button",{...(0,D.v)(U,k,$,N),ref:F})),V.children))})},48376:(e,n,t)=>{"use strict";t.d(n,{F:()=>d});var r=t(42686),i=t(41021),o=t(89742),l=t(73024),a=t(30758);let d=(0,a.forwardRef)(function(e,n){let{onSelect:t,acceptedFileTypes:d,allowsMultiple:s,defaultCamera:u,children:c,acceptDirectory:p,...m}=e,f=(0,i.U)(n),h=(0,o.$)(m);return a.createElement(a.Fragment,null,a.createElement(l.Y,{onPress:()=>{var e,n;(null===(e=f.current)||void 0===e?void 0:e.value)&&(f.current.value=""),null===(n=f.current)||void 0===n||n.click()}},c),a.createElement(r.p,{...h,type:"file",ref:f,style:{display:"none"},accept:null==d?void 0:d.toString(),onChange:e=>null==t?void 0:t(e.target.files),capture:u,multiple:s,webkitdirectory:p?"":void 0}))})}},e=>{var n=n=>e(e.s=n);e.O(0,[3346,6279,6892,5334,2944,8205,5039,6283,3426,8238,6306,1949,6019,5183,5567,9201,6593,636,8792],()=>n(59111)),_N_E=e.O()}]);
//# sourceMappingURL=replsDashboard-76d27d42e921614b.js.map